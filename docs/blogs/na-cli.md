# Node å‘½ä»¤è¡Œå·¥å…·è„šæ‰‹æ¶å®æˆ˜

## å‰è¨€

ã€Œè¿™æ˜¯æˆ‘å‚ä¸11æœˆæ›´æ–‡æŒ‘æˆ˜çš„ç¬¬ 1 å¤©ï¼Œæ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹ï¼š[2021æœ€åä¸€æ¬¡æ›´æ–‡æŒ‘æˆ˜](https://juejin.cn/post/7023643374569816095/)ã€

æœ€è¿‘å¼€å‘å°ç¨‹åºï¼Œè¿›è¡Œäº†ä¸ªé¦–é¡µæ”¹ç‰ˆï¼Œæ¶‰åŠåˆ°ä¸å°‘å›¾ç‰‡çš„æ›´æ–°ï¼Œç”±äºå›¾ç‰‡æ˜¯æ‰“åŒ…åœ¨é¡¹ç›®é‡Œçš„ï¼Œåœ¨ web å¼€å‘åœºæ™¯ï¼Œå‡å°‘ä»£ç ä½“ç§¯è™½ç„¶æ˜¯æ€§èƒ½ä¼˜åŒ–çš„ä¸€ä¸ªæ–¹å‘ï¼Œè¿˜æ²¡åˆ°é”±é“¢å¿…è¾ƒçš„ç¨‹åº¦ã€‚ä½†æ˜¯åœ¨å°ç¨‹åºåœºæ™¯ï¼Œç”±äºä»£ç åŒ…ä¸Šä¼ é˜¶æ®µé™åˆ¶äº†ä¸»åŒ… **2M **å’Œæ€»åŒ… **20M**ï¼Œè¶…è¿‡å°±ä¼šé¢ä¸´æ— æ³•å‘ç‰ˆçš„é£é™©ï¼Œä»£ç åŒ…ä½“ç§¯çš„ä¼˜åŒ–å°±å˜å¾—ç‰¹åˆ«é‡è¦ã€‚

ä¸€èˆ¬äº¤äº’è®¾è®¡å¸ˆè¾“å‡ºçš„å›¾ç‰‡æœ‰ 1xã€2xã€3x å€ï¼Œä½“ç§¯ç›¸å¯¹è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ https://tinypng.com/ ä¿è¯å›¾ç‰‡é«˜æ¸…çš„åŒæ—¶ï¼Œå°½é‡çš„å‡å°å›¾ç‰‡çš„ä½“ç§¯ã€‚

ä¸€ä¸ªä¸ªå»æ‹–æ‹½å‹ç¼©ã€æŸ¥çœ‹å‹ç¼©è´¨é‡ï¼Œè´¹æ—¶è´¹åŠ›ã€‚èƒ½å¦é€šè¿‡è‡ªåŠ¨å‹ç¼©å›¾ç‰‡æ¥è§£å†³å‘¢ï¼Ÿæœ¬æ–‡ä¼šä»¥å®ç°ä¸€ä¸ªè‡ªåŠ¨å‹ç¼©å›¾ç‰‡å‘½ä»¤æ¥å®ç°ä¸€ä¸ªå‘½ä»¤è¡Œè„šæ‰‹æ¶å·¥å…·ã€‚

- è‡ªåŠ¨å‹ç¼©å›¾ç‰‡è„šæœ¬
- å‘½ä»¤è¡Œå·¥å…·åº•ç›˜æ­å»º
- å‘å¸ƒ npm åŒ…ä¸å®‰è£…ä½¿ç”¨

## è‡ªåŠ¨å‹ç¼©å›¾ç‰‡è„šæœ¬

### éœ€æ±‚æè¿°

1. è¦èƒ½æŒ‰éœ€é€‰æ‹©å›¾ç‰‡å‹ç¼©ï¼Œå‹ç¼©åè¿”å›å‹ç¼©å¤§å°å’Œæ•°æ®ç­‰æŒ‡æ ‡ä¾›ä½¿ç”¨è€…æ£€æµ‹å›¾ç‰‡è´¨é‡ã€‚
2. å¿…è¦æ—¶ï¼Œå¯ä»¥æä¾› ui åœ¨çº¿é¢„è§ˆå›¾ç‰‡ã€‚

### æ€è·¯åˆ†æ

å¯ä»¥é‡‡ç”¨åœ¨çº¿å‹ç¼©æˆ–è€…æœ¬åœ°å‹ç¼©æ–¹å¼ï¼Œæ‰§è¡Œæ—¶æœºè®©å¼€å‘è€…è‡ªç”±é€‰æ‹©ã€‚æœ€å¼€å§‹ï¼Œæˆ‘æ€è€ƒçš„æ–¹å‘æ˜¯è€ƒè™‘å¯ä»¥åœ¨é¡¹ç›®æ‰“åŒ…çš„æ—¶å€™ï¼Œè‡ªåŠ¨å‹ç¼©é¡¹ç›®æ‰€æœ‰çš„å›¾ç‰‡ã€‚ç”±äºä½¿ç”¨çš„æ˜¯ taro é¡¹ç›®ï¼Œæš‚æ²¡æœ‰æ‰¾åˆ°ç›¸å…³æ–¹æ¡ˆã€‚å¹¶ä¸”è€ƒè™‘åˆ°ä»¥å‰åœ¨ pc é¡¹ç›®å¼•å…¥æ‰“åŒ…å‹ç¼©æ—¶è‡ªåŠ¨å‹ç¼©æ‰€æœ‰å›¾ç‰‡ï¼Œä¼šå¤§å¤§å¢åŠ é¡¹ç›®æ‰“åŒ…çš„æ—¶é—´ï¼Œä¾èµ–äº `imagemin`ã€`imagemin-jpegtran`ã€`imagemin-pngquant` å‡ ä¸ªåŒ…ï¼Œä½†æ˜¯åœ¨å®‰è£… `imagemin-pngquant`æ—¶ä¼šå®‰è£…ä¸äº†ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªåŸå› æ˜¯è¯´è¿™ä¸ªåº“æ˜¯åŸºäºä¸€äº›åº•å±‚è¯­è¨€å®ç°ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥å®‰è£…ï¼Œéœ€è¦åœ¨ç”µè„‘ä¸Šå®‰è£…å¦ä¸€ä¸ªä¾èµ– `libpng`ï¼Œéå¸¸éº»çƒ¦ã€‚

å› æ­¤æ¢äº†ä¸ªæ€è·¯ï¼Œç”±äºä¸€èˆ¬æ˜¯å¼€å‘æ–°åŠŸèƒ½æ—¶æ·»åŠ æ–°çš„å›¾ç‰‡ï¼Œéœ€è¦è¿›è¡Œå‹ç¼©ã€‚é‚£ä¹ˆå¯ä»¥æä¾›ä¸€ä¸ªè‡ªåŠ¨å‹ç¼©è„šæœ¬ï¼Œè‡ªåŠ¨å‹ç¼©å¼€å‘è€…é€‰æ‹©çš„å›¾ç‰‡ã€‚è‡ªåŠ¨å‹ç¼©è„šæœ¬å¯ä»¥é‡‡ç”¨æœ¬åœ°å‹ç¼©æˆ–åœ¨çº¿å‹ç¼©ï¼Œæœ¬æ–‡ä¸»è¦è®²åœ¨çº¿å‹ç¼©ï¼Œè‡ªåŠ¨å‘èµ·è¯·æ±‚åˆ° https://tinypng.com/ å‹ç¼©å›¾ç‰‡ã€‚

### ä»£ç å®ç°

1. å…¨å±€é…ç½®ï¼Œé…ç½®çš„ EntryFolder åé¢é€šè¿‡å‘½ä»¤è¡Œè¾“å…¥è·å–ã€‚

```js
const tinyConfig = {
  files: [],
  entry: '',
  deepLoop: false, // æ˜¯å¦é€’å½’å¤„ç†
  replace: false, // æ˜¯å¦è¦†ç›–æºæ–‡ä»¶
  Exts: ['.jpg', '.png', 'jpeg'],
  Max: 5120000 // 5MB
}
```

2. è¯»å–æœ¬åœ°å›¾ç‰‡ï¼Œä¼šå¯¹ä¸€äº›éå›¾ç‰‡åç¼€çš„æ–‡ä»¶è¿›è¡Œè¿‡æ»¤ã€‚

```js
/**
 * è¿‡æ»¤å¾…å¤„ç†æ–‡ä»¶å¤¹ï¼Œå¾—åˆ°å¾…å¤„ç†æ–‡ä»¶åˆ—è¡¨
 */
function fileFilter(sourcePath) {
  const fileStat = fs.statSync(sourcePath)
  if (fileStat.isDirectory()) {
    fs.readdirSync(sourcePath).forEach((file) => {
      const fullFilePath = path.join(sourcePath, file)
      // è¯»å–æ–‡ä»¶ä¿¡æ¯
      const fileStat = fs.statSync(fullFilePath)
      // è¿‡æ»¤å¤§å°ã€åç¼€å
      if (
        fileStat.size <= tinyConfig.max &&
        fileStat.isFile() &&
        tinyConfig.exts.includes(path.extname(file))
      ) {
        tinyConfig.files.push(fullFilePath)
      } else if (tinyConfig.deepLoop && fileStat.isDirectory()) {
        // æ˜¯å¦è¦æ·±åº¦é€’å½’
        fileFilter(fullFilePath)
      }
    })
  } else {
    if (
      fileStat.size <= tinyConfig.max &&
      fileStat.isFile() &&
      tinyConfig.exts.includes(path.extname(sourcePath))
    ) {
      tinyConfig.files.push(sourcePath)
    }
  }
}
```

3. ä¸Šä¼ å›¾ç‰‡ï¼Œå¯ä»¥æ‰‹åŠ¨ä¸Šä¼ ä¸€å¼ å›¾ç‰‡åˆ° tinyPng ç½‘ç«™ï¼Œç„¶åæŸ¥çœ‹ NetWork çš„è¯·æ±‚å“åº”æŠ¥æ–‡ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ è¿™æ ·çš„è¯·æ±‚æŠ¥æ–‡æ¥å®ç°è‡ªåŠ¨åŒ–è„šæœ¬å¤„ç†ã€‚

```js
/**
 * Tiny è¿œç¨‹å‹ç¼© HTTPS è¯·æ±‚çš„é…ç½®ï¼Œæ„é€ æµè§ˆå™¨è¯·æ±‚ä¿¡æ¯
 */
function getAjaxOptions() {
  return {
    method: 'POST',
    hostname: 'tinypng.com',
    path: '/web/shrink',
    headers: {
      rejectUnauthorized: false,
      'X-Forwarded-For': Array(4).fill(1).map(() => parseInt(Math.random() * 254) + 1).join('.'), // ä¼ªé€ éšæœº ipï¼Œé¿å…é™åˆ¶
      'Postman-Token': Date.now(),
      'Cache-control': 'no-cache',
      'Content-type': 'application/x-www-form-urlencoded',
      'User-Agent': 'Mozilla/5.0 (Window NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36'

    }
  }
}

/**
 * TinyPng è¿œç¨‹å‹ç¼© HTTPS è¯·æ±‚
 * success {
 *   "input": { "size": 887, "type": "image/png"},
 *   "output": {
 *     "size": 785, "type": "image/png", "width": 81, "height": 81, "ratio": 0.885,
 *     "url": "https://tinypng.com/web/output/xxx"
 *   }
 * }
 */
function fileUpload(imgPath) {
  const req = https.request(getAjaxOptions(), (res) => {
    res.on('data', (buf) => {
      const obj = JSON.parse(buf.toString())
      if (obj.error) {
        console.log(`å‹ç¼©å¤±è´¥! \n å½“å‰æ–‡ä»¶ï¼š${imgPath} \n ${obj.message}`)
      } else {
        fileUpdate(imgPath, obj) // æ›´æ–°æ–‡ä»¶åˆ°æœ¬åœ°
      }
    })
  })
  req.write(fs.readFileSync(imgPath), 'binary')
  req.on('error', (err) => {
    console.error(`è¯·æ±‚é”™è¯¯ \n å½“å‰æ–‡ä»¶ï¼š${imgPath} \n ${err}`)
  })
  req.end()
}
```

4. è·å¾—å‹ç¼©åçš„å›¾ç‰‡ï¼Œå†™åˆ°æœ¬åœ°ç£ç›˜ä¸­ã€‚

```js
/**
 * è¯·æ±‚å‹ç¼©å¥½çš„å›¾ç‰‡ï¼Œæ›´æ–°åˆ°æœ¬åœ°è·¯å¾„
 */
function fileUpdate(entryImgPath, obj) {
  const url = new URL(obj.output.url)
  const req = https.request(url, (res) => {
    let body = ''
    res.setEncoding('binary')
    res.on('data', (data) => {
      body += data
    })
    res.on('end', () => {
      const [filename, extendsion] = entryImgPath.split('.')
      if (!tinyConfig.replace) {
        // æ˜¯å¦è¦†ç›–æºæ–‡ä»¶
        entryImgPath = filename + '_tiny' + '.' + extendsion
      }
      fs.writeFile(entryImgPath, body, 'binary', (err) => {
        if (err) return console.log(err)
        let log = 'å‹ç¼©æˆåŠŸï¼š'
        log += `ä¼˜åŒ–æ¯”ä¾‹ï¼š${((1 - obj.output.ratio) * 100).toFixed(2)}%ï¼Œ`
        log += `åŸå§‹å¤§å°ï¼š${(obj.input.size / 1024).toFixed(2)}KBï¼Œ`
        log += `å‹ç¼©å¤§å°ï¼š${(obj.output.size / 1024).toFixed(2)}KBï¼Œ`
        log += `æ–‡ä»¶ï¼š${entryImgPath}`
        console.log(log)
      })
    })
  })
  req.on('error', (e) => console.log(e))
  req.end()
}
```

è‡ªåŠ¨å‹ç¼©å›¾ç‰‡è„šæœ¬å†™å¥½äº†ï¼Œå¯ä»¥å…ˆå†™æ­» tinyConfig çš„è¯»å–å›¾ç‰‡æ–‡ä»¶å¤¹è·¯å¾„ï¼Œç„¶åé€šè¿‡ `node index.js` è¿›è¡Œæµ‹è¯•ã€‚

```js
tinyConfig.entry = './tests/'
fileFilter(tinyConfig.entry)
tinyConfig.files.forEach((img) => fileUpload(img))
```

è„šæœ¬æµ‹è¯•æ²¡é—®é¢˜åï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡å‘½ä»¤è¡Œé€‰æ‹©å‹ç¼©çš„å›¾ç‰‡è·¯å¾„ã€‚

## å‘½ä»¤è¡Œå·¥å…·åº•ç›˜æ­å»º

### è®¤è¯†å‘½ä»¤è¡Œå·¥å…·

å‘½ä»¤è¡Œå·¥å…·è¿è¡Œåœ¨ç»ˆç«¯ä¸Šï¼Œæ¯”å¦‚ mac çš„ shell æ˜¯ç³»ç»Ÿçš„ç”¨æˆ·ç•Œé¢ï¼Œæä¾›äº†ç”¨æˆ·ä¸å†…æ ¸è¿›è¡Œäº¤äº’æ“ä½œçš„ä¸€ç§æ¥å£ï¼ˆå‘½ä»¤è§£é‡Šå™¨ï¼‰

Shell å¯ä»¥æ‰§è¡Œ

- å†…éƒ¨å‘½ä»¤
- åº”ç”¨ç¨‹åº
- shell è„šæœ¬

ç”¨æˆ·è¾“å…¥å‘½ä»¤ -> æäº¤ç»™ Shell - > æ˜¯å¦ä¸ºå†…ç½®å‘½ä»¤ -> åœ¨ç³»ç»Ÿä¸­æŸ¥æ‰¾è¯¥å‘½ä»¤çš„æ–‡ä»¶å¹¶è°ƒå…¥å†…å­˜æ‰§è¡Œ -> å†…æ ¸ä¸­çš„ç³»ç»ŸåŠŸèƒ½è°ƒç”¨ã€‚

åœ¨ Linux ä¸­ï¼Œ**å¯æ‰§è¡Œçš„æ–‡ä»¶**ä¹Ÿè¿›è¡Œäº†åˆ†ç±»ï¼š

- **å†…ç½®å‘½ä»¤**ï¼šå‡ºäºæ•ˆç‡çš„è€ƒè™‘ï¼Œå°†ä¸€äº›å¸¸ç”¨å‘½ä»¤çš„è§£é‡Šç¨‹åº**æ„é€ åœ¨ Shell å†…éƒ¨**ã€‚

- **å¤–ç½®å‘½ä»¤**ï¼šå­˜æ”¾åœ¨ /binã€/sbin ç›®å½•ä¸‹çš„å‘½ä»¤ã€‚

- **å®ç”¨ç¨‹åº**ï¼šå­˜æ”¾åœ¨ /usr/binã€/usr/sbinã€/usr/shareã€/usr/local/bin ç­‰ç›®å½•ä¸‹çš„å®ç”¨ç¨‹åºã€‚

- **ç”¨æˆ·ç¨‹åº**ï¼šç”¨æˆ·ç¨‹åºç»è¿‡ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶åï¼Œå¯ä½œä¸º Shell å‘½ä»¤è¿è¡Œ
-  **Shell è„šæœ¬**ï¼šç”± Shell è¯­è¨€ç¼–å†™çš„æ‰¹å¤„ç†æ–‡ä»¶ï¼Œå¯ä½œä¸º Shell å‘½ä»¤è¿è¡Œã€‚

ä»¥ä¸Šéƒ½å¯ä»¥ç§°ä¸ºå‘½ä»¤è¡Œå·¥å…·ã€‚æ¯”å¦‚ clearã€lsã€pwd è¿™äº›èƒ½å¤Ÿã€Œåœ¨ç»ˆç«¯æ‰§è¡Œçš„ç³»ç»Ÿå‘½ä»¤ã€ï¼Œè¢«ç§°ä¸ºç³»ç»Ÿå†…ç½®å‘½ä»¤ã€‚å¯ä»¥ä½¿ç”¨ `which` æŸ¥çœ‹å®ƒä»¬çš„æ¥æºï¼š

```shell
$ which clear
/usr/bin/clear

$ which vue # vue cli è„šæ‰‹æ¶
/usr/local/bin/vue
```

ä½¿ç”¨  `ls -lah $(which vue)` è¿›ä¸€æ­¥è§£æå‘½ä»¤ï¼š

```sh
$  ls -lah $(which vue)
lrwxr-xr-x  1 naluduo233  admin    65B  9 27 15:13 /usr/local/bin/vue -> ../../../Users/naluduo233/.config/yarn/global/node_modules/.bin/vue
```

å¯ä»¥çœ‹åˆ° `/usr/local/bin/vue` çš„çœŸæ­£æ‰§è¡Œå‘½ä»¤æ˜¯æŒ‡å‘ yarn ä¸‹å®‰è£…çš„ç›®å½• `.bin/vue`ï¼Œ

è€Œè¿™äº› `/usr/local/bin`  ç›®å½•åœ¨ç¯å¢ƒå˜é‡ PATH ä¸­ï¼Œ**ã€Œåœ¨ç¯å¢ƒå˜é‡çš„PATH ä¸­è·¯å¾„çš„å‘½ä»¤å¯åœ¨ shell ç»ˆç«¯ ä»»æ„åœ°æ–¹æ‰§è¡Œã€**ã€‚

ç”±æ­¤å¾—å‡º Node å…¨å±€å‘½ä»¤è¡Œçš„åŸç†: ã€Œç¯å¢ƒå˜ Pathã€+ ã€Œç¬¦å·é“¾æ¥ã€

1. npm å…¨å±€ä¸‹è½½æŸä¸ª package åˆ°è·¯å¾„ `/usr/local/lib/node_modules` ä¸‹ (yarn åŒç†ï¼Œå¯¹åº”è·¯å¾„ `~/.config/yarn/global/node_modules`)
2. æ ¹æ®è¯¥åº“çš„ package.json ä¸­ `bin` å­—æ®µçš„æŒ‡ç¤ºï¼ŒæŠŠå¯¹åº”çš„å‘½ä»¤è¡Œè·¯å¾„é€šè¿‡ç¬¦å·ç´¢å¼•æŒ‚è½½åˆ° PATH è·¯å¾„
3. å¯¹åº”çš„äºŒè¿›åˆ¶è„šæœ¬æ·»åŠ  x æƒé™ (å¯æ‰§è¡Œæ–‡ä»¶æƒé™)

### æ„å»º Node å‘½ä»¤è¡Œå·¥å…·åº•ç›˜

1. é¦–å…ˆå»ºç«‹å…¥å£æ–‡ä»¶ï¼Œindex.jsï¼Œå¹¶åœ¨ package.json ä¸­å£°æ˜

```json
{
  "bin": {
    "naluduo": "./bin/naluduo.js" // åœ¨ ã€Œpackage.json ä¸­çš„ bin å­—æ®µã€ï¼Œç”¨ä»¥æŒ‡å®šæœ€ç»ˆçš„å‘½ä»¤è¡Œå·¥å…·çš„åå­—
  }
}

```

2. åœ¨ `naluduo.js` æŒ‡æ˜æ‰§è¡Œç¯å¢ƒï¼Œé¦–è¡Œæ·»åŠ ä¸€è¡Œè¯´æ˜ï¼Œä½¿ç”¨ node è§£é‡Šå™¨æ¥æ‰§è¡Œè¿™ä¸ªè„šæœ¬ï¼Œè€Œé€šè¿‡ env node èƒ½å¤Ÿæ­£ç¡®å®šä½åˆ° node è§£é‡Šå™¨çš„ä½ç½®ã€‚

```js
#!/usr/bin/env node  
```

3. å‰é¢è¯´åˆ°éœ€è¦å…¨å±€å®‰è£…åŒ…åˆ°æœ¬åœ°ï¼Œç”±äºæˆ‘ä»¬è¿™ä¸ªåŒ…è¿˜æ²¡å‘å¸ƒï¼Œä¸”éœ€è¦åœ¨æœ¬åœ°è°ƒè¯•ã€‚

   å¯ä»¥è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œ `yarn link` æ ¹æ®è¯¥åŒ…ä½¿ç”¨è¿™ä¸ªåŒ…çš„ `package.json` è¿›è¡Œå…¨å±€è½¯é“¾æ¥ã€‚

```sh
yarn link
```

4. ç„¶åå¯ä»¥æŸ¥çœ‹ï¼Œnaluduo å·²ç»æ”¾ç½®åœ¨ `/usr/local/bin` ä¸‹ã€‚

```sh
$ which naluduo
/usr/local/bin/naluduo
$ ls -lah $(which naluduo)
lrwxr-xr-x  1 naluduo233  admin    65B 10 31 23:36 /usr/local/bin/naluduo -> ../../../Users/naluduo233/.config/yarn/link/nalu-cli/bin/naluduo.js
```

å¯ä»¥çœ‹åˆ° `yarn link`æŠŠé¡¹ç›®å¤åˆ¶åˆ° yarn çš„ é…ç½®ä¸‹ï¼Œå¹¶ä¸”åšå¥½ç›¸å…³çš„è½¯é“¾æ¥ï¼Œ`/usr/local/bin` ä¸‹ç›®å½•ä¸‹çš„è„šæœ¬å¯ä»¥åœ¨ shell ç»ˆç«¯ä»»æ„åœ°æ–¹è¢«è§£ææ‰§è¡Œã€‚

```sh
naluduo 
```

ç›´æ¥è¿è¡Œå‘½ä»¤ï¼Œä¼šæ‰§è¡Œæˆ‘ä»¬å†™å¥½çš„è„šæ­¥æ–‡ä»¶ã€‚

### è§£æç”¨æˆ·å…¥å£å‘½ä»¤ï¼Œæ·»åŠ è‡ªåŠ¨å‹ç¼©å›¾ç‰‡å‘½ä»¤

ç°åœ¨è®©æˆ‘ä»¬æ·»åŠ è‡ªåŠ¨å‹ç¼©å›¾ç‰‡å‘½ä»¤ï¼Œå¸Œæœ›è¿™æ ·æ‰§è¡Œï¼š

```sh
naluduo tinyimg -r -d  # -rï¼Œreplace æ˜¯å¦æ›¿æ¢æºæ–‡ä»¶ã€-dï¼Œdeep æ˜¯å¦é€’å½’å¤„ç†æ–‡ä»¶å¤¹
```

ç„¶åè¿›å…¥é€‰æ‹©è¦å‹ç¼©çš„å›¾ç‰‡æ–‡ä»¶å¤¹æˆ–å›¾ç‰‡è·¯å¾„ï¼Œé€‰ä¸­åå³å¯è¿›å…¥è‡ªåŠ¨å‹ç¼©å›¾ç‰‡ç¯èŠ‚ã€‚

ç°åœ¨è¦è§£å†³çš„é—®é¢˜ï¼Œæ˜¯**è§£æç”¨æˆ·è¾“å…¥å‘½ä»¤**ï¼Œé€šè¿‡ **process.argv** å¯è·å–ç”¨æˆ·è¾“å…¥ï¼š

```sh
$ node cmd.js 1 2 3

// Output: [
//   '/usr/local/bin/node',
//   '/Users/shanyue/cmd.js',
//   '1',
//   '2',
//   '3',
// ]

```

æ ¹æ®è§£æ **process.argv** å¯ä»¥å®šåˆ¶æ ¼å¼æ¥è·å–å„å¼å„æ ·çš„å‚æ•°ä½œä¸ºå‘½ä»¤è¡Œçš„è¾“å…¥ã€‚è§£æå‚æ•°å‚ç…§ POSIX å…¼å®¹çš„åŸºæœ¬è§„å¾‹: æ ¼å¼ã€å¯é€‰ã€å¿…é€‰ã€ç®€å†™ã€è¯´æ˜ã€å¸®åŠ©ç­‰ç­‰ã€‚

ä¸ºå¿«é€Ÿå®ç°å¼€å‘ï¼Œè¿™é‡Œä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ `commander` ï¼Œ`yarn add commander --dev`ï¼Œç„¶åç¼–å†™å…¥å£æ–‡ä»¶

```js
const { Command } = require('commander')
const program = new Command()
+ const { tinyimg } = require('./commands/tinyimg')

program
  .command('tinyimg')
  .description('å‹ç¼©å›¾ç‰‡')
  .option('-d, --deep', 'æ˜¯å¦é€’å½’å¤„ç†å›¾ç‰‡æ–‡ä»¶å¤¹', false)
  .option('-r, --replace', 'æ˜¯å¦è¦†ç›–æºæ–‡ä»¶', false)
  .action((commandAndOptions) => { // å‚æ•°ä¸º option å¯¹è±¡
    tinyimg(commandAndOptions)
  })

program.version('0.1.0') // è®¾ç½®äº†ç‰ˆæœ¬åï¼Œå‘½ä»¤è¡Œä¼šè¾“å‡ºå½“å‰çš„ç‰ˆæœ¬å·
program.parse(process.argv) // è§£æå‘½ä»¤è¡Œè¾“å…¥çš„å‚æ•°
```


ç°åœ¨å¯ä»¥è¾“å…¥  `naluduo ` è¿›è¡Œæµ‹è¯•ï¼š

```sh
$ naluduo
Usage: naluduo [options] [command]

Options:
  -V, --version      output the version number
  -h, --help         display help for command

Commands:
  tinyimg [options]  å‹ç¼©å›¾ç‰‡
  help [command]     display help for command
```

æ‰§è¡Œ `naluduo tinyimg -d -r`ï¼Œå¯ä»¥è·å¾—çš„`commandAndOptions` å¯¹è±¡ä¸ºï¼š

```js
{
  deepLoop: true,
  replace: true
}
```

å®Œæˆå›¾ç‰‡å‘½ä»¤çš„å¼•å…¥åï¼Œæ¥ä¸‹æ¥è¦åšçš„äº‹æƒ…æ˜¯ï¼Œè®©ç”¨æˆ·é€‰æ‹©è¦å‹ç¼©çš„å›¾ç‰‡è·¯å¾„ï¼Œç„¶åä¼ å…¥ tinyimg è„šæœ¬ã€‚

### æ·»åŠ å¯äº¤äº’æ€§ï¼Œè®©ç”¨æˆ·é€‰æ‹©è¦å‹ç¼©çš„å›¾ç‰‡è·¯å¾„

åœ¨ Web ä¸­ï¼Œå¯ä½¿ç”¨ Input æ¥å±•ç°ä¸°å¯Œå¤šå½©çš„è¡¨å•ï¼Œå¦‚å¼€å…³ã€å¤šé€‰ã€å•é€‰ã€è¾“å…¥æ¡†ç­‰ã€‚è€Œåœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­ï¼Œä¹Ÿå¯å€Ÿç”¨å¤šç§åº“æ¥å®ç°å¼ºäº¤äº’æ€§ã€‚

naluduo233 ä¸»è¦ä½¿ç”¨ [Inquirer.js](https://www.npmjs.com/package/inquirer) åº“å’Œå®ƒçš„æ’ä»¶ [inquirer-file-tree-selection-prompt](https://www.npmjs.com/package/inquirer-file-tree-selection-prompt) å®ç°ç”¨æˆ·è‡ªå®šä¹‰é€‰æ‹©å›¾ç‰‡è·¯å¾„ã€‚

```sh
yarn add inquirer inquirer-file-tree-selection-prompt --dev
```

ç°åœ¨æ”¹é€ è‡ªåŠ¨å‹ç¼©å›¾ç‰‡è„šæœ¬ï¼Œæ¥æ”¶ä»å‘½ä»¤è¡Œè¾“å…¥çš„å‚æ•°å³å¯ã€‚

```js
const inquirer = require('inquirer')
const inquirerFileTreeSelection = require('inquirer-file-tree-selection-prompt')

inquirer.registerPrompt('file-tree-selection', inquirerFileTreeSelection)

exports.tinyimg = async (commandAndOptions) => {
  const answer = await inquirer.prompt([
    {
      name: 'path', // é”®
      type: 'file-tree-selection',
      message: '(å¿…é€‰) å‹ç¼©çš„å›¾ç‰‡æ–‡ä»¶å¤¹è·¯å¾„/æ–‡ä»¶'
    }
  ])
  const { path } = answer

  tinyConfig.entry = path
  tinyConfig.replace = commandAndOptions && commandAndOptions.replace
  tinyConfig.deepLoop = commandAndOptions && commandAndOptions.deepLoop

  fileFilter(tinyConfig.entry)
  console.log('æœ¬æ¬¡æ‰§è¡Œè„šæœ¬çš„é…ç½®ï¼š', tinyConfig)
  console.log('ç­‰å¾…å¤„ç†æ–‡ä»¶çš„æ•°é‡ï¼š', tinyConfig.files.length)
  tinyConfig.files.forEach((img) => fileUpload(img))
}

```

æœ€ç»ˆï¼Œå®ç°çš„æ•ˆæœå¦‚ä¸‹ï¼š

```sh
$ naluduo tinyimg -r -d
? (å¿…é€‰) å‹ç¼©çš„å›¾ç‰‡æ–‡ä»¶å¤¹è·¯å¾„/æ–‡ä»¶ 
  â†“ .(root directory)/
    â†’ .git/
      .gitignore
      README.md
    â†’ bin/
    â†’ node_modules/
      package-lock.json
      package.json
    â†’ src/
    â†’ tests/
(Move up and down to reveal more choices)
```

é€‰ä¸­ tests æ–‡ä»¶å¤¹ï¼š

```sh
$ naluduo tinyimg
? (å¿…é€‰) å‹ç¼©çš„å›¾ç‰‡æ–‡ä»¶å¤¹è·¯å¾„/æ–‡ä»¶ ~/Documents/develop/nalu-cli/tests
æœ¬æ¬¡æ‰§è¡Œè„šæœ¬çš„é…ç½®ï¼š {
  files: [],
  entry: '~/Documents/develop/nalu-cli/tests',
  deepLoop: undefined,
  replace: false,
  exts: [ '.jpg', '.png', '.jpeg' ],
  max: 5120000
}
ç­‰å¾…å¤„ç†æ–‡ä»¶çš„æ•°é‡ï¼š 3
```

è‡ªåŠ¨å‹ç¼©å›¾ç‰‡å‹ç¼©ç‡äº§é«˜ï¼Œä½†æ˜¯ä¹Ÿä¼šé‡åˆ°å‹ç¼©çš„è´¨é‡ä¸å¥½ï¼Œè¿™æ—¶å€™å¯ä»¥è€ƒè™‘ä½¿ç”¨ PhotoShop è‡ªå·±æ‰‹åŠ¨æ£€æŸ¥å›¾ç‰‡è´¨é‡ä½œä¸ºå…œåº•æ–¹æ¡ˆã€‚

## å‘å¸ƒ npm åŒ…ä¸å®‰è£…ä½¿ç”¨

ç°åœ¨æœ¬åœ°å†™å®Œå‘½ä»¤è¡Œå·¥å…·äº†ï¼Œå¯ä»¥å‘å¸ƒåˆ° npm ä»“åº“ä¸Šï¼Œè¿™æ ·æ‰€æœ‰äººéƒ½å¯ä»¥ä½¿ç”¨ä½ çš„å‘½ä»¤è¡Œå·¥å…·ã€‚è®©æˆ‘ä»¬å…ˆç»™ package.json è¡¥å……å‘å¸ƒçš„é…ç½®ï¼š 

```json
{
  "name": "nalu-cli", // æŒ‡å®šåŒ…åï¼Œå‘å¸ƒä¹‹å‰éƒ½è¦å»NPM å®˜ç½‘ä¸Šæœç´¢ä¸€éï¼Œç¡®è®¤æƒ³è¦ä½¿ç”¨çš„åŒ…åï¼Œæ˜¯å¦å·²ç»è¢«å ç”¨ã€‚
  "version": "0.1.0",
  "main": "src/index.js", // æŒ‡å®šåŒ…çš„å…¥å£æ–‡ä»¶
  "private": false,
  "bin": {
    "naluduo": "./bin/naluduo.js"
  }
}
```

ç„¶åè¿›è¡Œç™»å½•å’Œå‘å¸ƒï¼Œæ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ æ˜¯æ–°ç”¨æˆ·ï¼Œä¸€å®šè¦ç‚¹å‡»æ¿€æ´» npm å‘é€ç»™ä½ çš„é‚®ä»¶ï¼Œå¦åˆ™å‘åŒ…ä¼šå‡ºç° 403 é”™è¯¯ã€‚æ¿€æ´»åï¼Œè¦é‡æ–°ç™»å½•ï¼Œé‡æ–°å‘å¸ƒã€‚

```sh
$ npm login # è¿›è¡Œç™»å½•
Username: xxx
Password: 
Email: (this IS public) xxx
Logged in as naluduo233 on xxx

$ npm publish 
npm notice 
npm notice ğŸ“¦  nalu-cli@0.1.0
npm notice === Tarball Contents === 
npm notice 435B  src/index.js           
npm notice 47B   bin/naluduo.js         
npm notice 4.6kB src/commands/tinyimg.js
npm notice 455B  package.json           
npm notice 75B   README.md              
npm notice === Tarball Details === 
npm notice name:          nalu-cli                                
npm notice version:       0.1.0                                   
npm notice package size:  2.7 kB                                  
npm notice unpacked size: 5.6 kB                                  
npm notice shasum:        4f71dd896bac28c4c1b284975d4df1c737e43292
npm notice integrity:     sha512-+NkZL5w0VFAGB[...]ODzboPWQ4Q7FA==
npm notice total files:   5                                       
npm notice 
+ nalu-cli@0.1.0
```

å‘å¸ƒæˆåŠŸåï¼Œä¸‹è½½å‘½ä»¤è¡Œå·¥å…·ï¼Œå³å¯ä½¿ç”¨æµ‹è¯•ã€‚ä¹Ÿå¯ä»¥ç›´æ¥ `npx naluduo tiny` çš„æ–¹å¼è¿›è¡Œè°ƒç”¨ã€‚

```sh
$ npm i -g naluduo
```

**è¿™é‡Œè¸©äº†ä¸ªå‘ï¼Œæ‰§è¡Œ naluduo å‘½ä»¤æ—¶å‘ç°æŠ¥é”™ï¼Œæ‰¾ä¸åˆ° commander**ã€‚

```sh
$ naluduo 
Error: Cannot find module 'commander'
Require stack:
- /Users/kayliang/.nvm/versions/node/v14.17.5/lib/node_modules/nalu-cli/src/index.js
- /Users/kayliang/.nvm/versions/node/v14.17.5/lib/node_modules/nalu-cli/bin/naluduo.js
```

æŸ¥çœ‹å¯¹åº”çš„æ–‡ä»¶ nalu-cliåï¼Œå‘ç°æ²¡æœ‰ node_modules åŒ…ï¼ŒæŸ¥çœ‹ package.json å‘ç°ï¼š

```json
 "devDependencies": {
    "commander": "^8.3.0",
    "inquirer": "^8.2.0",
    "inquirer-file-tree-selection-prompt": "^1.0.13"
 }
```

ä¾èµ–åŒ…éƒ½æ”¾åœ¨ `devDependencies` ä¸Šäº†ï¼Œå¹³æ—¶å†™é¡¹ç›®ä»£ç æ—¶ï¼Œ`devDependencies` å’Œ `dependencies` æ²¡æœ‰å·®åˆ«ï¼Œä½†æ˜¯å¦‚æœå‘å¸ƒåº“å’ŒåŒ…å°±è¦ä¸¥æ ¼åŒºåˆ†å¼€æ¥ã€‚å¦åˆ™å£°æ˜åœ¨ `devDependencies` çš„åŒ…ä¸ä¼šè¢«å®‰è£…ã€‚

## å°ç»“

æœ¬æ–‡ä¸»è¦ä»è‡ªåŠ¨å‹ç¼©å›¾ç‰‡éœ€æ±‚å…¥æ‰‹ï¼Œç„¶åä¸€æ­¥æ­¥æ„å»ºä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œæˆ‘ä»¬ä¸»è¦å­¦ä¹ åˆ°äº†ï¼š

- å…¨å±€å¯æ‰§è¡Œçš„å‘½ä»¤è¡Œå·¥å…·åŸç†
- ä½¿ç”¨ Node å¦‚ä½•å¼€å‘ä¸€ä¸ªå‘½ä»¤å·¥å…·
- ä»¥åŠå¦‚ä½•å‘å¸ƒ npm åŒ…ä»¥åŠä½¿ç”¨

å½“ç„¶ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå¼€å§‹ï¼Œå¾ˆå¤šè„šæœ¬æˆ‘ä»¬éƒ½å¯ä»¥å°è£…æˆå‘½ä»¤æ¥ä½¿ç”¨ã€‚

> ä»£ç åœ°å€ https://github.com/naluduo233/nalu-cli
> æŒç»­æ›´æ–°...

### **æ”¯æŒå¤šé€‰å›¾ç‰‡ã€TODOã€‘ï¼Œæ”¹é€  file-tree**å¤„ç†



æ€ä¹ˆåŒºåˆ†ï¼Œæœ¬åœ° `yarn link` çš„åŒ…ä»¥åŠå…¨å±€ä¸‹è½½çš„åŒ…å‘¢ï¼Ÿ

### rollup æ‰“åŒ…æºæ–‡ä»¶ï¼Œè¾“å‡ºæœ€ç»ˆå¯æ‰§è¡Œæ–‡ä»¶ã€é’ˆå¯¹ tsã€ç­‰ã€‘

ã€ä»å‰é¢å¯çŸ¥ï¼Œå‘½ä»¤è¡Œå·¥å…·ä¾èµ–çš„ä¸ä»…ä»…æ˜¯ nodeï¼Œè¿˜ä¾èµ– `commander` ã€`inquirer` ç­‰å®‰è£…åŒ…ï¼Œå¦‚æœæˆ‘ä»¬ä¸è¿›è¡Œæ‰“åŒ…ï¼Œç›´æ¥æŠŠæºæ–‡ä»¶å‘å¸ƒåˆ° npm ä¸Šã€‚è¿™ä¸ªæ—¶å€™å¦‚æœåˆ«äºº `npm i -g nalu-cli` çš„è¯ï¼Œæ‰§è¡Œ `naluduo` æ—¶å°±ä¼šæŠ¥é”™ï¼Œæ‰¾ä¸åˆ°ç›¸å…³çš„ä¾èµ–åŒ…ã€‚ä¸å¯èƒ½è¦æ±‚ç”¨æˆ·éƒ½å®‰è£…äº†ä½ æƒ³è¦çš„ä¾èµ–åŒ…ã€‚ã€‘ã€ä¸éœ€è¦ï¼Œé€šè¿‡æŸ¥çœ‹å…¶ä»–çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå…¨å±€æŒ‰ç…§çš„åŒ…ï¼Œå®ƒçš„ä¾èµ–åŒ…ä¼šè‡ªåŠ¨å®‰è£…åˆ° node_modules æ–‡ä»¶å¤¹é‡Œï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘çš„åŒ…ï¼Œä¸ä¼šè‡ªåŠ¨ä¸‹è½½ã€‚ã€‘

å› æ­¤æˆ‘ä»¬éœ€è¦å¼•å…¥æ‰“åŒ…å·¥å…·ï¼ŒæŠŠä¾èµ–åˆ°çš„è„šæœ¬æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œè¿˜æœ‰æˆ‘ä»¬å°½é‡ä¿è¯å‘½ä»¤è¡Œå·¥å…·åŒ…çš„å¤§å°ï¼Œæ‰€ä»¥è¦è¿›è¡Œå‹ç¼©ï¼Œéƒ½å¯ä»¥äº¤ç»™ rollup æ¥åšã€‚

å®‰è£… `rollup` å’Œ `rollup-plugin-terser`ï¼Œé…ç½®å¦‚ä¸‹ï¼š

```js
import { terser } from 'rollup-plugin-terser'

// `npm run build` -> `production` is true
// `npm run dev` -> `production` is false
const production = !process.env.ROLLUP_WATCH

export default {
  input: 'src/index.js',
  output: {
    file: 'dist/index.js',
    format: 'cjs',
  },
  plugins: [
    production && terser() // minify, but only in production
  ]
}
```

æ·»åŠ æ‰“åŒ…å’Œè°ƒè¯•å‘½ä»¤ï¼š

```json
{  
  "scripts": {
    "build": "rollup -c",
    "watch": "rollup -c -w"
	}
}
```

ä¿®æ”¹ `bin/naluduo.js` çš„å¼•ç”¨ï¼š

```diff
#!/usr/bin/env node 
- require('../src/index.js')
+ require('../dist/index.js')
```

### è°ƒè¯•ä¹æ³•å‘½ä»¤ã€TODOã€‘

## æ·»åŠ å­—ä½“è½¬æ¢å‘½ä»¤ã€TODOã€‘

ã€æ›´æ–°äºã€‘

## æ·»åŠ è‡ªåŠ¨å‡çº§å‘½ä»¤ã€TODOã€‘



## å‚è€ƒèµ„æ–™

- [ä½¿ç”¨ Nodeï¼Œå¦‚ä½•åˆ¶ä½œä¸€ä¸ªä¸“ä¸šçš„å‘½ä»¤è¡Œå·¥å…·ï¼Ÿ](https://mp.weixin.qq.com/s/rUqUdugIY4pNMndrILCsnQ)
- [ã€Šå¤§å‰ç«¯è¿›é˜¶ Node.jsã€‹ç³»åˆ— P6å¿…å¤‡è„šæ‰‹æ¶/CIæ„å»ºèƒ½åŠ›ï¼ˆä¸‹ï¼‰](https://juejin.cn/post/6844904111263973384)
- [å‰ç«¯è„šæ‰‹æ¶æ­å»ºï¼ˆä¸€ï¼‰nodeå…¨å±€å‘½ä»¤å’Œè°ƒè¯•æ–¹å¼](https://juejin.cn/post/6844903892090634247)
- [NodeJs äº¤äº’å¼å‘½ä»¤è¡Œå·¥å…· Inquirer.jså¼€ç®±æŒ‡å—](https://juejin.cn/entry/6844903480700698638 )
- [node å…¨è‡ªåŠ¨ä½¿ç”¨ Tinypng](https://segmentfault.com/a/1190000015467084)

å¯¹äºä¸€äº›æ¯”è¾ƒç«çš„åŒ…ï¼Œä¹Ÿå¯ä»¥æŠŠå¯¹åº”çš„è„šæœ¬æ‹¿è¿‡æ¥ä½¿ç”¨ã€‚ä¸ä»…ä»…æ˜¯ç‰‡æ®µã€‚

- [ ] âœ¨ å‰ç«¯ä¸€é”®è‡ªåŠ¨éƒ¨ç½²å·¥å…· https://juejin.im/post/6872914108979609614?utm_source=gold_browser_extension#heading-1
- [ ] xcli åˆ é™¤ä»»æ„çš„æ–‡ä»¶è„šæœ¬ï¼Œå¯ä»¥è¾“å…¥ node_modules ç­‰ï¼Œæä¾›æµ‹è¯•æ‰€ç”¨ã€‚
  ```bash
  find . -name '*node_modules' -exec rm -rf {} \;
  find . -name '*gz' -exec rm {} \;
  ```
- [x] [EPSG.io](https://epsg.io/) æŸ¥è¯¢åæ ‡ç³»ï¼Œä¹Ÿé›†æˆåˆ° xcli ä¸Šå»ã€‚
- [x] xcli-ui
- [ ] gis åæ ‡ç³»è½¬æ¢å·¥å…·
- [ ] xcli æ·»åŠ æ”¯æŒæœç´¢å½“å‰é¡¹ç›®ä¸‹ package.json ä¸‹æŸä¸ªä¾èµ–åŒ…æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”ç»™å‡ºæç¤ºï¼ŒåŒ…æ‹¬è¯»å–ä¾èµ–é‡Œé¢çš„å†…å®¹æ–‡ä»¶ YUIï¼ˆå› æ­¤ï¼Œè¿™ä¸ªæœç´¢ç®—æ³•éœ€è¦åšå¥½ï¼Œå¯ä»¥åƒ vue build è¿™æ ·çš„åŒºåˆ«ï¼Œæ·»åŠ å‚æ•°ï¼Œæ¯”å¦‚ --gis æŸ¥è¯¢ gis ç›¸å…³ï¼Œ--npmï¼ŒæŸ¥è¯¢å½“å‰ä¾èµ–åŒ…ä¸‹çš„ä¸œè¥¿ï¼Œè¿™ä¸ªåº”ç”¨åœºæ™¯æ˜¯ä¸‰çº§ç­‰ä¿ï¼ŒæŸ¥è¯¢ä¾èµ–åŒ…çš„è¿‡ç¨‹ï¼‰
- [ ] xcli å¯ä»¥å‚åŠ  github-cli çš„å®ç°ï¼Œå¿«é€ŸæŸ¥çœ‹å½“å‰å·¥ä½œé¡¹ç›®çš„ä¸€äº›çŠ¶æ€ã€‚
- [ ] tomcat é…ç½®è·¨åŸŸï¼ˆå¯¹æŒ‡å®šèµ„æºï¼‰ã€gzip å‹ç¼©æ–¹æ¡ˆè‡ªåŠ¨ç”Ÿæˆ
- [ ] chrome same-site è®¾ç½®ï¼Œå…è®¸è·¨åŸŸæºå¸¦ cookie
- [ ] linux å‘½ä»¤è¡Œ
- [ ] Frontend æ‰©å±•å·¥å…·éœ€è¦ç”¨åˆ°çš„ï¼ˆå‹ç¼©å›¾ç‰‡ï¼‰
- [ ] 30-seconds-codes å¸¸ç”¨ä»£ç é›†æˆ
- [ ] é€šè¿‡è„šæœ¬æ›¿æ¢æµ‹è¯•ç¯å¢ƒä¸æ­£å¼ç¯å¢ƒã€‚
- [ ] ssh é…ç½®è¯´æ˜
- [ ] æ¨èä¸€ä¸ªç¨‹åºå‘˜å¿…å¤‡ç½‘ç«™ä¹‹ä¸€ï¼šDev Hints ï¼Œéå¸¸å®ç”¨ï¼
- [ ] xcli ä»¥ HTML å½¢å¼ç¾åŒ–åœ¨é¡µé¢ä¸ŠæŸ¥çœ‹ markdown æ–‡ä»¶ã€‚
- [ ] æ‰¹é‡æŠŠ md æ–‡ä»¶ç”Ÿæˆä¸€ä¸ª pdf ç”µå­ä¹¦è„šæœ¬ï¼Œæ¯”å¦‚ä¹‹å‰å®‹å“¥å‘çš„ JavaScript é«˜çº§ç¨‹åºè®¾è®¡ ã€‚å…ˆç ”ç©¶å•ä¸ªè½¬æ¢ã€å†æ˜¯æ‰¹é‡è½¬æ¢ã€‚
- [ ] ç»™ xcli æ·»åŠ å›¾ç‰‡å‹ç¼©å‘½ä»¤ï¼Œå…ˆæ”¯æŒå‘½ä»¤è¡Œï¼Œå‚è€ƒ tinypng-cliã€‚ åç»­å†åœ¨ ui ç•Œé¢ä¸­å¤„ç†ã€‚æ¯å¤©å­¦ä¹ ä¸€ä¸ªå‘½ä»¤ï¼šä½¿ç”¨ jpegoptim å’Œ optipng ä¼˜åŒ–å‹ç¼©å›¾ç‰‡ã€‚
  - [ ] æ–¹æ¡ˆæœ‰ä¸¤ç§ï¼šç¬¬ä¸€ç§ä¹Ÿæ˜¯ä½¿ç”¨ tinypng åœ¨çº¿æœåŠ¡ï¼Œè·³è¿‡å›¾ç‰‡ä¸Šä¼ ã€ä¸‹è½½çš„é™åˆ¶ã€‚éœ€è¦ç­‰å¾…æ—¶é—´ã€‚
  - [ ] æœ¬åœ°å‹ç¼©ï¼Œæ–¹ä¾¿å¿«æ·ï¼Œä½†æ˜¯æ²¡æœ‰ tinypng çš„æ™ºèƒ½å‹ç¼©ç®—æ³•ã€‚

## nvm

åœ¨å¤šç¯å¢ƒä¸­ï¼Œnpm è¯¥å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ
æ¯ä¸ªç‰ˆæœ¬çš„ Node éƒ½ä¼šè‡ªå¸¦ä¸€ä¸ªä¸åŒç‰ˆæœ¬çš„ npmï¼Œå¯ä»¥ç”¨ npm -v æ¥æŸ¥çœ‹ npm çš„ç‰ˆæœ¬ã€‚å…¨å±€å®‰è£…çš„ npm åŒ…å¹¶ä¸ä¼šåœ¨ä¸åŒçš„ Node ç¯å¢ƒä¸­å…±äº«ï¼Œå› ä¸ºè¿™ä¼šå¼•èµ·å…¼å®¹é—®é¢˜ã€‚å®ƒä»¬è¢«æ”¾åœ¨äº†ä¸åŒç‰ˆæœ¬çš„ç›®å½•ä¸‹ï¼Œä¾‹å¦‚ `~/.nvm/versions/node/<version>/lib/node_modules</version>` è¿™æ ·çš„ç›®å½•ã€‚è¿™åˆšå¥½ä¹Ÿçœå»æˆ‘ä»¬åœ¨ Linux ä¸­ä½¿ç”¨ sudo çš„åŠŸå¤«äº†ã€‚å› ä¸ºè¿™æ˜¯ç”¨æˆ·çš„ä¸»æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸ä¼šå¼•èµ·æƒé™é—®é¢˜ã€‚

yarn link è½¯é“¾æ¥ yarn çš„é…ç½®ä¸‹ï¼Œè¿™æ ·å³ä½¿æ²¡æœ‰å®‰è£…åˆ°å…¨å±€ä¸Šï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å½“å‰å‘½ä»¤ã€‚æ¯”å¦‚ xcliã€‚

## yarn vs npm

å®‰è£…äº† yarn åï¼Œè¿˜éœ€è¦ç”¨ npm å‘½ä»¤å—ï¼Ÿ

## æŸ¥è¯¢é¡µé¢å‘½ä»¤

æŠ€æœ¯é€‰å‹ï¼š

- ä½¿ç”¨ node åŸç”Ÿçˆ¬å–é¡µé¢ï¼Œä½†æ˜¯å°‘äº†å¾ˆå¤šé€‰æ‹©å™¨ï¼Œå¯ä»¥å¿«é€Ÿè·å– domï¼Ÿ
- puppeteer æ˜¯ Node.js å·¥å…·å¼•æ“ï¼Œæœ¬èº«å°±æ˜¯ä¸€ä¸ª Node.js åŒ…ã€‚

puppeteer æ˜¯ä¸€ä¸ª Chrome å®˜æ–¹å‡ºå“çš„ headless Chrome node åº“(æ²¡æœ‰å›¾å½¢ç”¨æˆ·ç•Œé¢çš„çš„ web æµè§ˆå™¨)ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—çš„ API, å¯ä»¥åœ¨æ—  UI çš„æƒ…å†µä¸‹è°ƒç”¨ Chrome çš„åŠŸèƒ½, é€‚ç”¨äºçˆ¬è™«ã€è‡ªåŠ¨åŒ–å¤„ç†ç­‰å„ç§åœºæ™¯

ä½¿ç”¨ puppeteer çš„è¯ï¼Œè€Œä¸æ˜¯ node åŸç”Ÿçš„è¯ï¼Œé‚£ä¹ˆä½¿ç”¨å®‰è£…æ—¶ä¹Ÿè¦å®‰è£… puppeteer è¿™ä¹ˆå¤§çš„åŒ…ï¼Ÿï¼Ÿå†µä¸”è¿™ä¸ªåŒ…ä¸‹è½½æ€»æ˜¯æœ‰é—®é¢˜ã€‚

éœ€è¦å®Œå…¨ä½¿ç”¨ node.js è„šæœ¬æ¥æ‰§è¡Œã€‚

ä¼˜ç¼ºç‚¹ï¼š

- puppeteer åŠŸèƒ½å¼ºå¤§ï¼Œä½†æ˜¯å®‰è£…åŒ…æ¯”è¾ƒå¤§ï¼Œ50 å¤š mã€‚

// 1. æ‹¼æ¥æˆ url
// 2. å¯åŠ¨ puppeteer
// 3. è¿›è¡Œè®¿é—®
// 4. è·å–ç»“æœ
// 5. è¿›è¡Œæ˜¾ç¤º

å¯ä»¥ç›´æ¥ç”¨ node å®ç°

```js
const puppeteer = require("puppeteer");
const search = 4490;
const s_proj4_text = "#s_proj4_text";
async function main() {
  const browser = await puppeteer.launch({
    headless: true,
  });
  const page = await browser.newPage();
  //   await page.goto(`https://epsg.io/?q=${search}`); // ä¸¤ç§æ–¹å¼
  await page.goto(`https://epsg.io/${search}`);
  //   await page.screenshot({path: './screenshots/epsg.png'});
  //   await page.click(proj4Selector);
  //   const handle = await page.$(".padt-2");
  const searchValue = await page.$eval(s_proj4_text, (el) => el.innerText);
  console.log(searchValue);
  browser.close();
}

main();
```

## éœ€æ±‚è®¾è®¡

å¼‚å¸¸å¤„ç†ï¼š

unExpectInput

## æŠ€æœ¯é€‰å‹

- commander (è§£æå‘½ä»¤)
- fs-extra (fs æ¨¡å—æ‹“å±•)
- execa (better child_process)
- download-git-repo (ä¸‹è½½ git ä»“åº“å·¥å…·)
- boxen (ç»ˆç«¯ä¸­æ–¹æ¡†è¾“å‡º)
  -cfonts (ç»ˆç«¯ç‚«é…·çš„å­—ä½“è¾“å‡º)
- chalk (ç»™æ–‡å­—å¢åŠ è‰²å½©)
- ora (loading å·¥å…·)
- handlebars (æ¨¡æ¿æ’å€¼)
- module-alias (æ¨¡æ¿åˆ«åæ˜ å°„)
- inquirer (äº¤äº’å¼è¯¢é—®å¹¶è®°å½•ç»“æœ)
- listr (å¤šä»»åŠ¡ä¸²è¡Œæ‰§è¡Œï¼Œå¹¶æä¾› loading æ•ˆæœ)

### commander

é€šè¿‡ yarn link å¯ä»¥æŠŠå½“å‰çš„ä»“åº“çš„ link è¿‡å»ï¼Œè¿›è¡Œå®æ—¶ xcli è°ƒè¯•ã€‚ç„¶åé€šè¿‡ ts-node è¿›è¡Œå‘½ä»¤è¡Œå¯åŠ¨è°ƒè¯•ã€‚

### pupeter ä½¿ç”¨

### UI ç•Œé¢

çœ‹æ‡‚ vue-cli ui ç•Œé¢çš„å®ç°å¥—è·¯ã€‚vue-cli çš„ ui æ˜¯å¦‚ä½•å•ç‹¬ç§°ä¸ºä¸€ä¸ªåº“å‘¢ï¼Œéœ€è¦æ‰“åŒ…ã€‚

## è°ƒè¯•

xcli ä¸ xcli-serverã€‘xcli-ui ä¸‰è€…çš„åä½œå…³ç³»ï¼š

æœ¬åœ°å¼€å‘æ—¶ï¼šå¯ä»¥é€šè¿‡ yarn link æŠŠ xcli-server å’Œ xcli-ui é“¾æ¥åˆ° xcli æ–‡ä»¶å¤¹å†…ä½¿ç”¨ã€‚

å†…éƒ¨æµ‹è¯•æ—¶ï¼š
xcli å®‰è£…äº† xcli-server å’Œ xcli-ui ä¸¤ä¸ªå®‰è£…åŒ…ï¼ŒæŒ‡æ˜ä»“åº“åœ°å€å’Œåˆ†æ”¯ã€‚

éœ€è¦è€ƒè™‘ç§æœ/å…¬æœ‰ npm åŒ…ã€‚
### æ–¹å¼ä¸€

å‘å¸ƒçš„ npm åŒ…é‡Œå¸¦æœ‰ .npmrcï¼Œé‡Œé¢å£°æ˜æœ‰ç§æœçš„åŒ…æ³¨å†Œæºï¼š

```npmrc
@dist/xcli-ui:registry=xxx/repository/dist-front/
@dist/xcli-server:registry=xxx/repository/dist-front/
```

è¿™ä¸ªæ˜¯å¼€å‘ç¯å¢ƒä¸‹çš„æºå£°æ˜ã€‚

ä½¿ç”¨ nrm æ·»åŠ åŒ…æºï¼Œç„¶åå•ç‹¬ `yarn add xcli-server` ä¹Ÿè¡Œã€‚
```js
$ nrm add ynpm http://XXXXXX:4873 # æ·»åŠ ç§æœçš„npmé•œåƒåœ°å€
$ nrm use ynpm # ä½¿ç”¨ç§æœçš„é•œåƒåœ°å€
```

å‰ææ˜¯è¿˜è¦ç™»å½• npm ç”¨æˆ·æ‰èƒ½æœ‰æƒé™æŠŠåŒ…ä¸‹è½½ä¸‹æ¥ï¼Œå…·ä½“çœ‹å®‰è£…ä½¿ç”¨çš„æ·»åŠ ç”¨æˆ·ã€‚
### æ–¹å¼äºŒ

```json
{
  "name": "@dist/xcli",
  "version": "1.1.2",
  "description": "å‰ç«¯è„šæ‰‹æ¶",
  "main": "dist/index.js",
  "bin": {
    "xcli": "bin/index.js"
  },
  "dependencies": {
    "xcli-server": "ssh://git@elbgit-1200450932.cn-northwest-1.elb.amazonaws.com.cn:5337/xdata/xdata-FE/xcli-server.git#dev",
    "xcli-ui": "ssh://git@elbgit-1200450932.cn-northwest-1.elb.amazonaws.com.cn:5337/xdata/xdata-FE/xcli-ui.git#dev"
  }
}
```

````sh
# å¯ä»¥è¿™æ ·ä¸‹è½½/æ›´æ–°ä¾èµ–åŒ…
yarn add/upgrade xcli-server@ssh://git@elbgit-1200450932.cn-northwest-1.elb.amazonaws.com.cn:5337/xdata/xdata-FE/xcli-server.git#dev```
````

ç„¶åè¿›è¡Œ yarn å®‰è£…å³å¯åœ¨ node_modules æŸ¥çœ‹è¿™ä¸¤ä¸ªåŒ…ã€‚

åœ¨è¿è¡Œ xcli ui æ—¶ï¼Œxcli-server è¯»å–çš„ç•Œé¢é™æ€æ–‡ä»¶æ¥è‡ªäº xcli-ui çš„ dist æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç è¿›è¡Œæ›¿æ¢ï¼š

ä¹Ÿå°±æ˜¯åœ¨è¿è¡Œ xcli ui å‘½ä»¤æ—¶ï¼Œ

xcli çš„ ui.ts

```js
const { appListenStart } = require("xcli-server");

function opneUi() {
  appListenStart();
}
export default opneUi;
```

xcli-server é‡Œçš„ init.ts

```js
function appListenStart() {
  let url = __dirname;
  const app = express();
  url = getUiUrl(url);
  const isXcli = isHasDirectory(url);
  if (isXcli) {
    app.use(express.static(url));
  }
  registerMiddle(app);
  const server = app.listen(8081, () => {
    openUi(server);
  });
}

// è·¨å¹³å°
function getUiUrl(url) {
  url = path.normalize(url);
  url =
    url.split(path.normalize("xcli-server/dist"))[0] +
    path.normalize("xcli-server/dist");

  url = url.replace(
    path.normalize("xcli-server/dist"),
    path.normalize("xcli-ui/dist")
  );
  return url;
}
```

```sh
cli ui


 â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—      â–ˆâ–ˆâ•—
 â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘
  â•šâ–ˆâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘
  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘
 â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•— â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘
 â•šâ•â•  â•šâ•â•  â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â• â•šâ•â•


url -> /Users/kayliang/Documents/linjy/DIST/xcli/node_modules/xcli-server/dist/services
url -> /Users/kayliang/Documents/linjy/DIST/xcli/node_modules/xcli-server/dist
url -> /Users/kayliang/Documents/linjy/DIST/xcli/node_modules/xcli-ui/dist
xcli-uiï¼Œè®¿é—®åœ°å€ä¸º http://127.0.0.1:8081
```

å‘å¸ƒ npm ç‰ˆæœ¬æ—¶ï¼Œéœ€è¦å…ˆå‘å¸ƒ xcli-serverã€xcli-uiï¼Œç„¶ååˆ° xcli é‡Œä¸‹è½½ xcli-serverã€xcli-ui å¯¹åº”çš„ npm ç‰ˆæœ¬åŒ…ï¼Œå†å‘å¸ƒ xcli npm åŒ…ä¾›å¤–éƒ¨ä½¿ç”¨ã€‚

éœ€è¦å‘å¸ƒ xcliã€xcli-serverã€xcli-ui

åŒç‰ˆæœ¬å¯ä»¥è¦†ç›–çš„ï¼Œå°±æ˜¯ package é‡Œçš„ version ä¸æ”¹ä¹Ÿæ²¡å…³ç³»ã€‚

### æ–¹å¼ä¸‰

1. åœ¨ä½¿ç”¨çš„æ¨¡å—ç›®å½•è¿›è¡Œï¼šyarn linkï¼Œæ³¨æ„åŒ…è£… package.json åŒ…å«å…¥å£çš„å­—æ®µ mainï¼Œæ¯”å¦‚ `"main": "dist/index.js",`

```sh
xcli-server kayliang$ yarn link
yarn link v1.22.10
success Registered "xcli-server".
info You can now run `yarn link "xcli-server"` in the projects where you want to use this package and it will be used instead.
```

2. ç„¶åå»ä½¿ç”¨çš„ npm åŒ…æ–‡ä»¶å¤¹é‡Œï¼š

```sh
yarn link "xcli-server"
```

3. æœ€ååœ¨æ–‡ä»¶å¤¹é‡Œä½¿ç”¨ï¼Œæ³¨æ„è¿™é‡Œå¿…é¡»è·Ÿç¬¬äºŒæ­¥çš„åŒ…åä¸€è‡´

```js
// const { gisSystem, regionSystem } = require('xcli-ui-server'); è¿™æ˜¯å‘å¸ƒåœ¨ node_module çš„åŒ…ã€‚
const { gisSystem, regionSystem } = require("xcli-server");
```

å¦‚ä½•é“¾æ¥ä¸åˆ°ï¼Œè¯·çœ‹è¿™ä¸ªã€‚

`warning There's already a package called "vega" registered. This command has had no effect. If this command was run in another folder with the same name, the other folder is still linked. Please run yarn unlink in the other folder if you want to register this folder.`

For anyone else coming here, you can delete the link in `~/.config/yarn/link`

## å‘å¸ƒ npm åŒ…
### åˆ‡æ¢å‘å¸ƒæº

å®‰è£… nrm ç®¡ç†æ³¨å†Œæºï¼Œå¯ä»¥å®æ—¶åˆ‡æ¢å„ç§æºï¼Œè¿›è¡Œå‘å¸ƒã€‚

```sh
$ npm install -g nrm
$ nrm lsã€€ã€€# æŸ¥çœ‹æ‰€æœ‰çš„æ”¯æŒæºï¼ˆæœ‰*å·çš„è¡¨ç¤ºå½“å‰æ‰€ä½¿ç”¨çš„æº,ä»¥ä¸‹[name]è¡¨ç¤ºæºçš„åç§°ï¼‰

$ nrm use [name]ã€€ã€€# å°†npmä¸‹è½½æºåˆ‡æ¢æˆæŒ‡å®šçš„æº

$ nrm helpã€€ã€€# æŸ¥çœ‹nrmå¸®åŠ©

$ nrm home [name]ã€€ã€€# è·³è½¬åˆ°æŒ‡å®šæºçš„å®˜ç½‘
$ nrm add ynpm http://XXXXXX:4873 # æ·»åŠ ç§æœçš„npmé•œåƒåœ°å€
```

1. é€‰æ‹©ç§æœ npm é•œåƒæº
2. ç”³è¯·è´¦å·å’Œå¯†ç  ï¼Œè¿›è¡Œç™»å½•
3. åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œ$ npm publishå‘å¸ƒæ–°åŒ…ã€‚
### dist æ–‡ä»¶å†²çªå¦‚ä½•è§£å†³

å› ä¸º dist æ˜¯ä½œä¸ºå‘å¸ƒçš„åŒ…ç‰ˆæœ¬ï¼Œæ¯ä¸ª package å£°æ˜çš„ main éƒ½æ˜¯è¯»å–çš„ dist æ–‡ä»¶ã€‚

![](../.vuepress/public/images/2021-01-19-23-18-52.png)

ä¸ºé¿å… gitignore çš„å†²çªï¼Œè¦å¿½ç•¥ distï¼Œç„¶ååœ¨æœ¬åœ°æ‰“åŒ…æ—¶ï¼Œå¯ä»¥åœ¨ package.json é‡Œå£°æ˜ files å­—æ®µï¼Œç„¶åæ·»åŠ  dist å’Œ bin å³å¯ã€‚
## å¦‚ä½•ä½¿ç”¨ï¼ˆå¤–éƒ¨æ¶ˆè´¹è€…ï¼‰
### å®‰è£…æ­¥éª¤

> ç¯å¢ƒè¦æ±‚: NodeJS ç‰ˆæœ¬ >= 10

#### åˆ›å»ºç”¨æˆ·

```sh
npm adduser --registry xxx/repository/dist-front/
username: xdata
password: dist1234
email: å¡«è‡ªå·±çš„
```

```sh
KaydeMBP:xcli kayliang$ npm adduser --registry  http://xxxx/repository/dist-front/
Username: xdata
Password: 
Email: (this IS public) linjy@dist.com.cn
Logged in as xdata on http://xxxx/repository/dist-front/
```
#### æ·»åŠ å…¨å±€é•œåƒæº

ä½¿ç”¨`npm config set @dist:registry xxx/repository/dist-front/ --global`

#### å…¨å±€å®‰è£…å‘½ä»¤è¡Œå·¥å…·

å®‰è£…å³å¯ï¼Œè¿™æ ·ä¼šå®‰è£… xcli ä»¥åŠé‡Œé¢æ‰€éœ€è¦çš„ç§æœåŒ…

`npm i -g @dist/xcli`

### ä½¿ç”¨

`xcli` é€‰æ‹©ä¸€ä¸ªåŠŸèƒ½

`xcli --help` æŸ¥çœ‹è„šæ‰‹æ¶ä½¿ç”¨å¸®åŠ©

`xcli create || xcli c` åˆ›å»ºé¡¹ç›®

`xcli script || xcli s` é€‰æ‹©è„šæœ¬æ‰§è¡Œ

`xcli commit || xcli cm` å¡«å†™ git message å¹¶æäº¤

`xcli update` å‡çº§è„šæ‰‹æ¶

## å¦‚ä½•æ–°å¢åŠŸèƒ½
### create å‘½ä»¤
#### create å‘½ä»¤å®ç°åˆ†æ

#### å¦‚ä½•æ–°å¢é¡¹ç›®æ¨¡ç‰ˆ

##### å¼€ç®±å³ç”¨çš„ ts + vue3 é¡¹ç›®åŸºç¡€æ¡†æ¶è§£å†³æ–¹æ¡ˆ (é gisï¼Œä¸æ¥è¿ç»´ç‰ˆ)

ç›®å‰çš„ xcli-ui æ˜¯ä½¿ç”¨ ts +vue3 + antd-vue-designï¼Œxcli æ–°å¢çš„æ¨¡ç‰ˆåº”è¯¥ä¹Ÿæ˜¯ä½¿ç”¨ vue3 æ‰æ¯”è¾ƒæœ‰æ„ä¹‰ï¼Œä¸”ä½œä¸ºä¸€ä¸ªåŸºæœ¬çš„é¢„ç ”é¡¹ç›®ã€‚ç›®å‰æ¡†æ¶åªæœ‰ antd-vue-design å’Œ element-plus æ”¯æŒã€‚

åç»­å¯ä»¥è€ƒè™‘ç”¨ä¸Š **quark 3.0 ç‰ˆæœ¬ï¼Œå¯ä»¥å‚ä¸å…¶ä¸­é‡æ„ quarkï¼Œfork ä¸€ç‰ˆ vue3**ã€‚

ä¸‹å‘¨éœ€è¦è·Ÿç½—æ€»æ²Ÿé€šä¸‹æ¥å…¥çš„ç»†èŠ‚ï¼Œæ˜¯å¦ç¡®è®¤æ˜¯ vue3ï¼Œå› ä¸º vue2 + ts æ„ä¹‰ä¸å¤§ã€‚

quark 2.0 æ”¯æŒ vue3 ç‰ˆæœ¬

åŠŸèƒ½ç‚¹
- ä¼˜åŒ–çš„ç”Ÿäº§ç¯å¢ƒä¾èµ–


vue3 é¡¹ç›®åŸºç¡€æ¡†æ¶
- TS + Vue3
- UI ç»„ä»¶åº“å¦‚ä½•å¤„ç†ï¼ˆå¯¹äº vue2 çš„ç»„ä»¶é€‚é…å—ï¼Ÿèƒ½å¤Ÿç”¨å—ï¼Ÿï¼‰è¿™äº›éƒ½éœ€è¦å…ˆå®è·µ vue3ï¼ŒçŸ¥é“æœ‰å“ªäº›ä¸åŒï¼Œä»¥å‰çš„ vue2 æ’ä»¶ã€ç»„ä»¶æ˜¯å¦‚ä½•æ·»åŠ çš„

ä¸»è¦å°±æ˜¯ ts å’Œ vue3 ã€ui ç»„ä»¶åº“äº†ï¼Œå‰©ä¸‹å†è€ƒè™‘åœ°å›¾
- [ ] Arcgis

### æ–°å¢å‘½ä»¤
## å‚è€ƒèµ„æ–™

- çˆ¬è™«
  - [50 è¡Œä»£ç ï¼ŒNode çˆ¬è™«ç»ƒæ‰‹é¡¹ç›® ğŸ•·ï¸](https://juejin.im/post/6844903827024396296)
  - [ä¸‡ç‰©çš†å¯çˆ¬-puppeteer å®æˆ˜](https://juejin.im/post/6844903944645246984)
  - [ç»“åˆé¡¹ç›®æ¥è°ˆè°ˆ Puppeteer](https://juejin.im/post/6844903903000166407#heading-23)
  - [Nodeï¼šä½¿ç”¨ Puppeteer å®Œæˆä¸€æ¬¡å¤æ‚çš„çˆ¬è™«](https://zhuanlan.zhihu.com/p/35758104)
  - [Puppeteer ä¸ Chrome Headless â€”â€” ä»å…¥é—¨åˆ°çˆ¬è™«](https://juejin.im/entry/6844903494076334087)
- [vue-cli]
- webpack-cli
- [å¦‚ä½•å¼€å‘ä¼ä¸šçº§å‰ç«¯è„šæ‰‹æ¶ xcli](http://52.83.238.168:9000/ks/doc-fe-web-engineer/%E8%84%9A%E6%89%8B%E6%9E%B6/%E5%A6%82%E4%BD%95%E5%BC%80%E5%8F%91%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%89%8D%E7%AB%AF%E8%84%9A%E6%89%8B%E6%9E%B6xcli.html)
- [Chrome æµè§ˆå™¨æ”¹å˜ SameSite è®¾ç½®](https://juejin.im/post/6844904096655212558)
- [server-configs](https://github.com/h5bp/server-configs) æœåŠ¡å™¨é…ç½®
- å®˜æ–¹æ–‡æ¡£ å¯ä»¥åœ¨å®‰è£…åçš„ tomcat é¦–é¡µæŸ¥çœ‹é…ç½®æ–‡æ¡£
- [ä»é›¶æ­å»ºä¸€ä¸ª node è„šæ‰‹æ¶å·¥å…·ï¼ˆä¸€ï¼‰](https://segmentfault.com/a/1190000019791588)
- [ğŸ‰ ç”¨ Node.js å¼€å‘ä¸€ä¸ª Command Line Interface (CLI)](https://zhuanlan.zhihu.com/p/38730825)
- [ç”¨ä¸€æ¬¡å°±ä¼šçˆ±ä¸Šçš„ cli å·¥å…·å¼€å‘](https://juejin.im/post/6844903831994630158#heading-1)
- https://github.com/justjavac/deno_thanos Deno ç­éœ¸ï¼Œéšæœºåˆ é™¤å½“å‰ç›®å½•é‡Œä¸€åŠçš„æ–‡ä»¶ âš ï¸ æ…ç”¨ å¯ä»¥ç”¨ node æ¨¡ä»¿ä¸€ä¸ªï¼Œç”¨æ¥å­¦ä¹ æ–‡ä»¶æ“ä½œã€‚
- [ä½¿ç”¨ Deno æ„å»ºä¸€ä¸ªå‘½ä»¤è¡Œå¤©æ°”é¢„æŠ¥ç¨‹åº](https://juejin.im/post/6864824992626901005?utm_source=gold_browser_extension#heading-5)
- [How to create a real-world Node CLI app with Node](https://medium.com/free-code-camp/how-to-create-a-real-world-node-cli-app-with-node-391b727bbed3)
- [ã€æ‰‹æŠŠæ‰‹ã€‘15 åˆ†é’Ÿæ­ä¸€ä¸ªä¼ä¸šçº§è„šæ‰‹æ¶](https://juejin.im/post/6844903925666037773#heading-20)
