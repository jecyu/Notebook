<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>WebGL 从入门到实战总结 | Naluduo&#39;s Notebook</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/Notebook/images/logo.jpeg">
    <meta name="description" content="📝每天记录一点点">
    <link rel="preload" href="/Notebook/assets/css/0.styles.b1f38863.css" as="style"><link rel="preload" href="/Notebook/assets/js/app.accc6ad4.js" as="script"><link rel="preload" href="/Notebook/assets/js/4.2708dfb6.js" as="script"><link rel="preload" href="/Notebook/assets/js/9.e0bdbf17.js" as="script"><link rel="prefetch" href="/Notebook/assets/js/10.868273fb.js"><link rel="prefetch" href="/Notebook/assets/js/100.1b860150.js"><link rel="prefetch" href="/Notebook/assets/js/101.93399fce.js"><link rel="prefetch" href="/Notebook/assets/js/102.6cbb290c.js"><link rel="prefetch" href="/Notebook/assets/js/103.8ff3d751.js"><link rel="prefetch" href="/Notebook/assets/js/104.0a2f7daa.js"><link rel="prefetch" href="/Notebook/assets/js/105.155f54c6.js"><link rel="prefetch" href="/Notebook/assets/js/106.4d7d0c3a.js"><link rel="prefetch" href="/Notebook/assets/js/107.8373d2e5.js"><link rel="prefetch" href="/Notebook/assets/js/108.8c95a110.js"><link rel="prefetch" href="/Notebook/assets/js/109.85bb673d.js"><link rel="prefetch" href="/Notebook/assets/js/11.fb903a5e.js"><link rel="prefetch" href="/Notebook/assets/js/110.52ad03a9.js"><link rel="prefetch" href="/Notebook/assets/js/111.956208cd.js"><link rel="prefetch" href="/Notebook/assets/js/112.2009b21f.js"><link rel="prefetch" href="/Notebook/assets/js/113.82a49283.js"><link rel="prefetch" href="/Notebook/assets/js/114.3b3a5472.js"><link rel="prefetch" href="/Notebook/assets/js/115.7ee78dd6.js"><link rel="prefetch" href="/Notebook/assets/js/116.7c8bbb6c.js"><link rel="prefetch" href="/Notebook/assets/js/117.d0907fb0.js"><link rel="prefetch" href="/Notebook/assets/js/118.3fb43a39.js"><link rel="prefetch" href="/Notebook/assets/js/119.ec92ea48.js"><link rel="prefetch" href="/Notebook/assets/js/12.29652b2c.js"><link rel="prefetch" href="/Notebook/assets/js/120.35ff1e70.js"><link rel="prefetch" href="/Notebook/assets/js/121.d8b18139.js"><link rel="prefetch" href="/Notebook/assets/js/122.648ffe96.js"><link rel="prefetch" href="/Notebook/assets/js/123.ed3b8b2f.js"><link rel="prefetch" href="/Notebook/assets/js/124.142abf67.js"><link rel="prefetch" href="/Notebook/assets/js/125.329314b8.js"><link rel="prefetch" href="/Notebook/assets/js/126.3a121da0.js"><link rel="prefetch" href="/Notebook/assets/js/127.022c6641.js"><link rel="prefetch" href="/Notebook/assets/js/128.547c2d5c.js"><link rel="prefetch" href="/Notebook/assets/js/129.ecb5273b.js"><link rel="prefetch" href="/Notebook/assets/js/13.fa32345e.js"><link rel="prefetch" href="/Notebook/assets/js/130.2a0d3a19.js"><link rel="prefetch" href="/Notebook/assets/js/131.c7a84d57.js"><link rel="prefetch" href="/Notebook/assets/js/132.07da823d.js"><link rel="prefetch" href="/Notebook/assets/js/133.f851d5af.js"><link rel="prefetch" href="/Notebook/assets/js/134.de309ceb.js"><link rel="prefetch" href="/Notebook/assets/js/135.0b83f289.js"><link rel="prefetch" href="/Notebook/assets/js/136.99ddbb8e.js"><link rel="prefetch" href="/Notebook/assets/js/137.9ce91c54.js"><link rel="prefetch" href="/Notebook/assets/js/138.d1e6c7df.js"><link rel="prefetch" href="/Notebook/assets/js/139.9e57818f.js"><link rel="prefetch" href="/Notebook/assets/js/14.e6b1fa67.js"><link rel="prefetch" href="/Notebook/assets/js/140.b97a7c8d.js"><link rel="prefetch" href="/Notebook/assets/js/141.db0d7e4b.js"><link rel="prefetch" href="/Notebook/assets/js/142.c9528ba0.js"><link rel="prefetch" href="/Notebook/assets/js/143.5cd17cfd.js"><link rel="prefetch" href="/Notebook/assets/js/144.c8a3236c.js"><link rel="prefetch" href="/Notebook/assets/js/145.ce3e815f.js"><link rel="prefetch" href="/Notebook/assets/js/146.5d5fdead.js"><link rel="prefetch" href="/Notebook/assets/js/147.7ca58039.js"><link rel="prefetch" href="/Notebook/assets/js/148.0528dfc6.js"><link rel="prefetch" href="/Notebook/assets/js/149.e219ef4f.js"><link rel="prefetch" href="/Notebook/assets/js/15.ede5e660.js"><link rel="prefetch" href="/Notebook/assets/js/150.367684ad.js"><link rel="prefetch" href="/Notebook/assets/js/151.bb7cc840.js"><link rel="prefetch" href="/Notebook/assets/js/152.50e2b443.js"><link rel="prefetch" href="/Notebook/assets/js/153.5143d68e.js"><link rel="prefetch" href="/Notebook/assets/js/154.5f75c4d5.js"><link rel="prefetch" href="/Notebook/assets/js/155.2c97d8c7.js"><link rel="prefetch" href="/Notebook/assets/js/156.04597855.js"><link rel="prefetch" href="/Notebook/assets/js/157.27a46ea1.js"><link rel="prefetch" href="/Notebook/assets/js/158.b0e54b34.js"><link rel="prefetch" href="/Notebook/assets/js/159.980a2077.js"><link rel="prefetch" href="/Notebook/assets/js/16.7cea63af.js"><link rel="prefetch" href="/Notebook/assets/js/160.dd7c4dd5.js"><link rel="prefetch" href="/Notebook/assets/js/161.076ac5ad.js"><link rel="prefetch" href="/Notebook/assets/js/162.49697d65.js"><link rel="prefetch" href="/Notebook/assets/js/163.022e5acc.js"><link rel="prefetch" href="/Notebook/assets/js/164.8ceaf7a5.js"><link rel="prefetch" href="/Notebook/assets/js/165.d613540e.js"><link rel="prefetch" href="/Notebook/assets/js/166.c0af31ff.js"><link rel="prefetch" href="/Notebook/assets/js/167.e42b9f57.js"><link rel="prefetch" href="/Notebook/assets/js/168.fa026739.js"><link rel="prefetch" href="/Notebook/assets/js/169.1f7e3137.js"><link rel="prefetch" href="/Notebook/assets/js/17.b7ca32be.js"><link rel="prefetch" href="/Notebook/assets/js/170.c4c1402a.js"><link rel="prefetch" href="/Notebook/assets/js/171.d1075313.js"><link rel="prefetch" href="/Notebook/assets/js/172.31ae23b8.js"><link rel="prefetch" href="/Notebook/assets/js/173.283df959.js"><link rel="prefetch" href="/Notebook/assets/js/174.8a34b9ed.js"><link rel="prefetch" href="/Notebook/assets/js/175.3678f179.js"><link rel="prefetch" href="/Notebook/assets/js/176.c26a8292.js"><link rel="prefetch" href="/Notebook/assets/js/177.783e1466.js"><link rel="prefetch" href="/Notebook/assets/js/178.9fa7eae4.js"><link rel="prefetch" href="/Notebook/assets/js/179.44544c8c.js"><link rel="prefetch" href="/Notebook/assets/js/18.dbdceb5d.js"><link rel="prefetch" href="/Notebook/assets/js/180.15b47c99.js"><link rel="prefetch" href="/Notebook/assets/js/181.73b4c3aa.js"><link rel="prefetch" href="/Notebook/assets/js/182.6a5b17a2.js"><link rel="prefetch" href="/Notebook/assets/js/183.28ec67b1.js"><link rel="prefetch" href="/Notebook/assets/js/184.2cccbd70.js"><link rel="prefetch" href="/Notebook/assets/js/185.de7fec26.js"><link rel="prefetch" href="/Notebook/assets/js/186.0932e1a1.js"><link rel="prefetch" href="/Notebook/assets/js/187.8c1730fc.js"><link rel="prefetch" href="/Notebook/assets/js/188.300dd277.js"><link rel="prefetch" href="/Notebook/assets/js/189.a1bee58b.js"><link rel="prefetch" href="/Notebook/assets/js/19.3d59d024.js"><link rel="prefetch" href="/Notebook/assets/js/190.7663ddc6.js"><link rel="prefetch" href="/Notebook/assets/js/191.7c824181.js"><link rel="prefetch" href="/Notebook/assets/js/192.e85118bd.js"><link rel="prefetch" href="/Notebook/assets/js/193.e954b79c.js"><link rel="prefetch" href="/Notebook/assets/js/194.f4adcdbc.js"><link rel="prefetch" href="/Notebook/assets/js/195.62735b27.js"><link rel="prefetch" href="/Notebook/assets/js/196.e0fafeec.js"><link rel="prefetch" href="/Notebook/assets/js/197.07c5e539.js"><link rel="prefetch" href="/Notebook/assets/js/198.cd686b20.js"><link rel="prefetch" href="/Notebook/assets/js/199.d51b40b4.js"><link rel="prefetch" href="/Notebook/assets/js/2.fa311fa4.js"><link rel="prefetch" href="/Notebook/assets/js/20.b4b2d322.js"><link rel="prefetch" href="/Notebook/assets/js/200.e245b2cd.js"><link rel="prefetch" href="/Notebook/assets/js/201.bd88542b.js"><link rel="prefetch" href="/Notebook/assets/js/202.6eefc25c.js"><link rel="prefetch" href="/Notebook/assets/js/203.98180f0d.js"><link rel="prefetch" href="/Notebook/assets/js/204.cb560045.js"><link rel="prefetch" href="/Notebook/assets/js/205.db965c26.js"><link rel="prefetch" href="/Notebook/assets/js/206.f692627d.js"><link rel="prefetch" href="/Notebook/assets/js/207.885fb929.js"><link rel="prefetch" href="/Notebook/assets/js/208.cb1bebca.js"><link rel="prefetch" href="/Notebook/assets/js/209.7dac81a0.js"><link rel="prefetch" href="/Notebook/assets/js/21.4c9bb6e4.js"><link rel="prefetch" href="/Notebook/assets/js/210.21121b1f.js"><link rel="prefetch" href="/Notebook/assets/js/211.cfd188b5.js"><link rel="prefetch" href="/Notebook/assets/js/212.c691e30a.js"><link rel="prefetch" href="/Notebook/assets/js/213.1a9a1f8d.js"><link rel="prefetch" href="/Notebook/assets/js/214.8c871f29.js"><link rel="prefetch" href="/Notebook/assets/js/215.7dd76ed3.js"><link rel="prefetch" href="/Notebook/assets/js/216.b9c6e46d.js"><link rel="prefetch" href="/Notebook/assets/js/217.bbb09b50.js"><link rel="prefetch" href="/Notebook/assets/js/218.3c93e6af.js"><link rel="prefetch" href="/Notebook/assets/js/219.735de793.js"><link rel="prefetch" href="/Notebook/assets/js/22.6908c05f.js"><link rel="prefetch" href="/Notebook/assets/js/220.3531b68a.js"><link rel="prefetch" href="/Notebook/assets/js/221.220d5f13.js"><link rel="prefetch" href="/Notebook/assets/js/222.9d0535e5.js"><link rel="prefetch" href="/Notebook/assets/js/223.f870f2a0.js"><link rel="prefetch" href="/Notebook/assets/js/224.0b56afa6.js"><link rel="prefetch" href="/Notebook/assets/js/225.cc5b31fd.js"><link rel="prefetch" href="/Notebook/assets/js/226.f4ee0adc.js"><link rel="prefetch" href="/Notebook/assets/js/227.eb919eea.js"><link rel="prefetch" href="/Notebook/assets/js/228.6a28f264.js"><link rel="prefetch" href="/Notebook/assets/js/229.2a8bf537.js"><link rel="prefetch" href="/Notebook/assets/js/23.afd0f5c6.js"><link rel="prefetch" href="/Notebook/assets/js/230.a2f5121e.js"><link rel="prefetch" href="/Notebook/assets/js/231.b10cb770.js"><link rel="prefetch" href="/Notebook/assets/js/232.ae7ad32a.js"><link rel="prefetch" href="/Notebook/assets/js/233.cca18966.js"><link rel="prefetch" href="/Notebook/assets/js/234.f9dd9c73.js"><link rel="prefetch" href="/Notebook/assets/js/235.c9a4bfbe.js"><link rel="prefetch" href="/Notebook/assets/js/236.61c4fb4d.js"><link rel="prefetch" href="/Notebook/assets/js/237.fed9e8fe.js"><link rel="prefetch" href="/Notebook/assets/js/238.86670bd9.js"><link rel="prefetch" href="/Notebook/assets/js/239.9ec3d9e2.js"><link rel="prefetch" href="/Notebook/assets/js/24.c1da07f8.js"><link rel="prefetch" href="/Notebook/assets/js/240.355da7ac.js"><link rel="prefetch" href="/Notebook/assets/js/241.f3420570.js"><link rel="prefetch" href="/Notebook/assets/js/242.ba7e4bd1.js"><link rel="prefetch" href="/Notebook/assets/js/243.2a52effa.js"><link rel="prefetch" href="/Notebook/assets/js/244.7f4499d8.js"><link rel="prefetch" href="/Notebook/assets/js/245.8574f4ac.js"><link rel="prefetch" href="/Notebook/assets/js/246.9b36bc23.js"><link rel="prefetch" href="/Notebook/assets/js/247.107c7608.js"><link rel="prefetch" href="/Notebook/assets/js/248.d8d1aa96.js"><link rel="prefetch" href="/Notebook/assets/js/249.00f19ac8.js"><link rel="prefetch" href="/Notebook/assets/js/25.d24012cb.js"><link rel="prefetch" href="/Notebook/assets/js/250.9b97127c.js"><link rel="prefetch" href="/Notebook/assets/js/251.7c05b25d.js"><link rel="prefetch" href="/Notebook/assets/js/252.b3ee0f29.js"><link rel="prefetch" href="/Notebook/assets/js/253.aac3e92c.js"><link rel="prefetch" href="/Notebook/assets/js/254.694f77fc.js"><link rel="prefetch" href="/Notebook/assets/js/255.7fc65b86.js"><link rel="prefetch" href="/Notebook/assets/js/256.f559aa7a.js"><link rel="prefetch" href="/Notebook/assets/js/257.3855a8f5.js"><link rel="prefetch" href="/Notebook/assets/js/258.0236288d.js"><link rel="prefetch" href="/Notebook/assets/js/259.4a65ba3f.js"><link rel="prefetch" href="/Notebook/assets/js/26.7a74bf43.js"><link rel="prefetch" href="/Notebook/assets/js/260.e110d77b.js"><link rel="prefetch" href="/Notebook/assets/js/261.6ca5e50b.js"><link rel="prefetch" href="/Notebook/assets/js/262.974a7503.js"><link rel="prefetch" href="/Notebook/assets/js/263.b93c02d1.js"><link rel="prefetch" href="/Notebook/assets/js/264.7e9188c1.js"><link rel="prefetch" href="/Notebook/assets/js/265.f68b4748.js"><link rel="prefetch" href="/Notebook/assets/js/266.04a71924.js"><link rel="prefetch" href="/Notebook/assets/js/267.256e6833.js"><link rel="prefetch" href="/Notebook/assets/js/268.18b52093.js"><link rel="prefetch" href="/Notebook/assets/js/269.ddca242f.js"><link rel="prefetch" href="/Notebook/assets/js/27.4af13b47.js"><link rel="prefetch" href="/Notebook/assets/js/270.c63a6e91.js"><link rel="prefetch" href="/Notebook/assets/js/271.9d5de52b.js"><link rel="prefetch" href="/Notebook/assets/js/272.b3d8fe27.js"><link rel="prefetch" href="/Notebook/assets/js/273.aac68402.js"><link rel="prefetch" href="/Notebook/assets/js/274.8b89191a.js"><link rel="prefetch" href="/Notebook/assets/js/275.c748ef07.js"><link rel="prefetch" href="/Notebook/assets/js/276.477c27a9.js"><link rel="prefetch" href="/Notebook/assets/js/277.1084dbc6.js"><link rel="prefetch" href="/Notebook/assets/js/278.98e8be2a.js"><link rel="prefetch" href="/Notebook/assets/js/279.61378737.js"><link rel="prefetch" href="/Notebook/assets/js/28.1f5903ad.js"><link rel="prefetch" href="/Notebook/assets/js/280.c2fda5bf.js"><link rel="prefetch" href="/Notebook/assets/js/281.4497cf31.js"><link rel="prefetch" href="/Notebook/assets/js/282.6b02e04d.js"><link rel="prefetch" href="/Notebook/assets/js/283.c579b5f7.js"><link rel="prefetch" href="/Notebook/assets/js/284.25f19977.js"><link rel="prefetch" href="/Notebook/assets/js/285.1567c42d.js"><link rel="prefetch" href="/Notebook/assets/js/286.8729eefe.js"><link rel="prefetch" href="/Notebook/assets/js/287.5109124c.js"><link rel="prefetch" href="/Notebook/assets/js/288.aff2f2a1.js"><link rel="prefetch" href="/Notebook/assets/js/289.11ee7f93.js"><link rel="prefetch" href="/Notebook/assets/js/29.9750e313.js"><link rel="prefetch" href="/Notebook/assets/js/290.a080d505.js"><link rel="prefetch" href="/Notebook/assets/js/291.8a62b81f.js"><link rel="prefetch" href="/Notebook/assets/js/292.8f2b2816.js"><link rel="prefetch" href="/Notebook/assets/js/293.a6073f5d.js"><link rel="prefetch" href="/Notebook/assets/js/294.8036aeb4.js"><link rel="prefetch" href="/Notebook/assets/js/295.4aaf6175.js"><link rel="prefetch" href="/Notebook/assets/js/296.22622ba4.js"><link rel="prefetch" href="/Notebook/assets/js/297.598bfede.js"><link rel="prefetch" href="/Notebook/assets/js/298.68edb938.js"><link rel="prefetch" href="/Notebook/assets/js/299.1f0f84fe.js"><link rel="prefetch" href="/Notebook/assets/js/3.0cb2ce57.js"><link rel="prefetch" href="/Notebook/assets/js/30.5fc87000.js"><link rel="prefetch" href="/Notebook/assets/js/300.9c7600af.js"><link rel="prefetch" href="/Notebook/assets/js/301.0d95fc30.js"><link rel="prefetch" href="/Notebook/assets/js/302.b923baab.js"><link rel="prefetch" href="/Notebook/assets/js/303.d20079b9.js"><link rel="prefetch" href="/Notebook/assets/js/304.12a70192.js"><link rel="prefetch" href="/Notebook/assets/js/305.4ea4d8da.js"><link rel="prefetch" href="/Notebook/assets/js/306.282edebe.js"><link rel="prefetch" href="/Notebook/assets/js/307.3a37e321.js"><link rel="prefetch" href="/Notebook/assets/js/308.9221f97f.js"><link rel="prefetch" href="/Notebook/assets/js/309.c7c3ca1a.js"><link rel="prefetch" href="/Notebook/assets/js/31.18d6f54f.js"><link rel="prefetch" href="/Notebook/assets/js/310.5dde0eb7.js"><link rel="prefetch" href="/Notebook/assets/js/311.819aad83.js"><link rel="prefetch" href="/Notebook/assets/js/312.c2037cae.js"><link rel="prefetch" href="/Notebook/assets/js/313.52ee9f6c.js"><link rel="prefetch" href="/Notebook/assets/js/314.d0105766.js"><link rel="prefetch" href="/Notebook/assets/js/315.02d1beff.js"><link rel="prefetch" href="/Notebook/assets/js/316.69816787.js"><link rel="prefetch" href="/Notebook/assets/js/317.22d3b673.js"><link rel="prefetch" href="/Notebook/assets/js/318.483e3b5e.js"><link rel="prefetch" href="/Notebook/assets/js/319.bc984d80.js"><link rel="prefetch" href="/Notebook/assets/js/32.4ebe70c0.js"><link rel="prefetch" href="/Notebook/assets/js/320.d023db3c.js"><link rel="prefetch" href="/Notebook/assets/js/321.909f7332.js"><link rel="prefetch" href="/Notebook/assets/js/322.3b32a676.js"><link rel="prefetch" href="/Notebook/assets/js/323.9eb049fd.js"><link rel="prefetch" href="/Notebook/assets/js/324.5eae3717.js"><link rel="prefetch" href="/Notebook/assets/js/325.c9aa7e97.js"><link rel="prefetch" href="/Notebook/assets/js/326.2ec27286.js"><link rel="prefetch" href="/Notebook/assets/js/327.1096ac53.js"><link rel="prefetch" href="/Notebook/assets/js/328.17578c44.js"><link rel="prefetch" href="/Notebook/assets/js/329.f6f1b4fc.js"><link rel="prefetch" href="/Notebook/assets/js/33.4c170b35.js"><link rel="prefetch" href="/Notebook/assets/js/330.b84e8b18.js"><link rel="prefetch" href="/Notebook/assets/js/331.2ce71bd6.js"><link rel="prefetch" href="/Notebook/assets/js/332.d49f1076.js"><link rel="prefetch" href="/Notebook/assets/js/333.18846963.js"><link rel="prefetch" href="/Notebook/assets/js/334.07d784aa.js"><link rel="prefetch" href="/Notebook/assets/js/335.b2d18495.js"><link rel="prefetch" href="/Notebook/assets/js/336.27d6fdac.js"><link rel="prefetch" href="/Notebook/assets/js/337.e3b8a4d6.js"><link rel="prefetch" href="/Notebook/assets/js/338.4e17425d.js"><link rel="prefetch" href="/Notebook/assets/js/339.ca72b051.js"><link rel="prefetch" href="/Notebook/assets/js/34.4137a6d9.js"><link rel="prefetch" href="/Notebook/assets/js/340.a9c58e42.js"><link rel="prefetch" href="/Notebook/assets/js/341.015e17e5.js"><link rel="prefetch" href="/Notebook/assets/js/342.883cb2ad.js"><link rel="prefetch" href="/Notebook/assets/js/343.26e0511c.js"><link rel="prefetch" href="/Notebook/assets/js/344.5437611f.js"><link rel="prefetch" href="/Notebook/assets/js/345.26f6e7c4.js"><link rel="prefetch" href="/Notebook/assets/js/346.f7a3f23f.js"><link rel="prefetch" href="/Notebook/assets/js/347.27ccd6a8.js"><link rel="prefetch" href="/Notebook/assets/js/348.eff0a33d.js"><link rel="prefetch" href="/Notebook/assets/js/349.dd942ff5.js"><link rel="prefetch" href="/Notebook/assets/js/35.36b834f7.js"><link rel="prefetch" href="/Notebook/assets/js/350.9128eb0c.js"><link rel="prefetch" href="/Notebook/assets/js/351.e26fffba.js"><link rel="prefetch" href="/Notebook/assets/js/352.59cc3f38.js"><link rel="prefetch" href="/Notebook/assets/js/353.3ad59a15.js"><link rel="prefetch" href="/Notebook/assets/js/354.544a13c0.js"><link rel="prefetch" href="/Notebook/assets/js/355.d5f7255f.js"><link rel="prefetch" href="/Notebook/assets/js/356.7efdf2cd.js"><link rel="prefetch" href="/Notebook/assets/js/357.0b296e32.js"><link rel="prefetch" href="/Notebook/assets/js/358.a532d695.js"><link rel="prefetch" href="/Notebook/assets/js/359.01fd142f.js"><link rel="prefetch" href="/Notebook/assets/js/36.4ef6c0d1.js"><link rel="prefetch" href="/Notebook/assets/js/360.c71cb25e.js"><link rel="prefetch" href="/Notebook/assets/js/361.db70e72e.js"><link rel="prefetch" href="/Notebook/assets/js/362.670b7527.js"><link rel="prefetch" href="/Notebook/assets/js/363.ef0b3005.js"><link rel="prefetch" href="/Notebook/assets/js/364.63c1df56.js"><link rel="prefetch" href="/Notebook/assets/js/37.b0f3cb5d.js"><link rel="prefetch" href="/Notebook/assets/js/38.2ca6e078.js"><link rel="prefetch" href="/Notebook/assets/js/39.77206fea.js"><link rel="prefetch" href="/Notebook/assets/js/40.18d76f1c.js"><link rel="prefetch" href="/Notebook/assets/js/41.ed792d7a.js"><link rel="prefetch" href="/Notebook/assets/js/42.b983e72e.js"><link rel="prefetch" href="/Notebook/assets/js/43.3cdbe61c.js"><link rel="prefetch" href="/Notebook/assets/js/44.a4c1a462.js"><link rel="prefetch" href="/Notebook/assets/js/45.727fa84a.js"><link rel="prefetch" href="/Notebook/assets/js/46.a5665d33.js"><link rel="prefetch" href="/Notebook/assets/js/47.45efede1.js"><link rel="prefetch" href="/Notebook/assets/js/48.24e8e78b.js"><link rel="prefetch" href="/Notebook/assets/js/49.c426b444.js"><link rel="prefetch" href="/Notebook/assets/js/5.89a78b31.js"><link rel="prefetch" href="/Notebook/assets/js/50.41038e45.js"><link rel="prefetch" href="/Notebook/assets/js/51.3c34459c.js"><link rel="prefetch" href="/Notebook/assets/js/52.6df1c335.js"><link rel="prefetch" href="/Notebook/assets/js/53.69e41130.js"><link rel="prefetch" href="/Notebook/assets/js/54.591891ed.js"><link rel="prefetch" href="/Notebook/assets/js/55.d8d5bf6e.js"><link rel="prefetch" href="/Notebook/assets/js/56.c43a3733.js"><link rel="prefetch" href="/Notebook/assets/js/57.2c24f33c.js"><link rel="prefetch" href="/Notebook/assets/js/58.15a5e91b.js"><link rel="prefetch" href="/Notebook/assets/js/59.20cda08a.js"><link rel="prefetch" href="/Notebook/assets/js/6.f66bffc9.js"><link rel="prefetch" href="/Notebook/assets/js/60.beb8a99d.js"><link rel="prefetch" href="/Notebook/assets/js/61.2313bfd8.js"><link rel="prefetch" href="/Notebook/assets/js/62.ae93bded.js"><link rel="prefetch" href="/Notebook/assets/js/63.c0de4f2c.js"><link rel="prefetch" href="/Notebook/assets/js/64.b42cacb6.js"><link rel="prefetch" href="/Notebook/assets/js/65.719a31bb.js"><link rel="prefetch" href="/Notebook/assets/js/66.5c0128e7.js"><link rel="prefetch" href="/Notebook/assets/js/67.6107a140.js"><link rel="prefetch" href="/Notebook/assets/js/68.ac7fc4fa.js"><link rel="prefetch" href="/Notebook/assets/js/69.122426ed.js"><link rel="prefetch" href="/Notebook/assets/js/7.fbf1f9ec.js"><link rel="prefetch" href="/Notebook/assets/js/70.66e6b252.js"><link rel="prefetch" href="/Notebook/assets/js/71.28956fa1.js"><link rel="prefetch" href="/Notebook/assets/js/72.fcf3fb10.js"><link rel="prefetch" href="/Notebook/assets/js/73.947d80fa.js"><link rel="prefetch" href="/Notebook/assets/js/74.1d9d59de.js"><link rel="prefetch" href="/Notebook/assets/js/75.bbe5b314.js"><link rel="prefetch" href="/Notebook/assets/js/76.d018671b.js"><link rel="prefetch" href="/Notebook/assets/js/77.fca59f83.js"><link rel="prefetch" href="/Notebook/assets/js/78.4a545e59.js"><link rel="prefetch" href="/Notebook/assets/js/79.a039fbdf.js"><link rel="prefetch" href="/Notebook/assets/js/8.c69b9065.js"><link rel="prefetch" href="/Notebook/assets/js/80.d203faaa.js"><link rel="prefetch" href="/Notebook/assets/js/81.d193c9f3.js"><link rel="prefetch" href="/Notebook/assets/js/82.4675ade1.js"><link rel="prefetch" href="/Notebook/assets/js/83.ee538b4f.js"><link rel="prefetch" href="/Notebook/assets/js/84.8962589d.js"><link rel="prefetch" href="/Notebook/assets/js/85.76922906.js"><link rel="prefetch" href="/Notebook/assets/js/86.ec43215f.js"><link rel="prefetch" href="/Notebook/assets/js/87.46322abb.js"><link rel="prefetch" href="/Notebook/assets/js/88.5594f40a.js"><link rel="prefetch" href="/Notebook/assets/js/89.7f421583.js"><link rel="prefetch" href="/Notebook/assets/js/90.853bb5b2.js"><link rel="prefetch" href="/Notebook/assets/js/91.fa605797.js"><link rel="prefetch" href="/Notebook/assets/js/92.f770f194.js"><link rel="prefetch" href="/Notebook/assets/js/93.1f9e6fb6.js"><link rel="prefetch" href="/Notebook/assets/js/94.2260cf7f.js"><link rel="prefetch" href="/Notebook/assets/js/95.6b1244de.js"><link rel="prefetch" href="/Notebook/assets/js/96.39617d63.js"><link rel="prefetch" href="/Notebook/assets/js/97.e4b8e984.js"><link rel="prefetch" href="/Notebook/assets/js/98.85e69ce3.js"><link rel="prefetch" href="/Notebook/assets/js/99.e2930b98.js">
    <link rel="stylesheet" href="/Notebook/assets/css/0.styles.b1f38863.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Notebook/" class="home-link router-link-active"><!----> <span class="site-name">Naluduo's Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link">
  📝日常记录
</a></div><div class="nav-item"><a href="/Notebook/blogs/" class="nav-link">
  📖文章合集
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端知识体系" class="dropdown-title"><span class="title">前端知识体系</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/frontend-web/" class="nav-link router-link-active">
  基础知识
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/web-framework/" class="nav-link">
  🐂web 框架
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/rethink/" class="nav-link">
  🤔复盘
</a></li><li class="dropdown-item"><h4>
          ️️🧘算法修炼
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Notebook/understand-the-computer/" class="nav-link">
  理解计算机
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/dataStructure.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/algorithm.html" class="nav-link">
  算法分类
</a></li><li class="dropdown-subitem"><a href="/Notebook/dataBase/index.html" class="nav-link">
  数据库
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Notebook/devops/" class="nav-link">
  ☁️运维
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/test/" class="nav-link">
  🚬测试
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/gis/" class="nav-link">
  🌍GIS
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/tools/" class="nav-link">
  ️️🖱️工具
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/network/" class="nav-link">
  ️️🐛网络工程
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/game-development/" class="nav-link">
  ️️🎮游戏开发
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-language/" class="nav-link">
  🚶编程语言
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-paradigm/" class="nav-link">
  编程范式
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  ✔️编码规范&amp;协同开发
</a></div><div class="nav-item"><a href="/Notebook/math/" class="nav-link">
  𝜋数学
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计" class="dropdown-title"><span class="title">设计</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/design/" class="nav-link">
  🖌️UI
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  🏷书签整理
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📖知识脑图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://naluduo.vip/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔧个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔗Github" class="dropdown-title"><span class="title">🔗Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/naluduo233" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Jecyu github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/language-learning/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英语学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Fe-Auto-Testing/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端自动化测试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/JS-Event-Loop/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JS 事件循环机制
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Web-Performance-Optimization/reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微谈 Web 前端性能优化
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link">
  📝日常记录
</a></div><div class="nav-item"><a href="/Notebook/blogs/" class="nav-link">
  📖文章合集
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端知识体系" class="dropdown-title"><span class="title">前端知识体系</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/frontend-web/" class="nav-link router-link-active">
  基础知识
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/web-framework/" class="nav-link">
  🐂web 框架
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/rethink/" class="nav-link">
  🤔复盘
</a></li><li class="dropdown-item"><h4>
          ️️🧘算法修炼
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Notebook/understand-the-computer/" class="nav-link">
  理解计算机
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/dataStructure.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/algorithm.html" class="nav-link">
  算法分类
</a></li><li class="dropdown-subitem"><a href="/Notebook/dataBase/index.html" class="nav-link">
  数据库
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Notebook/devops/" class="nav-link">
  ☁️运维
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/test/" class="nav-link">
  🚬测试
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/gis/" class="nav-link">
  🌍GIS
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/tools/" class="nav-link">
  ️️🖱️工具
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/network/" class="nav-link">
  ️️🐛网络工程
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/game-development/" class="nav-link">
  ️️🎮游戏开发
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-language/" class="nav-link">
  🚶编程语言
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-paradigm/" class="nav-link">
  编程范式
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  ✔️编码规范&amp;协同开发
</a></div><div class="nav-item"><a href="/Notebook/math/" class="nav-link">
  𝜋数学
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计" class="dropdown-title"><span class="title">设计</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/design/" class="nav-link">
  🖌️UI
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  🏷书签整理
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📖知识脑图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://naluduo.vip/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔧个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔗Github" class="dropdown-title"><span class="title">🔗Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/naluduo233" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Jecyu github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/language-learning/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英语学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Fe-Auto-Testing/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端自动化测试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/JS-Event-Loop/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JS 事件循环机制
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Web-Performance-Optimization/reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微谈 Web 前端性能优化
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Notebook/frontend-web/browser.html" class="sidebar-link">浏览器</a></li><li><a href="/Notebook/frontend-web/css.html" class="sidebar-link">CSS 项目实战总结（持续更新）</a></li><li><a href="/Notebook/frontend-web/js.html" class="sidebar-link">JS</a></li><li><a href="/Notebook/frontend-web/es6.html" class="sidebar-link">ES6</a></li><li><a href="/Notebook/frontend-web/ts.html" class="sidebar-link">TypeScript 项目总结（持续更新）</a></li><li><a href="/Notebook/frontend-web/vue2.html" class="sidebar-link">Vue 2.x项目开发总结（持续更新）</a></li><li><a href="/Notebook/frontend-web/react.html" class="sidebar-link">React</a></li><li><a href="/Notebook/frontend-web/regex.html" class="sidebar-link">正则表达式</a></li><li><a href="/Notebook/frontend-web/" aria-current="page" class="sidebar-link">前端工程化</a></li><li><a href="/Notebook/frontend-web/webgl.html" aria-current="page" class="active sidebar-link">WebGL 从入门到实战总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#_0-前言" class="sidebar-link">0. 前言</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#oepngl-es-3-0" class="sidebar-link">OepnGL ES 3.0</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#_1-入门（小白-p6）" class="sidebar-link">1. 入门（小白 p6）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#什么是-webgl" class="sidebar-link">什么是 WebGL</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#weggl-的工作原理" class="sidebar-link">WegGL 的工作原理</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#什么是-glsl" class="sidebar-link">什么是 GLSL</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#_2d-图形" class="sidebar-link">2D 图形</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#_3d-图形" class="sidebar-link">3D 图形</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#_2-进阶（p7）" class="sidebar-link">2. 进阶（P7）</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#_3-项目实战" class="sidebar-link">3. 项目实战</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#基于html5原生webgl实现的轻量级google-earth三维地图引擎" class="sidebar-link">基于HTML5原生WebGL实现的轻量级Google Earth三维地图引擎</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#_3-1-地图导出图片问题" class="sidebar-link">3.1 地图导出图片问题</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#_3-2-图层置灰问题" class="sidebar-link">3.2 图层置灰问题</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#_3-3-custom-webgl-layer-view" class="sidebar-link">3.3 Custom WebGL layer view</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#_3-4-use-three-js-from-an-external-renderer" class="sidebar-link">3.4  Use three.js from an external renderer</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/webgl.html#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/Notebook/frontend-web/architecture.html" class="sidebar-link">前端架构</a></li><li><a href="/Notebook/frontend-web/authentication.html" class="sidebar-link">鉴权&amp;&amp;认证</a></li><li><a href="/Notebook/frontend-web/chrome.html" class="sidebar-link">chrome 调试技巧</a></li><li><a href="/Notebook/frontend-web/noJQ.html" class="sidebar-link">You (Might) Don't Need jQuery</a></li><li><a href="/Notebook/frontend-web/performance.html" class="sidebar-link">性能优化</a></li><li><a href="/Notebook/frontend-web/npm.html" class="sidebar-link">npm</a></li><li><a href="/Notebook/frontend-web/lodash.html" class="sidebar-link">lodash 源码分析及思路学习</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webgl-从入门到实战总结"><a href="#webgl-从入门到实战总结" class="header-anchor">#</a> WebGL 从入门到实战总结</h1> <h2 id="_0-前言"><a href="#_0-前言" class="header-anchor">#</a> 0. 前言</h2> <p><strong>主要解决：</strong></p> <ul><li>地图导出图片问题（现在专题制图，通过 GP 服务，除了地图外，是可以把绘制的东西，也一并导出来的。现在只不过是不能通过客户端导图而已，不算紧急。主要看图层置灰的第二点。）</li> <li>图层置灰问题（可以 review 4.13 源码 swipe 是如何与图层关联操作的。）</li> <li>三维地图与二维地图的渲染区别（坐标系、定位、绘制等）</li></ul> <p>入门教程</p> <ul><li>开始 WebGL</li> <li>给 WebGL 的上下文环境添加 2D 内容</li> <li>在 WebGL 中使用着色器（shader）去赋予颜色</li> <li>用 WebGL 让对象动起来</li> <li>使用 WebGL 创建 3D 物体</li> <li>在 WebGL 中使用纹理贴图（texture）</li> <li>WebGL 中的灯光</li> <li>WebGL 中的动画纹理贴图</li></ul> <p>以下使用 WebGL 1.0 版本</p> <h2 id="oepngl-es-3-0"><a href="#oepngl-es-3-0" class="header-anchor">#</a> OepnGL ES 3.0</h2> <p><img src="/Notebook/assets/img/2021-04-12-14-39-26.8bf71fa1.png" alt=""></p> <h2 id="_1-入门（小白-p6）"><a href="#_1-入门（小白-p6）" class="header-anchor">#</a> 1. 入门（小白 p6）</h2> <ul><li>WebGL 是一组图形 API，允许我们使用 JavaScript 控制 GPU 渲染过程，进行 3D 绘图。</li> <li>WebGL 应用由 JavaScript 程序和着色器程序构成。</li> <li>WebGL 如何将 3D 模型数据显示在 2D 平面上。</li> <li>WebGL 编程要素：开发者需要针对 CPU 和 GPU 进行编程，CPU 部分是 JavaScript 程序，GPU 部分是着色器程序。</li></ul> <h3 id="什么是-webgl"><a href="#什么是-webgl" class="header-anchor">#</a> 什么是 WebGL</h3> <p>WebGL 是一组基于 JavaScript 语言的图形规范，浏览器厂商按照这组规范进行实现，为 Web 开发者提供一套 <code>3D 图形</code>相关的 API。那么，这些 API 能够帮助开发者做些什么呢？</p> <p>这些 API 能够让 Web 开发者使用 JavaScript 语言直接和显卡（GPU）进行通信。当然 WebGL 的 GPU 部分也有对应的编程语言，简称 <code>GLSL</code>。我们用它来编写运行在 GPU 上的着色器程序。着色器程序需要接收 CPU（WebGL 使用 JavaScript）传递过来的数据，然后对这些数据进行流水线处理，最终显示在屏幕上，进而显示丰富多彩的 3D 应用，比如 3D 图表，网页游戏，3D 地图，WebVR 等。</p> <p><img src="/Notebook/assets/img/2021-01-20-18-38-14.47e9b219.png" alt=""></p> <h3 id="weggl-的工作原理"><a href="#weggl-的工作原理" class="header-anchor">#</a> WegGL 的工作原理</h3> <p>3D 模型数据从诞生到最终显示在屏幕上，这期间经历了什么样的过程呢？大家可以想象一下 <code>流水线</code>的生产过程，流水线按照既定的步骤对原料进行加工，当前步骤只对前一步骤进行处理，然后将处理后的结果传递给下一步骤，最终将原材料生产成完整的产品。WebGL 的工作方式和流水线类似，也是按照流水线的方式将 3D 模型数据渲染到 2D 屏幕上的，业界把这种渲染方式称为<code>图形管线</code> 或者 <code>渲染管线</code>。</p> <p>我们知道，WegGL 只能够绘制 <code>点</code>、<code>线段</code>、<code>三角形</code>这三种图元，但是我们经常看到 WebGL 程序中含有立方体、球体、圆柱体等规则形体，甚至很多更复杂更逼真的不规则模型，那么 WebGL 是如何绘制它们的呢？其实这些模型本质上是由一个一个的<code>点</code> 组成，<code>GPU</code> 将这些点用 <code>三角形图元</code> 绘制成一个个的微小平面，这些平面之间互相连接，从而组成各种各样的立体模型。</p> <p>因此，我们的首要任务是创建组成这些模型的顶点数据。</p> <p>一般情况下，最初的顶点坐标是相对于 <code>模型中心</code>的，不能直接传递到着色器中，我们需要对 <code>顶点坐标</code> 按照一系列步骤执行 <code>模型变换</code>，<code>视图变换</code>，<code>投影转换</code>，转换之后的坐标才是 WebGL 可接受的坐标，即<code>裁剪空间坐标</code>。我们把最终的 <code>变换矩阵</code> 和 <code>原始顶点坐标</code> 传递给 <code>GPU</code>，GPU 的渲染管线丢它们执行流水线作业。</p> <p>GPU 渲染管线的主要处理过程如下：</p> <ul><li>首先进入<strong>顶点着色器阶段</strong>，利用 GPU 的并行计算优势对顶点逐个进行坐标变换。</li> <li>然后进入<strong>图元装配阶段</strong>，将顶点按照图元类型组装成图形。</li> <li>接下来是<strong>光栅化阶段</strong>，光栅化阶段将图形用不包含颜色信息的像素填充。</li> <li>在之后进行<strong>片元着色器</strong>，该阶段为像素着色，并最终显示在屏幕上。</li></ul> <h3 id="什么是-glsl"><a href="#什么是-glsl" class="header-anchor">#</a> 什么是 GLSL</h3> <p><code>GLSL</code> 的中文意思是 OpenGL 着色语言，英文全称是 OpenGL Shading Language，它是用来在 OpenGL 编写<code>着色器程序</code>的语言。</p> <ul><li>着色器程序
<ul><li>我们知道了 GLSL 是用来编写着色器程序的语言，那么新的问题来了，着色器程序是用来做什么的呢？简单来说，着色器程序是在显卡（GPU）<code>固定渲染管线</code>的一部分，使 GPU 渲染过程中的某些部分允许开发者通过 <code>编程</code>进行控制。</li></ul></li></ul> <p>用一句话来说：着色器程序允许我们通过编程来控制 GPU 的渲染。</p> <img src="/Notebook/assets/img/2021-02-10-12-19-39.a6ac42e8.png" style="zoom:50%;"> <p>上图简单演示了 WebGL 对一个红色三角形的渲染过程，绿色部分为开发者可以通过编程的部分：</p> <ul><li>JavaScript 程序
<ul><li>处理着色器需要的 <code>顶点坐标</code>、<code>法向量</code> <code>颜色</code> <code>纹理</code>等信息，并负责为 <code>着色器</code> 提供这些数据，上图为了演示方便，只是提供了三角形顶点的位置数据。</li></ul></li> <li>顶点着色器
<ul><li>接收 JavaScript 传递过来的 <code>顶点信息</code>，将顶点绘制到对应坐标。</li></ul></li> <li>图元装配器
<ul><li>将三个顶点装配成指定<code>图元类型</code>，上图采用的是三角形图元。</li></ul></li> <li>光栅化阶段
<ul><li>将三角形内部区域用空像素进行着色。</li></ul></li> <li>片元着色器
<ul><li>为三角形内部的像素填充颜色信息，上图为暗红色。</li></ul></li></ul> <p>实际上，对顶点信息的变换操作既可以在 <code>JavaScript</code> 中进行，也可以在<code>着色器程序</code> 中进行。通常我们都是在 <code>JavaScript</code> 中生成一个包含了所有变换的最终矩阵变换，然后将矩阵传递给着色器，利用 GPU 并行计算优势对所有顶点执行变换。</p> <ul><li>向量是数字数组，它可以表示空间中的点（顶点），也可以表示方向（偏移）。</li> <li>当它代表一个点时，它是一个坐标列表。
<ul><li>例如，[2, 4] 可以表示 2D 点的 X 和 Y 坐标，[3, 5, 2] 可以表示 3D 的 X，Y 和 Z 坐标。</li></ul></li> <li>当是方向时（从空间中的位置到另一个位置），它表示在每个坐标中如何应用偏移量。你可以想象它像箭一样。
<ul><li>例如，[1, 2, 3] 表示 X 偏移为 1 个单位，Y 偏移 2 个单位，Z 偏移 3 个单位。</li></ul></li> <li>与顶点相反，方向向量没有位置。它们仅代表一个偏移量，并且该偏移量可以从任何位置开始。
<ul><li>你可以像这样构建向量 AB（从 A 点到 B 点）：AB = [xB - xA, yB - yA, zB - zA]。</li></ul></li></ul> <h4 id="操作向量"><a href="#操作向量" class="header-anchor">#</a> 操作向量</h4> <blockquote><p>相加、相乘</p></blockquote> <ul><li>将两个向量相加，就是将它们的项一一相加：<code>V + W = [xV + xW，yV + yW，zV + zW]。</code>
&lt;!-- - <img src="/Notebook/assets/img/2021-01-22-10-43-04.f058fbde.png" alt=""> <ul><li><img src="/Notebook/assets/img/2021-01-22-10-44-32.12df9f22.png" alt=""></li> <li><img src="/Notebook/assets/img/2021-01-22-10-44-41.389648e9.png" alt=""> --&gt;</li></ul></li> <li>缩放向量包括将所有项乘以给定的量：<code>V * n = [xV * n, yV * n, zV * n]。</code>
&lt;!-- - <img src="/Notebook/assets/img/2021-01-22-10-50-34.7b3bb004.png" alt=""> <ul><li><img src="/Notebook/assets/img/2021-01-22-10-51-29.a2087cb2.png" alt=""> --&gt;</li></ul></li> <li>测量向量的长度（或大小）类似于使用毕达哥拉斯测量两点之间的距离：<code>|| V || = sqrt（xV²+yV²+zV²）</code></li> <li>对向量进行归一化包括将其长度调整为 1 个单位，而不改变其方向。等效于按 <code>1 / || V ||</code> 进行缩放。</li> <li>可以使用<strong>点积</strong>计算两个归一化向量 V 和 W 之间的相对角度（方向差）：<code>V.W = xV * xW + yV * yW + zV * zW。</code> <ul><li>点积等于向量之间角度的余弦值。 例如，如果它们相等，则为 1；如果垂直，则为 0；如果相反，则为-1。</li></ul></li></ul> <p><img src="/Notebook/assets/img/dot.e36108c3.gif" alt=""></p> <ul><li>两个向量 V 和 W 的叉积是一个垂直于两个向量的向量。 可以这样计算：<code>V×W = [yV * zW-zV * yW，zV * xW-xV * zW，xV * yW-yV * xW]</code>。</li></ul> <p><img src="/Notebook/assets/img/cross.786d2d46.gif" alt=""></p> <ul><li>三角形 ABC 的法线是垂直于其表面的向量，更准确地说，垂直于三角形内部的任何向量。
<ul><li>如果点 A，B 和 C 逆时针排列，则可以将其计算为向量 AB 和 BC 的叉积。 （如果为顺时针方向，法线将指向相反的方向）。</li> <li>顾名思义，三角形的法线必须归一化，因为它经常涉及点积。</li></ul></li></ul> <p><img src="/Notebook/assets/img/2020-12-18-13-55-32.b9918b5f.png" alt=""></p> <blockquote><p>归一化（normalize）：１）把数据变成(０，１)或者（1,1）之间的小数。主要是为了数据处理方便提出来的，把数据映射到 0 ～ 1 范围之内处理，更加便捷快速。２）把有量纲表达式变成无量纲表达式，便于不同单位或量级的指标能够进行比较和加权。归一化是一种简化计算的方式，即将有量纲的表达式，经过变换，化为无量纲的表达式，成为纯量。
作者：brucep3
链接：https://www.jianshu.com/p/95a8f035c86c
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p></blockquote> <h4 id="矩阵"><a href="#矩阵" class="header-anchor">#</a> 矩阵</h4> <blockquote><p>在 3D 图形引擎中，计算可以在多个不同的笛卡儿坐标空间中执行，从一个坐标空间到另一个坐标空间需要使用变换矩阵。</p></blockquote> <p>矩阵是数字的网格（n 行 m 列数字组成的数组）。 它表示一个线性方程组，可以通过乘法应用于任何向量。将矩阵与向量相乘在于计算向量与矩阵的每一行的点积。</p> <p><img src="/Notebook/assets/img/2020-12-18-14-04-10.5cd3b626.png" alt=""></p> <p>例如，在 3D 中，下面的“身份”矩阵将向量转换成自身（这是中立的操作。</p> <p><img src="/Notebook/assets/img/2021-01-21-19-07-04.d8e65db6.png" alt=""></p> <p>如果在对角线上使用不同于 1 的值，则向量将被缩放：</p> <p><img src="/Notebook/assets/img/2021-01-21-19-12-14.27df3b86.png" alt=""></p> <p>如果在其他字段中使用适当的值，则可以执行旋转：</p> <ul><li>沿 X 轴（弧度的角度 φ）</li></ul> <p><img src="/Notebook/assets/img/2021-01-21-19-14-57.d4a8a720.png" alt=""></p> <ul><li>沿 Y 轴（弧度角 θ）：</li></ul> <p><img src="/Notebook/assets/img/2021-01-21-19-17-45.a6b731ad.png" alt=""></p> <ul><li>沿 Z 轴（弧度 ψ）：</li></ul> <p><img src="/Notebook/assets/img/2021-01-21-19-18-08.19de5e47.png" alt=""></p> <p>弧度：2𝜋</p> <p><img src="/Notebook/assets/img/2021-01-21-19-29-19.62383bc0.png" alt=""></p> <p>角度：θ</p> <h4 id="矩阵的运算"><a href="#矩阵的运算" class="header-anchor">#</a> 矩阵的运算</h4> <ul><li>可以通过反转矩阵的水平和垂直轴（对角线保持不变）来转置矩阵
<ul><li><img src="data:image/png;base64,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" alt=""></li> <li>可以将两个或两个以上大小相等的矩阵相乘，以合并（累加）它们的变换。</li> <li>结果是一个矩阵，其中包含第一矩阵的每一行与第二矩阵的每一列的点积。</li> <li>组合顺序很重要，从右到左。 例如，执行平移 T，然后旋转 R，然后比例 S 的矩阵等于 S * R *T。</li></ul></li></ul> <p>最后，矩阵可以求逆，它带有一个复杂的方程式，它取消了原始矩阵所做的转换。</p> <p><code>A * A-1 = identity</code></p> <p><code>A * A-1 * V = V</code></p> <p>齐次坐标</p> <ul><li>在屏幕上渲染顶点时，只有 x、y 和 z 坐标重要，先前用于计算平移和投影的 W 坐标会被丢弃。</li></ul> <h3 id="_2d-图形"><a href="#_2d-图形" class="header-anchor">#</a> 2D 图形</h3> <ul><li>图元：WebGL 能够绘制的基本图形元素，包含三种：<code>点</code>、<code>线段</code>、<code>三角形</code>。</li> <li>片元：可以理解为像素，像素着色阶段是在片元着色器中。</li> <li>裁剪坐标系：裁剪坐标系是顶点着色器的 <code>gl_Position</code> 内置变量接收到坐标所在的坐标系。</li> <li>设备坐标系：又名 NDC 坐标系，是裁剪坐标系各个分量对 w 分量相除得到的坐标系，特点是 x、y、z 坐标分量的取值范围都在【-1， 1】 之间，可以将它理解为边长为 2 的正方体，坐标系原点在正方体中心。</li></ul> <h4 id="hello-point"><a href="#hello-point" class="header-anchor">#</a> Hello, point</h4> <p>这里有个最简单的 WebGL 程序，在画布中间绘制一个红色的正方形。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Hello，point<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token comment">// Get the WebGL rendering context</span>
      <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> gl <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;webgl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Vertex shader</span>
      <span class="token keyword">const</span> vshader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      void main() {
        // Set vertex position: vec4(x, y, z, 1.0)
        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);

        // Point size in pixels: float
        gl_PointSize = 10.0;
      }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

      <span class="token comment">// Fragment shader</span>
      <span class="token keyword">const</span> fshader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      precision mediump float;
      void main() {
        // Set fragment color: vec4(r, g, b, alpha)
        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
      }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

      <span class="token comment">// Compile the vertex shader</span>
      <span class="token keyword">const</span> vs <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createShader</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">VERTEX_SHADER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">shaderSource</span><span class="token punctuation">(</span>vs<span class="token punctuation">,</span> vshader<span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">compileShader</span><span class="token punctuation">(</span>vs<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Compile the fragment shader</span>
      <span class="token keyword">const</span> fs <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createShader</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">FRAGMENT_SHADER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">shaderSource</span><span class="token punctuation">(</span>fs<span class="token punctuation">,</span> fshader<span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">compileShader</span><span class="token punctuation">(</span>fs<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Create the WebGL program and use it</span>
      <span class="token keyword">const</span> program <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createProgram</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">attachShader</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> vs<span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">attachShader</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> fs<span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">linkProgram</span><span class="token punctuation">(</span>program<span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">useProgram</span><span class="token punctuation">(</span>program<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Log compilation errors, if any</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;vertex shader:&quot;</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token function">getShaderInfoLog</span><span class="token punctuation">(</span>vs<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;fragment shader:&quot;</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token function">getShaderInfoLog</span><span class="token punctuation">(</span>fs<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;program:&quot;</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token function">getProgramInfoLog</span><span class="token punctuation">(</span>program<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Set the clear color (black)</span>
      gl<span class="token punctuation">.</span><span class="token function">clearColor</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  set the default background color</span>

      <span class="token comment">// Clear the canvas</span>
      gl<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">COLOR_BUFFER_BIT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Draw points</span>
      gl<span class="token punctuation">.</span><span class="token function">drawArrays</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">POINTS</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// mode, starting pint, number of points to draw</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br></div></div><h5 id="技巧-提示"><a href="#技巧-提示" class="header-anchor">#</a> 技巧&amp;提示</h5> <ul><li>在某些设备上，最大支持的点大小是 62 px 值，更多信息可以看 <a href="http://webglstats.com/webgl/parameter/ALIASED_POINT_SIZE_RANGE" target="_blank" rel="noopener noreferrer">webglstats<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>在某些设备上，如果点的中心在画布之外，则这些点可能会完全消失（有关 <a href="/Notebook/frontend-web/(https:/webglfundamentals.org/webgl/lessons/webgl-drawing-without-data.html#pointsissues)">webglfundamentals</a> 的更多信息）。</li> <li>如果你不喜欢把你的 着色器代码放在 JS 字符串中，你也可以用：
<ul><li>script 块（<code>&lt;script type=&quot;x-shader/x-vertex&quot; id=&quot;vshader&quot;&gt;...&lt;/script&gt; / &lt;script type=&quot;x-shader/x-fragment&quot; id=&quot;fshader&quot;&gt;...&lt;/script&gt;</code>）
(然后使用 <code>document.getElementById('vshader').innerText / document.getElementById('fshader').innerText)</code> 进行获取)。</li> <li>外部文件，比如 fs 外部文件，例如 fshader.glsl 和 vshader.glsl)
（并使用 XHR，提取或您选择的任何方法将其检索为文本)</li></ul></li> <li>程序的创建（第 26 至 46 行）总是相同且非常冗长，因此我们可以将其放在 compile（）函数中，并在下一章中重用它（请参见 webgl.js）：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Compile a WebGL program from a vertex shader and a fragment shader</span>
<span class="token function-variable function">compile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">gl<span class="token punctuation">,</span> vshader<span class="token punctuation">,</span> fshader</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Compile the vertex shader</span>
  <span class="token keyword">const</span> vs <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createShader</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">VERTEX_SHADER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">shaderSource</span><span class="token punctuation">(</span>vs<span class="token punctuation">,</span> vshader<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">compileShader</span><span class="token punctuation">(</span>vs<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Compile the fragment shader</span>
  <span class="token keyword">const</span> fs <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createShader</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">FRAGMENT_SHADER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">shaderSource</span><span class="token punctuation">(</span>fs<span class="token punctuation">,</span> fshader<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">compileShader</span><span class="token punctuation">(</span>fs<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Create the WebGL program and use it</span>
  <span class="token keyword">const</span> program <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createProgram</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">attachShader</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> vs<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">attachShader</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> fs<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">linkProgram</span><span class="token punctuation">(</span>program<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">useProgram</span><span class="token punctuation">(</span>program<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Log compilation errors, if any</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;vertex shader:&quot;</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token function">getShaderInfoLog</span><span class="token punctuation">(</span>vs<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;fragment shader:&quot;</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token function">getShaderInfoLog</span><span class="token punctuation">(</span>fs<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;program:&quot;</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token function">getProgramInfoLog</span><span class="token punctuation">(</span>program<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> program<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="自定义值：属性（attributes）-和-uniforms"><a href="#自定义值：属性（attributes）-和-uniforms" class="header-anchor">#</a> 自定义值：属性（attributes） 和 uniforms</h4> <p>当然，如果 WebGL 仅仅是画一个点，就不会很有趣。</p> <p>为了使它更灵活，我们可以为其提供自定义值。这可以通过 attributes（顶点缓冲区） 和 uniforms（两种缓冲区都可以读取）来完成。</p> <ul><li>atrribute 属性是变量，可以包含浮点数或向量（vec2，vec3，vec4）。你的程序在所有设备上都不能超过 16 个属性。</li> <li>uniform 是常量，可以包含 int、float，向量或矩阵（mat2，mat3，mat4）。你的程序不应超过 128 个顶点 uniform 和 64 个片段 uniform。</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Custom values: attributes and uniform<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>../lib/webgl.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token comment">// Get the WebGL rendering context</span>
      <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> gl <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;webgl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">function</span> <span class="token function">compile</span><span class="token punctuation">(</span><span class="token parameter">gl<span class="token punctuation">,</span> vshader<span class="token punctuation">,</span> fshader</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Compile the vertex shader</span>
        <span class="token keyword">const</span> vs <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createShader</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">VERTEX_SHADER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">shaderSource</span><span class="token punctuation">(</span>vs<span class="token punctuation">,</span> vshader<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">compileShader</span><span class="token punctuation">(</span>vs<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Compile the fragment shader</span>
        <span class="token keyword">const</span> fs <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createShader</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">FRAGMENT_SHADER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">shaderSource</span><span class="token punctuation">(</span>fs<span class="token punctuation">,</span> fshader<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">compileShader</span><span class="token punctuation">(</span>fs<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Create the WebGL program and use it</span>
        <span class="token keyword">const</span> program <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createProgram</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">attachShader</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> vs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">attachShader</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> fs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">linkProgram</span><span class="token punctuation">(</span>program<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">useProgram</span><span class="token punctuation">(</span>program<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Log compilation errors, if any</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;vertex shader:&quot;</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token function">getShaderInfoLog</span><span class="token punctuation">(</span>vs<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;fragment shader:&quot;</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token function">getShaderInfoLog</span><span class="token punctuation">(</span>fs<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;program:&quot;</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token function">getProgramInfoLog</span><span class="token punctuation">(</span>program<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> program<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// Vertex shader</span>
      <span class="token keyword">const</span> vshader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      attribute vec4 position;
      attribute float size;
      void main() {
        gl_Position = position;
        gl_PointSize = size;
      }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

      <span class="token comment">// Fragment shader</span>
      <span class="token keyword">const</span> fshader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      precision mediump float;
      uniform vec4 color;
      void main() {
        gl_FragColor = color;
      }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

      <span class="token comment">// Compile program</span>
      <span class="token keyword">const</span> program <span class="token operator">=</span> <span class="token function">compile</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> vshader<span class="token punctuation">,</span> fshader<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Select the position attribute and set its X/Y/Z values</span>
      <span class="token keyword">const</span> position <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getAttribLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">vertexAttrib4f</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Select the size attribute and set its value</span>
      <span class="token keyword">const</span> size <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getAttribLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">&quot;size&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">vertexAttrib1f</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Select the color uniform and set its value</span>
      <span class="token keyword">const</span> color <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getUniformLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">&quot;color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">uniform4f</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Set the clear color (black)</span>
      gl<span class="token punctuation">.</span><span class="token function">clearColor</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Clear the canvas</span>
      gl<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">COLOR_BUFFER_BIT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Draw points</span>
      gl<span class="token punctuation">.</span><span class="token function">drawArrays</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">POINTS</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// mode, starting pint, number of points to draw</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br></div></div><h5 id="what-happens-here"><a href="#what-happens-here" class="header-anchor">#</a> What happens here?</h5> <ul><li>Position is declared with <code>attribute vec4 position;</code>, targeted with <code>position = gl.getAttribLocation(program, 'position')</code> and set with <code>gl.vertexAttrib4f(position, 0, 0, 0, 1)</code>.</li> <li>Point size is declared with <code>attribute float size;</code>, targeted with <code>size = gl.getAttribLocation(program, 'size')</code> and set with <code>gl.vertexAttrib1f(size, 10)</code>.</li> <li>Point color is declared with <code>uniform float color;,</code> targeted with <code>color = gl.getUniformLocation(program, 'color')</code>and set with <code>gl.uniform1f(color, 1, 0, 0, 1)</code>.</li></ul> <h5 id="绑定-attribute-和-uniform"><a href="#绑定-attribute-和-uniform" class="header-anchor">#</a> 绑定 attribute 和 uniform</h5> <table><thead><tr><th>Type</th> <th>GLSL declaration</th> <th>How to set its value in JS</th></tr></thead> <tbody><tr><td>vec4</td> <td>attribute vec4 v;</td> <td>var f = gl.getAttribLocation(program, 'f'); <br><code>gl.vertexAttrib4f(f, 1.0, 2.0, 3.0, 4.0); // list</code><br><code>gl.vertexAttrib4fv(f, [1.0, 2.0, 3.0, 4.0]); // or array</code></td></tr> <tr><td>float</td> <td>attribute float f;</td> <td><code>var f = gl.getAttribLocation(program, 'f');</code> <br><code>gl.vertexAttrib1f(f, 1.0);</code></td></tr></tbody></table> <p>uniforms 可以这样设置：</p> <p><img src="/Notebook/assets/img/2021-01-28-09-13-06.d042f66f.png" alt=""></p> <h5 id="技巧与提示"><a href="#技巧与提示" class="header-anchor">#</a> 技巧与提示</h5> <ul><li>vec4 属性的第四个值默认情况下为 1.0，因此经常遇到一些仅用 <code>gl.vertexAttrib3f(position, 0, 0, 0);</code></li> <li>Boolean Uniform 在语言规范中也存在，但不适用于所有设备。如果需要一个，请考虑将其体会为 int 或 float。</li> <li>Matrix 属性在该语言的规范中也存在，但是 JavaScript 没有方便的方法来设置其值，而且它们也并不是很有用。
你可以通过设置新的属性 attribute 或 uniform 并再次调用 drawArrays 来绘制任意数量的点。
例如，您可以添加以下行以添加其他两个点：<div class="language-js line-numbers-mode"><pre class="language-js"><code>gl<span class="token punctuation">.</span><span class="token function">vertexAttrib3f</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">uniform4f</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// green</span>
gl<span class="token punctuation">.</span><span class="token function">drawArrays</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">POINTS</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

gl<span class="token punctuation">.</span><span class="token function">vertexAttrib3f</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">uniform4f</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// blue</span>
gl<span class="token punctuation">.</span><span class="token function">drawArrays</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">POINTS</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li>在片段着色器（fragment shader）内部，你可以访问 <code>gl_PointCoord vec2</code>，以告诉你片段在点中的放置位置。
此外，在 GLSL 中，你可以使用 <code>discard</code> 语句来避免渲染，并使用 <code>distance()</code> 测量两点之间的距离。
结果，你可以舍弃距离中心半径为 0.5 的每个片段，从而获得一个圆点。<div class="language-js line-numbers-mode"><pre class="language-js"><code>float d <span class="token operator">=</span> <span class="token function">distance</span><span class="token punctuation">(</span>gl_PointCoord<span class="token punctuation">,</span> <span class="token function">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>d <span class="token operator">&lt;</span> <span class="token number">.5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>gl_FragColor <span class="token operator">=</span> <span class="token function">vec4</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span> discard<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h4 id="绘制多个点，一个连续性的问题"><a href="#绘制多个点，一个连续性的问题" class="header-anchor">#</a> 绘制多个点，一个连续性的问题</h4> <p>默认情况下，WebGL 在连续多次调用 <code>gl.drawArrays</code> 是没有问题的，但只能在相同的时间帧内不断调用。（待考察这个翻译）</p> <p>这里有个例子在每 500 ms 绘制一个新的点。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Draw many points， a matter of continuity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>../lib/webgl.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token comment">// Get the WebGL rendering context</span>
      <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// const gl = canvas.getContext(&quot;webgl&quot;);</span>
      <span class="token keyword">const</span> gl <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;webgl&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> preserveDrawingBuffer<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 强制保留旧的绘制内容</span>

      <span class="token comment">// Vertex shader</span>
      <span class="token keyword">const</span> vshader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      attribute vec4 position;
      attribute float size;
      void main() {
        gl_Position = position;
        gl_PointSize = size;
      }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

      <span class="token comment">// Fragment shader</span>
      <span class="token keyword">const</span> fshader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      precision mediump float;
      uniform vec4 color;
      void main() {
        gl_FragColor = color;
      }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

      <span class="token comment">// Compile program</span>
      <span class="token keyword">const</span> program <span class="token operator">=</span> <span class="token function">compile</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> vshader<span class="token punctuation">,</span> fshader<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Select the position attribute and set its X/Y/Z values</span>
      <span class="token keyword">const</span> position <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getAttribLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// Select the size attribute and set its value</span>
      <span class="token keyword">const</span> size <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getAttribLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">&quot;size&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// Select the color uniform and set its value</span>
      <span class="token keyword">const</span> color <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getUniformLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">&quot;color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Set the clear color (black)</span>
      gl<span class="token punctuation">.</span><span class="token function">clearColor</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Clear the canvas</span>
      gl<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">COLOR_BUFFER_BIT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Add a new random point every 500ms</span>
      <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> x <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> y <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> r <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> g <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> b <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        gl<span class="token punctuation">.</span><span class="token function">vertexAttrib3f</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">vertexAttrib1f</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gl<span class="token punctuation">.</span><span class="token function">uniform4f</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Draw points</span>
        gl<span class="token punctuation">.</span><span class="token function">drawArrays</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">POINTS</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// mode, starting pint, number of points to draw</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div><h5 id="what-happens-here-2"><a href="#what-happens-here-2" class="header-anchor">#</a> What happens here?</h5> <p>As you can see, the canvas is not cleared (in black), but completely reset each time drawArrays() is called. This is the standard behavior when the draws happen at different moments.
To solve this, there are two solutions:</p> <ol><li>Save the positions and colors of every new point in a JS array or object.
Then every 500ms, clear the canvas (to make the background black) and redraw all the saved points;</li> <li>Force <code>{ preserveDrawingBuffer: true }</code> when creating the WebGL context, as you can see by removing the commented code on line 4.
In this case, you won't have to clear the canvas if you want the old points to stay visible and immobile.
In both cases, the result will look like this:</li></ol> <p>Both solutions are okay in this example, but in real conditions (animated WebGL scenes with moving objects), you don't want the previous frames to stay visible.
So the only solution will be to clear the canvas and redraw everything at each new frame.</p> <h5 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h5> <h4 id="绘制线和三角形"><a href="#绘制线和三角形" class="header-anchor">#</a> 绘制线和三角形</h4> <p>下一步包括一次声明多个点，并告诉 WebGL 如何显示它们：点、线或三角形。</p> <p>为此，我们将使用数据缓冲区（data buffer）（二进制数的数组）通过属性将 JS 的顶点属性发送到片段着色器。支持以下类型：</p> <p><img src="/Notebook/assets/img/2021-01-28-10-18-44.775e0718.png" alt=""></p> <p>然后， 通过更改 <strong>gl.drawArrays</strong> 的第一个参数，可以通过 7 种不同的方式将这些顶点渲染为点、线和三角形。</p> <p><img src="/Notebook/assets/img/2021-01-28-10-18-56.f1f2f15e.png" alt=""></p> <p>这是绘制彩色三角形的最简单方法：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Drawing lines and triangles<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>../../lib/webgl.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token comment">// Get the WebGL rendering context</span>
      <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> gl <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;webgl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Vertex shader</span>
      <span class="token keyword">const</span> vshader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      attribute vec4 position;
      void main() {
        gl_Position = position;
      }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

      <span class="token comment">// Fragment shader</span>
      <span class="token keyword">const</span> fshader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      precision mediump float;
      uniform vec4 color;
      void main() {
        gl_FragColor = color;
      }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

      <span class="token comment">// Compile program</span>
      <span class="token keyword">const</span> program <span class="token operator">=</span> <span class="token function">compile</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> vshader<span class="token punctuation">,</span> fshader<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Select the position attribute and set its X/Y/Z values</span>
      <span class="token keyword">const</span> position <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getAttribLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// Select the color uniform and set its value</span>
      <span class="token keyword">const</span> color <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getUniformLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">&quot;color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Set color</span>
      gl<span class="token punctuation">.</span><span class="token function">uniform4f</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Fill a buffer with a list of x/y/z coordinates,</span>
      <span class="token comment">// and pass them to the position attribute of the vertex shader</span>
      <span class="token keyword">const</span> vertices <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// point 1</span>
        <span class="token number">0.5</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token comment">// point 2</span>
        <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token comment">// point 3</span>
        <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> buffer <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">bindBuffer</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">ARRAY_BUFFER</span><span class="token punctuation">,</span> buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">bufferData</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">ARRAY_BUFFER</span><span class="token punctuation">,</span> vertices<span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token constant">STATIC_DRAW</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      gl<span class="token punctuation">.</span><span class="token function">vertexAttribPointer</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token constant">FLOAT</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// target chunk size type normalize stride offset</span>
      gl<span class="token punctuation">.</span><span class="token function">enableVertexAttribArray</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Set the clear color (black)</span>
      gl<span class="token punctuation">.</span><span class="token function">clearColor</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Clear the canvas</span>
      gl<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">COLOR_BUFFER_BIT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Render</span>
      gl<span class="token punctuation">.</span><span class="token function">drawArrays</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">TRIANGLES</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div><h5 id="what-happens-here-3"><a href="#what-happens-here-3" class="header-anchor">#</a> What happens here?</h5> <ul><li>数据缓冲区由 3 点坐标填充，并通过 <strong>createBuffer, bindBuffer, bufferData, vertexAttribPointer &amp; enableVertexAttribArray</strong> 绑定到 <strong>position</strong> 属性上。</li> <li>最后，我们让 <code>gl.drawArrays</code> 将这些点渲染为三角形。结果，三角形内的每个片段将自动重用“颜色” uniform 变量（红色）。</li> <li>如果将 <code>gl.TRIANGLES</code> 替换为 <code>gl.LINE_LOOP</code> ，将仅渲染点0-1、1-2和2-0之间的线，线宽为1px（1个片段）。
您也可以尝试 <code>gl.LINE_STRIP</code> 跟踪点 0-1 和 1-2 之间的线，并尝试 <code>gl.LINES</code> 画点 0 和 1 之间的线，因为它仅适用于连续的点对。
不幸的是，大多数设备无法更改线宽，因此我们必须坚持使用1px的线或使用三角形的“作弊法”。更多信息可以看 <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/lineWidth" target="_blank" rel="noopener noreferrer">MDN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 和 <a href="https://mattdesl.svbtle.com/drawing-lines-is-hard" target="_blank" rel="noopener noreferrer">mattdesl's website<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
线和三角形不需要在顶点着色器中设置 <code>gl_PointSize</code>。如果将 <code>gl.TRIANGLES</code> 替换为 <code>gl.POINTS</code>，则必须再次设置 <code>gl_PointSize</code> 否则它们将不会出现。</li></ul> <h5 id="tips-tricks"><a href="#tips-tricks" class="header-anchor">#</a> Tips &amp; tricks</h5> <ul><li>通过在 <code>const vertices = new Float32Array()</code> 这里添加顶点坐标并在 <code>gl.drawArrays()</code> 更新顶点数，可以绘制任意数量的三角形。</li> <li>在以下所有章节的 demo 中，可以将 <code>gl.TRIANGLES</code> 替换为 <code>gl.LINE_LOOP</code>，以查看线框场景。</li> <li>WebGL 默认情况下会进行抗锯齿（像素平滑）。可以使用
<code>canvas.getContext('webgl', {antialias: false});</code>, j禁用此功能，以节省资源，特别是在高清屏（retina）屏幕上。</li> <li>缓冲区的创建和绑定也非常冗长，因此我们将其放在 webgl.js 的 buffer() 函数中：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">buffer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">gl<span class="token punctuation">,</span> data<span class="token punctuation">,</span> program<span class="token punctuation">,</span> attribute<span class="token punctuation">,</span> size<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  gl<span class="token punctuation">.</span><span class="token function">bindBuffer</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">ARRAY_BUFFER</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token function">createBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">bufferData</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">ARRAY_BUFFER</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token constant">STATIC_DRAW</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> a <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getAttribLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> attribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">vertexAttribPointer</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> size<span class="token punctuation">,</span>type<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// target chunk size type normalize stride offset</span>
  gl<span class="token punctuation">.</span><span class="token function">enableVertexAttribArray</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="初级入门-从一个点开始：掌握-webgl-的编程要素"><a href="#初级入门-从一个点开始：掌握-webgl-的编程要素" class="header-anchor">#</a> 初级入门 --- 从一个点开始：掌握 WebGL 的编程要素</h4> <ul><li>图元：WebGL 能够绘制的基本图形元素，包含三种：<code>点</code>、<code>线段</code>、<code>三角形</code>。</li> <li>片元：可以理解为像素，像素着色阶段在片元着色器中。</li> <li>裁剪坐标系：裁剪坐标系是顶点着色器中的 <code>gl_Position</code> 内置变量接收到的坐标所在的坐标系。</li> <li>设备坐标系：又名 NDC 坐标系，是裁剪坐标系各个分量对 w 分量相除得到的坐标系，特点是 x、y、z 坐标分量的取值范围都在 【-1，1】之间，可以将它理解为边长为 2 的正方体，坐标系原点在正方体中心。</li></ul> <h5 id="_1-准备着色器源码"><a href="#_1-准备着色器源码" class="header-anchor">#</a> 1. 准备着色器源码</h5> <ul><li>顶点着色器</li></ul> <p>顶点着色器的主要任务是告诉 GPU 在 <code>裁剪坐标系</code>的原点（也就是屏幕中心）画一个大小为 10 的点。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 声明顶点位置</span>
  gl_Position <span class="token operator">=</span> <span class="token function">vec4</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 声明要绘制的点的大小</span>
  gl_PointSize <span class="token operator">=</span> <span class="token number">10.0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>片元着色器</li></ul> <p>顶点着色器中的数据经过 <code>图元装配</code> 和 <code>光栅化</code> 之后，来到了 <code>片元着色器</code>。在本例中，片元着色器额任务是通知 GPU 将光栅化的像素渲染成红色，所以片元着色器要对内置变量 <code>gl_FlagColor</code> （代表像素要填充的颜色）进行赋值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 设置像素颜色为红色</span>
    gl_FragColor <span class="token operator">=</span> <span class="token function">vec4</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>gl_Position、gl_PointSize、gl_FragColor 是 GLSL 的内置属性
<ul><li>gl_Position：顶点的 <code>裁剪坐标系坐标</code>，包含 X，Y，Z，W 四个坐标分量，顶点着色器接收到这个坐标之后，对它进行透视除法，即将各个分量的取值范围都在【-1，1】之间，GPU 获取这个属性值作为顶点的最终位置进行绘制。</li></ul></li></ul> <h5 id="_2-准备-html-文件"><a href="#_2-准备-html-文件" class="header-anchor">#</a> 2. 准备 HTML 文件</h5> <h5 id="_3-javascript-程序"><a href="#_3-javascript-程序" class="header-anchor">#</a> 3. JavaScript 程序</h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="多属性缓冲区和不同的颜色"><a href="#多属性缓冲区和不同的颜色" class="header-anchor">#</a> 多属性缓冲区和不同的颜色</h4> <p>现在，我们要为三个顶点赋予不同的颜色，并用它们绘制一个三角形。</p> <p>顶点颜色可以通过<strong>可变变量</strong>传输到<strong>片段缓冲区</strong>，以产生渐变（<strong>此过程成为颜色插值</strong>）。</p> <p>每个顶点的 X/Y/Z 和 R/G/B 值可以存储在两个数据缓冲区或交错的数据缓冲区下，如下所示：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span>400</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span>400</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>../../lib/webgl.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">var</span> gl <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'webgl'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Vertex shader</span>
<span class="token keyword">var</span> vshader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
attribute vec4 position;
attribute vec4 color;
varying vec4 v_color;
void main() {
  gl_Position = position;
  v_color = color;
}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token comment">// Fragment shader</span>
<span class="token keyword">var</span> fshader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
precision mediump float;
varying vec4 v_color;
void main() {
  gl_FragColor = v_color;
}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token comment">// Compile program</span>
<span class="token keyword">const</span> program <span class="token operator">=</span> <span class="token function">compile</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> vshader<span class="token punctuation">,</span> fshader<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Define vertices and colors</span>
<span class="token keyword">const</span> verticesColors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
   <span class="token comment">//x ,  y,    z,    r,    g,    b</span>
   <span class="token number">0.0</span><span class="token punctuation">,</span>   <span class="token number">0.5</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span> 
  <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span>  <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">1.0</span><span class="token punctuation">,</span> 
   <span class="token number">0.5</span><span class="token punctuation">,</span>  <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span> 
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
<span class="token comment">// Save the number of vertices (3)</span>
<span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">// Get the size of each float in bytes (4)</span>
<span class="token keyword">const</span> <span class="token constant">FSIZE</span> <span class="token operator">=</span> verticesColors<span class="token punctuation">.</span><span class="token constant">BYTES_PER_ELEMENT</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'FSIZE -&gt;'</span><span class="token punctuation">,</span> <span class="token constant">FSIZE</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; 获得每个元素的字节大小为：4</span>

<span class="token comment">// Create a buffer object</span>
gl<span class="token punctuation">.</span><span class="token function">bindBuffer</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">ARRAY_BUFFER</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token function">createBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 绑定某个缓冲区对象为当前缓冲区</span>
gl<span class="token punctuation">.</span><span class="token function">bufferData</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">ARRAY_BUFFER</span><span class="token punctuation">,</span> verticesColors<span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token constant">STATIC_DRAW</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 往缓冲区中复制数据</span>

<span class="token comment">// Bind the attribute position to the 1st, 2nd and 3rd floats in every chunk of 6 floats in the buffer</span>
<span class="token keyword">const</span> position <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getAttribLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">'position'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">vertexAttribPointer</span><span class="token punctuation">(</span> <span class="token comment">// 设置顶点属性从缓冲区中读取数据的方法</span>
  position<span class="token punctuation">,</span>   <span class="token comment">// target</span>
  <span class="token number">3</span><span class="token punctuation">,</span>          <span class="token comment">// interleaved data size // 读取 3 个</span>
  gl<span class="token punctuation">.</span><span class="token constant">FLOAT</span><span class="token punctuation">,</span>   <span class="token comment">// type</span>
  <span class="token boolean">false</span><span class="token punctuation">,</span>      <span class="token comment">// normalize</span>
  <span class="token constant">FSIZE</span> <span class="token operator">*</span> <span class="token number">6</span><span class="token punctuation">,</span>  <span class="token comment">// stride (chunk size)，x、y、z、r、g、b 每一组数据有 6 个</span>
  <span class="token number">0</span>           <span class="token comment">// offset (position of interleaved data in chunk) 从第一个开始读取</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">enableVertexAttribArray</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 启用顶点属性</span>
  
<span class="token comment">// Bind the attribute color to the 4th, 5th and 6th float in every chunk</span>
<span class="token keyword">const</span> color <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getAttribLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">'color'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">vertexAttribPointer</span><span class="token punctuation">(</span>
  color<span class="token punctuation">,</span>      <span class="token comment">// target</span>
  <span class="token number">3</span><span class="token punctuation">,</span>          <span class="token comment">// interleaved chunk size，每次读取的 chunk 大小为 3</span>
  gl<span class="token punctuation">.</span><span class="token constant">FLOAT</span><span class="token punctuation">,</span>   <span class="token comment">// type</span>
  <span class="token boolean">false</span><span class="token punctuation">,</span>      <span class="token comment">// normalize</span>
  <span class="token constant">FSIZE</span> <span class="token operator">*</span> <span class="token number">6</span><span class="token punctuation">,</span>  <span class="token comment">// stride 步长</span>
  <span class="token constant">FSIZE</span> <span class="token operator">*</span> <span class="token number">3</span>   <span class="token comment">// offset // 偏移 3，进行读取</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">enableVertexAttribArray</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Set the clear color，设置背景颜色</span>
gl<span class="token punctuation">.</span><span class="token function">clearColor</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Clear canvas</span>
gl<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">COLOR_BUFFER_BIT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Render</span>
gl<span class="token punctuation">.</span><span class="token function">drawArrays</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">TRIANGLES</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br></div></div><h4 id="what-happens-here-4"><a href="#what-happens-here-4" class="header-anchor">#</a> What happens here?</h4> <ul><li>初始化 3 x 6 浮点数的缓冲区并将其绑定到程序。</li> <li>然后，对于数据缓冲区中每 6 个浮点数的块：
<ul><li><code>gl.vertexAttribPointer（position，3，gl.FLOAT，false，FSIZE * 6，0）</code>; 保留属性位置的前3个值（第47行），</li> <li><code>gl.vertexAttribPointer（color，3，gl.FLOAT，false，FSIZE * 6，FSIZE * 3）</code>; 保留属性颜色的最后3个值（第59行）。</li></ul></li> <li>vertexAttribPointer 的最后两个参数（步长和偏移量）以字节计，可以使用 BYTES_PER_ELEMENT 来检索缓冲区项的大小。</li> <li>gl.enableVertexAttribArray 完成了将属性绑定到 verticesColors 数据缓冲区的操作。
但是，数据缓冲区未明确命名（自动绑定到WebGL程序的最后一个缓冲区）。</li> <li>在两个着色器中都声明了变化的v_color。
<ul><li>在顶点着色器中，它接收当前顶点的颜色。</li> <li>在片段着色器中，其值是从周围的三个顶点自动插值的。</li></ul></li></ul> <h4 id="tips-and-tricks"><a href="#tips-and-tricks" class="header-anchor">#</a> Tips and tricks</h4> <ul><li><p>在每个可变化的变量名称添加前缀 “v_” 是一个好习惯。</p></li> <li><p>一个 WebGL 程序不应超过 6 个 varying 才能在所有设备上运行。</p></li> <li><p>颜色插值还可以在 LINES、LINE_STRIP 和 LINE_LOOP 模式下使用。</p></li> <li><p>当大多数WebGL教程到达这一著名的“三色三角形”步骤时，它们就会停止。 但是还有很多要讲的！ ;）</p> <p>与 POINTS 模式（具有 <strong>gl_PointCoords</strong>）相反，在TRIANGLES 模式下，没有全局变量指示当前片段位于三角形内的位置。
但是您可以访问 <strong>gl_FragCoords</strong>，以告知片段在画布上的位置。</p></li></ul> <h4 id="translate-rotate-scale"><a href="#translate-rotate-scale" class="header-anchor">#</a> Translate, rotate, scale</h4> <p>如果要移动、旋转或缩放三角形，我们需要知道如何变换其每个顶点。</p> <ul><li>平移（Translation）包括沿给定方向移动所有顶点（通过增加或减少其 X/Y/Z 坐标）。</li> <li>渲染（Rotation）包括使顶点绕枢轴点（pivot point）以给定角度（顺时针旋转一整圈为 360 度 或 2*PI 弧度）移动。</li> <li>缩放（Scaling）包括通过使顶点离枢轴点更近或更远来使三角形变小或变大。</li></ul> <p>可以逐个组件地进行这些操作（先计算 X 的值、然后依次选择 Y 和 Z，然后计算新的值），但是我们通常使用功能强大的工具：矩阵变换。</p> <p>每个变换都可以写成 mat4 (4 x 4 浮点数的矩阵)，并乘以乘法应用于顶点的齐次坐标 (vec4(X, Y, Z, 1.0))</p> <blockquote><p>关于齐次坐标：从计算的角度，引入齐次坐标，可以把缩放、旋转、平移等变换都统一起来，都表示成一连串的矩阵相乘的形式。从表示的角度，解决了欧式空间中，无穷远点无法表示的问题。
具体参考：<a href="https://www.jianshu.com/p/0cce4406d5ad" target="_blank" rel="noopener noreferrer">为什么要引入齐次坐标，齐次坐标的意义。<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p><img src="/Notebook/assets/img/2021-02-05-10-14-34.58927b4c.png" alt=""></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>../../lib/webgl.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> gl <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;webgl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Vertex shader</span>
  <span class="token keyword">var</span> vshader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
attribute vec4 position;
uniform mat4 translation;
uniform mat4 rotation;
uniform mat4 scale;
void main() {
  // Translation, then rotation, then scale
  gl_Position = (scale * (rotation * translation)) * position;
}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

  <span class="token comment">// Fragment shader</span>
  <span class="token keyword">var</span> fshader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
precision mediump float;
uniform vec4 color;
void main() {
  gl_FragColor = color;
}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

  <span class="token comment">// Compile program</span>
  <span class="token keyword">var</span> program <span class="token operator">=</span> <span class="token function">compile</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> vshader<span class="token punctuation">,</span> fshader<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Get shaders attributes and uniforms</span>
  <span class="token keyword">var</span> color <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getUniformLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">&quot;color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> translation <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getUniformLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">&quot;translation&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> rotation <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getUniformLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">&quot;rotation&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> scale <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">getUniformLocation</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span> <span class="token string">&quot;scale&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Set color</span>
  gl<span class="token punctuation">.</span><span class="token function">uniform4f</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Set position</span>
  <span class="token keyword">var</span> vertices <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">buffer</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> vertices<span class="token punctuation">,</span> program<span class="token punctuation">,</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span><span class="token constant">FLOAT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Set translation matrix (transposed)</span>
  <span class="token keyword">var</span> Tx <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> Ty <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0.6</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> t_matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">1.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">1.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    Tx<span class="token punctuation">,</span>
    Ty<span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">1.0</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">uniformMatrix4fv</span><span class="token punctuation">(</span>translation<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> t_matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Set rotation matrix (transposed)</span>
  <span class="token keyword">var</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token number">0.7</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> cosB <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> sinB <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> r_matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    cosB<span class="token punctuation">,</span>
    sinB<span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token operator">-</span>sinB<span class="token punctuation">,</span>
    cosB<span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">1.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">1.0</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">uniformMatrix4fv</span><span class="token punctuation">(</span>rotation<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> r_matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Set scale matrix (transposed)</span>
  <span class="token keyword">var</span> <span class="token constant">S</span> <span class="token operator">=</span> <span class="token number">0.4</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> s_matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token constant">S</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token constant">S</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token constant">S</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token number">1.0</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">uniformMatrix4fv</span><span class="token punctuation">(</span>scale<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> s_matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Set the clear color</span>
  gl<span class="token punctuation">.</span><span class="token function">clearColor</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Clear canvas</span>
  gl<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">COLOR_BUFFER_BIT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Render</span>
  gl<span class="token punctuation">.</span><span class="token function">drawArrays</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">TRIANGLES</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br></div></div><h5 id="what-happens-here-5"><a href="#what-happens-here-5" class="header-anchor">#</a> What happens here?</h5> <ul><li>该演示在同一个三角形上执行了 3 种变换：平移、旋转，然后缩放。</li> <li>这些变换可以通过以下方式完成：将矩阵从右向左相乘，然后将所得矩阵乘积与顶点坐标相乘。</li> <li>这 3 个矩阵在 JS 中声明，并使用 uniform 发送到片段着色器。</li> <li>WebGL 仅接受已转置的统一矩阵（水平轴和垂直轴颠倒的矩阵），因此我们在 JS 代码中手动对其进行转置。</li> <li>在接下来的章节中，矩阵乘积将只计算一次，并传递给顶点着色器，以避免为每个顶点重新计算矩阵乘积。</li></ul> <h5 id="tips-and-tricks-2"><a href="#tips-and-tricks-2" class="header-anchor">#</a> Tips and tricks</h5> <ul><li>大小相同的矩阵和向量可以在 GLSL 中原生相乘（例如：mat4 * vec4）</li> <li>在 JS 中，必须逐项完成</li> <li>在 matrix.js 添加的辅助函数</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Create an identity mat4</span>
<span class="token function-variable function">identity</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Compute the multiplication of two mat4 (c = a x b)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h5 id="how-to-change-the-pivot-point"><a href="#how-to-change-the-pivot-point" class="header-anchor">#</a> How to change the pivot point</h5> <p>如上所述，旋转和缩放矩阵仅允许将世界的原点 [0, 0, 0] 用作枢轴点。想象一个不以原点为中心的三角形，你需要绕其中心旋转 90 度（Pi/2 弧度），例如点 [0.5, 0.5, 0]。解决方案是将 3 个变换矩阵应用于该三角形的顶点。</p> <ul><li>围绕原点 [0, 0, 0] 进行移动；</li> <li>旋转 90 度；</li> <li>将它们转换回 [0.5, 0.5, 0] 处。</li></ul> <h4 id="texturing"><a href="#texturing" class="header-anchor">#</a> Texturing</h4> <h3 id="_3d-图形"><a href="#_3d-图形" class="header-anchor">#</a> 3D 图形</h3> <h2 id="_2-进阶（p7）"><a href="#_2-进阶（p7）" class="header-anchor">#</a> 2. 进阶（P7）</h2> <p>Arcgis 二维与三维地图的实现。</p> <h2 id="_3-项目实战"><a href="#_3-项目实战" class="header-anchor">#</a> 3. 项目实战</h2> <ol start="3"><li>0 实现一个 WebGlobe</li></ol> <h3 id="基于html5原生webgl实现的轻量级google-earth三维地图引擎"><a href="#基于html5原生webgl实现的轻量级google-earth三维地图引擎" class="header-anchor">#</a> 基于HTML5原生WebGL实现的轻量级Google Earth三维地图引擎</h3> <p>https://github.com/iSpring/WebGlobe</p> <h3 id="_3-1-地图导出图片问题"><a href="#_3-1-地图导出图片问题" class="header-anchor">#</a> 3.1 地图导出图片问题</h3> <h4 id="使用传统的方案-todataurl"><a href="#使用传统的方案-todataurl" class="header-anchor">#</a> 使用传统的方案 toDataURL</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>原因</p> <h4 id="方案一"><a href="#方案一" class="header-anchor">#</a> 方案一</h4> <h4 id="分析"><a href="#分析" class="header-anchor">#</a> 分析</h4> <h3 id="_3-2-图层置灰问题"><a href="#_3-2-图层置灰问题" class="header-anchor">#</a> 3.2 图层置灰问题</h3> <p>着色器？review 卷帘工具的原理</p> <h3 id="_3-3-custom-webgl-layer-view"><a href="#_3-3-custom-webgl-layer-view" class="header-anchor">#</a> 3.3 Custom WebGL layer view</h3> <h3 id="_3-4-use-three-js-from-an-external-renderer"><a href="#_3-4-use-three-js-from-an-external-renderer" class="header-anchor">#</a> 3.4  Use three.js from an external renderer</h3> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li>英文入门教程：WebGL guide (part 1/2)
May 2020 https://xem.github.io/articles/webgl-guide.html</li> <li>MDN 入门教程：<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebGL_API" target="_blank" rel="noopener noreferrer">MDN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>进阶：小册《WebGL 入门与实践》</li> <li>系统：《WebGL 编程指南》</li> <li>深入
<ul><li>《3D 游戏与计算机图形学中的数学方法》</li></ul></li> <li>mapboxGL 如何绘制、Arcgis 又是如何处理，为什么会导出不了图片</li> <li><a href="https://mp.weixin.qq.com/s/0G8rGoWNZ0XkBA9FQQPXLg" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/0G8rGoWNZ0XkBA9FQQPXLg<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>数学，线性代数
<ul><li>视频：这个系列视频讲得比较全了，都是动画演示，非常直观。自己按需观看吧：
视频地址：【双语字幕】「线性代数的本质」合集。如何直观理解矩阵和线性代数？ 张孟杨的回答 - 知乎
https://www.zhihu.com/question/21082351/answer/126177114</li> <li>辅助理解：如何直观理解矩阵和线性代数？ - JHack 的回答 - 知乎
https://www.zhihu.com/question/21082351/answer/734162947</li> <li>数学动画库 https://github.com/3b1b/manim</li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/13/2021, 3:52:53 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Notebook/frontend-web/" class="prev router-link-active">
        前端工程化
      </a></span> <span class="next"><a href="/Notebook/frontend-web/architecture.html">
        前端架构
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Notebook/assets/js/app.accc6ad4.js" defer></script><script src="/Notebook/assets/js/4.2708dfb6.js" defer></script><script src="/Notebook/assets/js/9.e0bdbf17.js" defer></script>
  </body>
</html>
