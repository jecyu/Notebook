(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1211:function(s,t,a){s.exports=a.p+"assets/img/2021-03-16-13-54-21.bf4709b0.png"},1212:function(s,t,a){s.exports=a.p+"assets/img/2021-03-16-14-15-11.bc6f5f7a.png"},1213:function(s,t,a){s.exports=a.p+"assets/img/2021-03-18-17-08-39.21c26383.png"},1214:function(s,t,a){s.exports=a.p+"assets/img/2021-03-18-17-17-57.ec635404.png"},1215:function(s,t,a){s.exports=a.p+"assets/img/2021-03-19-23-04-43.0002ef13.png"},1216:function(s,t,a){s.exports=a.p+"assets/img/2021-03-19-23-03-13.a26bc23f.png"},1217:function(s,t,a){s.exports=a.p+"assets/img/2021-03-19-23-02-35.97fdcbdb.png"},1218:function(s,t,a){s.exports=a.p+"assets/img/2021-03-19-11-12-00.bb47b592.png"},1219:function(s,t,a){s.exports=a.p+"assets/img/2021-03-19-11-18-07.9a4f51d4.png"},1220:function(s,t,a){s.exports=a.p+"assets/img/2021-03-19-22-42-05.c3abd3a7.png"},1221:function(s,t,a){s.exports=a.p+"assets/img/2021-03-23-15-30-09.921b7d6a.png"},1222:function(s,t,a){s.exports=a.p+"assets/img/2021-03-25-13-50-21.0882d2d8.png"},1223:function(s,t,a){s.exports=a.p+"assets/img/2021-04-09-11-15-37.25d350fe.png"},1224:function(s,t,a){s.exports=a.p+"assets/img/2021-04-09-14-28-55.986ce97d.png"},1615:function(s,t,a){"use strict";a.r(t);var n=a(44),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"可视化大屏项目总结（实战篇）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#可视化大屏项目总结（实战篇）"}},[s._v("#")]),s._v(" 可视化大屏项目总结（实战篇）")]),s._v(" "),n("img",{staticStyle:{zoom:"40%"},attrs:{src:a(349)}}),s._v(" "),n("h2",{attrs:{id:"_0-前言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_0-前言"}},[s._v("#")]),s._v(" 0. 前言")]),s._v(" "),n("img",{staticStyle:{zoom:"30%"},attrs:{src:a(1211)}}),s._v(" "),n("p",[s._v("大屏数据可视化目前主要有信息展示、数据分析及监控预警三大类")]),s._v(" "),n("ul",[n("li",[s._v("信息展示")]),s._v(" "),n("li",[s._v("数据分析")]),s._v(" "),n("li",[s._v("监控预警")])]),s._v(" "),n("p",[s._v("二三维图表 + 二三维地图的交互数据展示系统。")]),s._v(" "),n("h2",{attrs:{id:"_1-需求分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-需求分析"}},[s._v("#")]),s._v(" 1. 需求分析")]),s._v(" "),n("ul",[n("li",[s._v("1、要求我们的大屏需要适配不同规格的屏幕（一楼、六楼的宽屏、二楼的三倍屏、市政府电视）")]),s._v(" "),n("li",[s._v("2、要结合体检评估指标考虑应用效果；如，结合具体的业务，提供项目落地的依据，是否符合控规的产业布局落地要求，是否符合指标；")]),s._v(" "),n("li",[s._v("3、要求数据展示方面和数据应用方面有创新性，考虑总规成果和三调现状的衔接，打造南宁系统的亮点；")]),s._v(" "),n("li",[s._v("4、对于以后扩展的分析展示，形成固定的"),n("strong",[s._v("展示主题")]),s._v("，以下拉菜单方式进行切换；")]),s._v(" "),n("li",[s._v("5、结合业务场景，提供体检评估的"),n("strong",[s._v("实时分析展示")]),s._v("，如某小区十五分钟公共配套覆盖率（缓冲范围）；")]),s._v(" "),n("li",[s._v("6、考虑结合三维数据的展示应用，比如，三维报建的高度、日照、采光的分析。")]),s._v(" "),n("li",[s._v("7、需要有演练功能，演练未来的建设情况，也可以看到过去的情况。")])]),s._v(" "),n("p",[s._v("核心需求：数据 + 地图的大屏适配展示，UI 风格上显示为暗黑风格。")]),s._v(" "),n("p",[s._v("样式主题自动切换。")]),s._v(" "),n("h3",{attrs:{id:"接到需求怎么做"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#接到需求怎么做"}},[s._v("#")]),s._v(" 接到需求怎么做")]),s._v(" "),n("p",[s._v("确认核心需求（信息展示），划分版本，技术选型与重难点整理。")]),s._v(" "),n("h4",{attrs:{id:"版本管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#版本管理"}},[s._v("#")]),s._v(" 版本管理")]),s._v(" "),n("ul",[n("li",[s._v("版本 0.00 是一个hello,world程序")]),s._v(" "),n("li",[s._v("版本0.01包含了可以工作的代码")]),s._v(" "),n("li",[s._v("版本0.11是基本可以正常的版本")])]),s._v(" "),n("p",[s._v("项目初版本时，版本号可以为 0.1 或 0.1.0, 也可以为 1.0 或 1.0.0，如果你为人很低调，我想你会选择那个主版本号为 0 的方式；")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("当项目在进行了局部修改或 bug 修正时，"),n("strong",[s._v("主版本号和子版本号都不变，修正版本号加 1")]),s._v("；")])]),s._v(" "),n("li",[n("p",[s._v("当项目在原有的基础上增加了部分功能时，"),n("strong",[s._v("主版本号不变，子版本号加 1，修正版本号复位为 0")]),s._v("，因而可以被忽略掉；")])]),s._v(" "),n("li",[n("p",[s._v("当项目在进行了重大修改或局部修正累积较多，而导致项目整体发生全局变化时，主版本号加 1")])])]),s._v(" "),n("p",[s._v("另外，编译版本号一般是编译器在编译过程中自动生成的，我们只定义其格式，并不进行人为控制")]),s._v(" "),n("h3",{attrs:{id:"分支"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分支"}},[s._v("#")]),s._v(" 分支")]),s._v(" "),n("ul",[n("li",[s._v("master 主分支")]),s._v(" "),n("li",[s._v("dev 开发分支")]),s._v(" "),n("li",[s._v("其他为 功能分支")])]),s._v(" "),n("h3",{attrs:{id:"✅0-0-0"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#✅0-0-0"}},[s._v("#")]),s._v(" ✅0.0.0")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("[x] 初始化模版")])]),s._v(" "),n("li",[n("p",[s._v("[x] 名称")])]),s._v(" "),n("li",[n("p",[s._v("[x] 协议")])])]),s._v(" "),n("h3",{attrs:{id:"_0-0-1"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_0-0-1"}},[s._v("#")]),s._v(" 0.0.1")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("[x] 整体项目结构、路由页面考虑、基本的界面结构、layout 层")])]),s._v(" "),n("li",[n("p",[s._v("[x] 响应式适配所需的大屏幕显示，大屏尺寸的适配，目前按照标准屏进行设计，但需要考虑2倍、3倍屏（存在标准屏、二倍屏、三倍屏；具体尺寸带客户测量后提供）")]),s._v(" "),n("p",[s._v("在引入地图前发布一个版本。0.0.1")])]),s._v(" "),n("li",[n("p",[s._v("[x] 先行构建系统框架，设计自然资源界面，引入图表")])])]),s._v(" "),n("h3",{attrs:{id:"_0-1-0"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_0-1-0"}},[s._v("#")]),s._v(" 0.1.0")]),s._v(" "),n("p",[s._v("要达到的效果，主要展示"),n("strong",[s._v("指标类信息点和地理类信息点")]),s._v("两大可视化数据。")]),s._v(" "),n("ul",[n("li",[s._v("[ ] 引入地图，二三维一体化，考虑三维地图框架的支持；")]),s._v(" "),n("li",[s._v("[ ] 图表与地图联动")]),s._v(" "),n("li",[s._v("[ ] 各大主题模块下，需要切换小主题；（如，自然资源下可选择林地小主题，或固定的分析功能）")]),s._v(" "),n("li",[s._v("[ ] 编写好 README 文档")])]),s._v(" "),n("p",[s._v("需要处理的事情")]),s._v(" "),n("ul",[n("li",[s._v("[ ] 大屏尺寸的可选适配")]),s._v(" "),n("li",[s._v("[ ] 暗黑皮肤主题自定义")]),s._v(" "),n("li",[s._v("[ ] 二三维一体化地图框架")]),s._v(" "),n("li",[s._v("[ ] 功能主题的处理（路由这些）")]),s._v(" "),n("li",[s._v("[ ] 数据可视化的前后端基本流程处理")])]),s._v(" "),n("img",{staticStyle:{zoom:"50%"},attrs:{src:a(1212)}}),s._v(" "),n("p",[s._v("人员配置")]),s._v(" "),n("ul",[n("li",[s._v("[ ] 需要与 UI 配合，切图以及主题色之类的处理（寻找下 DataV 阿里的设计交接），主要是用代码写不出的样式或动效")]),s._v(" "),n("li",[s._v("[ ] 先使用 mock 数据，暂不需要后端介入。")])]),s._v(" "),n("p",[s._v("个人目标")]),s._v(" "),n("ul",[n("li",[s._v("[ ] 设计模式：使用适配器模式/代理模式二三维一体")]),s._v(" "),n("li",[s._v("[ ] 数据处理：原始数据到图像数据的开发流（设计模式和数据结构封装）")]),s._v(" "),n("li",[s._v("[ ] 样式切换与响应式布局")]),s._v(" "),n("li",[s._v("[ ] 插件化架构，插入 Arcgis API 可以被其他地图组件，比如超图替换。如何可以达到可插拨呢？\n"),n("ul",[n("li",[s._v("[ ] 比如直接换一个组件，也就是超图组件，就可以实现插件化了。这里的需求，不太适合插件化。可以把各个地图、比如超图，比如 Arcgis，先通过组件方式引进来。后续再考虑如何支持。需要更好的抽象。")])])]),s._v(" "),n("li",[s._v("[x] Vue3 和 TypeScript、使用 TSX 开发 Vue3（才有更好的类型提醒，"),n("strong",[s._v("TypeScript 原生支持 JSX 语法，而基本无望 TS 官方能支持 SFC 的 template 语法")]),s._v("。）")]),s._v(" "),n("li",[s._v("[ ] canvas 是否可以绘制背景框/图？")])]),s._v(" "),n("p",[s._v("技术选型")]),s._v(" "),n("ul",[n("li",[s._v("UI 层 Antd-degisn-vue")]),s._v(" "),n("li",[s._v("Vue 3.x 全家桶（理由，Composition API，以及对 TS 有更好的支持）")]),s._v(" "),n("li",[s._v("Echarts 图表组件，使用 Vue-ECharts（支持 5.0），旧的项目 vue-echarts-v3 只支持 3.x 的 echart。需要对比下。")]),s._v(" "),n("li",[s._v("Arcgis 4.12 地图（Echart）")]),s._v(" "),n("li",[s._v("Webpack5")]),s._v(" "),n("li",[s._v("TypeScript")]),s._v(" "),n("li",[s._v("Grid 网格布局（需要研究）")]),s._v(" "),n("li",[s._v("Sass")]),s._v(" "),n("li",[n("del",[s._v("Socket.IO 即时通信（这块后续）")])]),s._v(" "),n("li",[n("del",[s._v("Three.js （后续可能需要）")])])]),s._v(" "),n("h4",{attrs:{id:"确立开发计划"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#确立开发计划"}},[s._v("#")]),s._v(" 确立开发计划")]),s._v(" "),n("p",[s._v("目标：渲染其他指标数据，跑通一个图表的地图联动与指标数据联动。先打通一个图表。再考虑其他的u吧。")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("6")]),s._v(" "),n("th",[s._v("7")]),s._v(" "),n("th",[s._v("8")]),s._v(" "),n("th",[s._v("9")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("开发")]),s._v(" "),n("td",[s._v("开发")]),s._v(" "),n("td",[s._v("自然资源整体界面完善，指标动态、指标轮播，路由完善等")]),s._v(" "),n("td",[s._v("部署到测试环境，考虑 CI& CD 的实践，逐步实现，先把 常事把 gitlab ci 利用起来，比如版本的发布。比如可以先用实现把制品传递到测试环境。再说。")])])])]),s._v(" "),n("h3",{attrs:{id:"_1-0-0"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-0"}},[s._v("#")]),s._v(" 1.0.0")]),s._v(" "),n("ul",[n("li",[s._v("[x] 响应式适配所需的大屏幕显示")]),s._v(" "),n("li",[s._v("[ ] 图表与地图能够联动")]),s._v(" "),n("li",[s._v("[ ] 地理飞线、三维光")])]),s._v(" "),n("h3",{attrs:{id:"_1-0-1"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-1"}},[s._v("#")]),s._v(" 1.0.1")]),s._v(" "),n("ul",[n("li",[s._v("[ ] 具有主题的概念")])]),s._v(" "),n("h2",{attrs:{id:"_2-设计实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-设计实现"}},[s._v("#")]),s._v(" 2. 设计实现")]),s._v(" "),n("p",[s._v("参考二三维一体化思维导图")]),s._v(" "),n("p",[s._v("轮询法，看看哪种适合。")]),s._v(" "),n("ul",[n("li",[s._v("各种数据结构和设计模式")]),s._v(" "),n("li",[s._v("架构模式")])]),s._v(" "),n("p",[s._v("实现方式：单独实现的系统 || 基于现在的系统底层支持（这个就考虑原有系统的支持和改造）。")]),s._v(" "),n("p",[s._v("**先单独实现的系统，demo 展示，可以作为一个模版放到 xcli 去。**再提交到开源。先实现。")]),s._v(" "),n("p",[s._v("Vue、Echart、Arcgis。")]),s._v(" "),n("p",[s._v("需要固定屏幕比例。（这块是自己不熟悉的地方，所谓大屏的屏幕如何适配）。")]),s._v(" "),n("p",[s._v("通过按钮切换，多种屏幕大小和比例，代码读取。")]),s._v(" "),n("p",[s._v("是否要把系统作为单独的考虑，")]),s._v(" "),n("p",[s._v("嵌入式：")]),s._v(" "),n("p",[s._v("使用 iframe，前提下是考虑当前的系统的权限问题的等。其实是否嵌入式进去。等比缩放，会有点问题的。")]),s._v(" "),n("p",[s._v("如果是直接在原系统使用，样式上可能会有影响。")]),s._v(" "),n("p",[s._v("单独使用 iframe 就好。")]),s._v(" "),n("h3",{attrs:{id:"_2-1-整体架构设计"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-整体架构设计"}},[s._v("#")]),s._v(" 2.1 整体架构设计")]),s._v(" "),n("h3",{attrs:{id:"_2-2-整体项目结构、路由页面考虑、基本的界面结构、layout-层，跑通主体"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-整体项目结构、路由页面考虑、基本的界面结构、layout-层，跑通主体"}},[s._v("#")]),s._v(" 2.2 整体项目结构、路由页面考虑、基本的界面结构、layout 层，跑通主体")]),s._v(" "),n("p",[s._v("先主体，后局部")]),s._v(" "),n("p",[s._v("路由")]),s._v(" "),n("ul",[n("li",[s._v("首页")]),s._v(" "),n("li",[s._v("自然资源")]),s._v(" "),n("li",[s._v("空间规划")]),s._v(" "),n("li",[s._v("监测预警")]),s._v(" "),n("li",[s._v("实施评估")])]),s._v(" "),n("p",[s._v("layout 层对应二级路由，在 layout 里面的 router-view 对应二级路由的三级路由。比如")]),s._v(" "),n("ul",[n("li",[s._v("首页 / - home 组件")]),s._v(" "),n("li",[s._v("zrzy - layout 组件")]),s._v(" "),n("li",[s._v("zrzy/default - layout 下的 default.component")])]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("app-main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("app-main-header"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("style")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('="')]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("headerStyle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("@mouseenter")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("handleMouseEnter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("ref")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("mainHeader"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("Header")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":system-list")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("systemList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":sub-system-list")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("subSystemList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("@on-change-page")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("changePage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("app-main-con"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("router-view")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 显示 default 路由页面 --\x3e")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h4",{attrs:{id:"路由跳转-路由菜单高亮"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#路由跳转-路由菜单高亮"}},[s._v("#")]),s._v(" 路由跳转&路由菜单高亮")]),s._v(" "),n("p",[s._v("各个路由的 name 要唯一。")]),s._v(" "),n("h4",{attrs:{id:"路由菜单获取"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#路由菜单获取"}},[s._v("#")]),s._v(" 路由菜单获取")]),s._v(" "),n("h6",{attrs:{id:"非权限下考虑"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#非权限下考虑"}},[s._v("#")]),s._v(" 非权限下考虑")]),s._v(" "),n("h6",{attrs:{id:"权限下考虑"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#权限下考虑"}},[s._v("#")]),s._v(" 权限下考虑")]),s._v(" "),n("h6",{attrs:{id:"基线的处理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基线的处理"}},[s._v("#")]),s._v(" 基线的处理")]),s._v(" "),n("h3",{attrs:{id:"_2-3-多屏幕分辨率适配"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-多屏幕分辨率适配"}},[s._v("#")]),s._v(" 2.3 多屏幕分辨率适配")]),s._v(" "),n("h5",{attrs:{id:"前置知识"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前置知识"}},[s._v("#")]),s._v(" 前置知识")]),s._v(" "),n("p",[s._v("显示器")]),s._v(" "),n("ul",[n("li",[s._v("屏幕像素")]),s._v(" "),n("li",[s._v("CSS 像素")]),s._v(" "),n("li",[s._v("物理像素")]),s._v(" "),n("li",[s._v("分辨率")])]),s._v(" "),n("p",[s._v("CSS 知识点")]),s._v(" "),n("ul",[n("li",[s._v("vw/vh")]),s._v(" "),n("li",[s._v("rem")])]),s._v(" "),n("h5",{attrs:{id:"实施监督系统标准屏的-rem-适配方案是怎么处理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实施监督系统标准屏的-rem-适配方案是怎么处理"}},[s._v("#")]),s._v(" 实施监督系统标准屏的 rem 适配方案是怎么处理")]),s._v(" "),n("ol",[n("li",[s._v("获得固定的设计稿尺寸比如 1920，设置 html 的 font-size 为 1vw（把屏幕分为 100 份），计算出 1 rem 为 19.2px，设置容器宽度为 19.2rem，高度为 10.8 rem。")]),s._v(" "),n("li",[s._v("在放大窗口的过程，window 宽度为 3600，此时的 1 rem 为 36px，那么容器宽度为 3600rem。")])]),s._v(" "),n("p",[s._v("具体处理：")]),s._v(" "),n("p",[s._v("一般的 rem 方案，全局处理。")]),s._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[s._v("html")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1vw"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[s._v("html,\nbody")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("overflow")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hidden"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("px2rem 进行设置。")]),s._v(" "),n("p",[s._v("另一种是 smart-rem 加 postcss-auto-rem")]),s._v(" "),n("p",[s._v("优势：smart-rem 自动完成rem值计算，posts-auto-rem自动将 px 编译成rem。两者的计算比例完美相合 劣势：两个包结合使用，而无需手工撸码，也无需多余配置。工程化最佳，大大提高了开发效率。")]),s._v(" "),n("p",[s._v("上面两种设置中，这里的设计的确可以适应 1920 x 1080 下的屏幕体系，当换到别的屏幕比例下，比如 3600 ： 900，由于这个时候的比例是 36:9，跟原来的比例 192:108 是不一致的。因此按照原来固定 19.2 计算出来的值，在 36: 9 的屏幕比例下，整体上的元素布局是会变形的。")]),s._v(" "),n("p",[s._v("如下图所示：")]),s._v(" "),n("img",{staticStyle:{zoom:"25%"},attrs:{src:a(1213)}}),s._v(" "),n("p",[s._v("缺点：不适应不同比例的浏览器屏幕。")]),s._v(" "),n("h5",{attrs:{id:"方案一：采用等比例缩放（先采用这种方案）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方案一：采用等比例缩放（先采用这种方案）"}},[s._v("#")]),s._v(" 方案一：采用等比例缩放（先采用这种方案）")]),s._v(" "),n("img",{staticStyle:{zoom:"35%"},attrs:{src:a(1214)}}),s._v(" "),n("p",[s._v("在浏览器中显示页面，会涉及以下三种尺寸，为了避免后续搞混，这里提前声明下。")]),s._v(" "),n("p",[n("strong",[s._v("三种尺寸")]),s._v("：原始设计稿尺寸、页面/文档尺寸（Web 页面尺寸）、屏幕物理显示尺寸（通常为浏览器 window 窗口的尺寸）。")]),s._v(" "),n("p",[n("del",[n("strong",[s._v("在三种尺寸，在多种屏比例中，这里的原始设计稿尺寸也就是屏幕物理显示尺寸，两者为一物。因为跟原始的静态设计稿不一样，这里的动态设计稿尺寸也就是屏幕尺寸")]),s._v("（后续说到的设计稿尺寸，也就是浏览器 window 窗口的尺寸。）")])]),s._v(" "),n("p",[s._v("3月 19 晚上 ，前面的一句话是自己误解了，补充：设计稿尺寸，跟屏幕的尺寸是不可一谈的，如果改变输入的设计尺寸为屏幕，是会导致初始的图形发生变形的。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(1215),alt:""}})]),s._v(" "),n("p",[s._v("比如 1920 x 1080 的设计稿下，这些图形是比例 4:3 的长方形，刻意把它改为 36:9的情况，这些长方形就会变为 4：1 的比例了。因此，要适应多种屏幕尺寸的话，")]),s._v(" "),n("p",[s._v("一是不变形的，两边可能会有留白。（PS：考虑用点东西填补两边空白，或新增一些隐藏元素，只有留白时，才会出现，当然这个就需要考虑更多的情况处理了。）")]),s._v(" "),n("p",[n("img",{attrs:{src:a(1216),alt:""}})]),s._v(" "),n("p",[s._v("二是变形，通过输入设计稿的比例为屏幕尺寸，这样的变形有一定的处理。比如 1920 x 1080 的设计稿下，这些图形是比例 4:3 的长方形，刻意把它改为 36:9的情况，这些长方形就会变为 4：1 的比例，相当于在元素不变的情况下，把原稿拉长，并且压扁。（"),n("strong",[s._v("这就是所谓的多屏适配，带来的问题。比例不同。等比例方案难以适配")]),s._v("）。这个输入屏幕尺寸的处理，其实就是 "),n("strong",[s._v("「scratch 模式」")]),s._v("，宽度和高度都为屏幕的一半。因此，"),n("strong",[s._v("实际上只需要提供 contain 和 cover、scratch 三种方式给用户，看用户看哪种方式比较顺眼了")]),s._v("。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(1217),alt:""}})]),s._v(" "),n("p",[s._v("因此，有以下公式。")]),s._v(" "),n("ol",[n("li",[n("strong",[s._v("为了保证原始设计稿尺寸与页面文档尺寸保持等比例不变形")]),s._v("。因此有以下公式：")])]),s._v(" "),n("p",[s._v("**page H /pageW   = designH/desginW **。")]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[n("p",[s._v("文档尺寸与屏幕物理尺寸")]),s._v(" "),n("ul",[n("li",[s._v("拉伸模式（也就是不出现滚动条），让页面文档的尺寸的宽度、高度完全等于浏览器窗口的尺寸。")]),s._v(" "),n("li",[s._v("cover 模式，文档内容宽高比不变、铺满整个容器的宽度，多出的部分则会被裁掉，可能会出现滚动条。考虑设计稿尺寸宽高一般不相等（屏幕也不像以前是正方形的），因此先保证文档尺寸的一边等于固定容器也就是浏览器窗口的一边，等比例求出另外一边。\n"),n("ul",[n("li",[s._v("页面文档宽度设置为与浏览器窗口宽度相等，高度设置为 pageW *designH   /desginW")]),s._v(" "),n("li",[s._v("页面文档高度与浏览器窗口宽度相等，宽度设置为 pageH * designW / designH")])])]),s._v(" "),n("li",[s._v("contain 模式，文档内容宽高比不变，缩放至整个窗口，文档内容能完全显示出来，可能会有留白区域，不出现滚动条。\n"),n("ul",[n("li",[s._v("页面文档宽度与浏览器窗口宽度相等，高度设置为 pageW *designH   /desginW")]),s._v(" "),n("li",[s._v("页面文档高度与浏览器窗口宽度相等，宽度设置为 pageH * designW / designH")])])])])]),s._v(" "),n("li",[n("p",[s._v("可以看到 cover 模式和 contain 模式的处理逻辑基本一致，后面再讨论他们之间的区别。现在都要面临一个问题，那就是文档尺寸可能为 LandScape，也可能为Potrait。")])])]),s._v(" "),n("img",{staticStyle:{zoom:"35%"},attrs:{src:a(1218)}}),s._v(" "),n("p",[s._v("按照前面所说，如果固定一边的话，会出现这种情况：在屏幕为 Portrait 的情况下，设置宽度为 100%，那么有可能会出现文档为 Portrati 显示不全。如果设置高度为 100%，有可能出现 LandScape 的文档宽度看不到。")]),s._v(" "),n("img",{staticStyle:{zoom:"50%"},attrs:{src:a(1219)}}),s._v(" "),n("p",[s._v("因此，我们需要判断当前的文档尺寸是否为 Landscape，如果是 Landscape 的话，就设置文档内容宽度 100%，否则设置文档内容高度为 100%。这样我们只需要判断，设计稿尺寸的宽度与高度的对比即可。")]),s._v(" "),n("p",[s._v("Q：为什么需要进行比例判断呢？这样更加精确？（后续再理解，遗留问题。）")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("浏览器窗口显示比例 pageRatio = pageW/pageH，设计稿尺寸显示比例 designRatio = Cfg.designW / Cfg.designH;")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("isLandScape = pageRatio > designRation")]),s._v(";")]),s._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code")]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"})])])]),s._v(" "),n("p",[s._v("&.contain {\n&.landscape {\nwidth: 100%; /* 设置宽度为浏览器窗口的宽度，高度按比例计算*/\n}\n&:not(.landscape) {  /* 设置高度为浏览器窗口的宽度，宽度按比例计算*/\nheight: 100%;\n}\n}\n&.cover {\n&.landscape {\nheight: 100%;\n}\n&:not(.landscape) {\nwidth: 100%;\n}\n}\n```")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v(" 在确定了按照宽度，还是按照高度来进行缩放好。\n\n  contain 模式 和 cover 模式 的区别：\n \n 从图上，得出区别。\n")])])]),n("img",{staticStyle:{zoom:"45%"},attrs:{src:a(1220)}}),s._v(" "),n("h6",{attrs:{id:"计算比例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#计算比例"}},[s._v("#")]),s._v(" 计算比例")]),s._v(" "),n("ul",[n("li"),s._v(" "),n("li"),s._v(" "),n("li",[n("ul",[n("li"),s._v(" "),n("li")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("switch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("zoomMode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"contain"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("isWider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              $container"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("width"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" pageH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" height"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'100%'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              $container"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("height"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" pageW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" width"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'100%'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" isWider "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" scaleH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" scaleW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在 contain 模式下，如果是 Portrait 的话，则采用高度的比例。")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cover'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"html,body"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'overflow'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'initial'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("isWider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              $container"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("height"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" pageW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" width"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'100%'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              $container"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("width"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" pageH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" height"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'100%'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" isWider "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" scaleW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" scaleH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在 cover 模式下，如果是 Portrait 的话，则采用宽度的比例。")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'stretch'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n          scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" isWider "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" scaleH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" scaleW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          $container"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("width"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'100%'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("height"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'100%'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"html"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"font-size"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"px"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"opacity"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])])])]),s._v(" "),n("p",[s._v("有两种情况：")]),s._v(" "),n("ol",[n("li",[s._v("设置页面"),n("strong",[s._v("容器高度")]),s._v("为实际显示屏幕宽度的 100%，宽度则为屏幕实际高度 page高度 * 输入的设计稿尺寸宽度 / 输入设计稿尺寸高度。")])]),s._v(" "),n("p",[n("strong",[s._v("具体流程")]),s._v("：")]),s._v(" "),n("p",[n("strong",[s._v("缩放原理")]),s._v("：是通过计算页面和原始尺寸的比例，控制 html 的 fontSize 来进行所有元素的尺寸缩放，元素尺寸单位用 rem。")]),s._v(" "),n("p",[s._v("核心代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("pageH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pageW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" isWider "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pageW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" pageH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("scaleW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" scaleH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("pageW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pageH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" $container "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#container"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("isWider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    $container"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("width"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" pageH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" height"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'100%'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    $container"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("height"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" pageW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" Cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" width"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'100%'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nscale "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" isWider "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" scaleH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" scaleW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"html"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"font-size"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"px"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"opacity"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("对于不同比例的屏幕适应，页面上的元素排版是一致的。比如 1920：1080 和 36: 9 这两种比例下的屏幕显示的元素布局是一样的，只不过会根据高度和宽度来进行放大或缩小的。")]),s._v(" "),n("img",{staticStyle:{zoom:"40%"},attrs:{src:a(349)}}),s._v(" "),n("p",[n("strong",[s._v("优点")]),s._v("：最简单的处理，不用考虑不同屏幕下的元素重新排。")]),s._v(" "),n("p",[n("strong",[s._v("缺点")]),s._v("：可能出现两边空白的情况（使用 contain 方式）")]),s._v(" "),n("p",[s._v("留白问题，先实现标准屏。其他比例，比如两倍屏和三倍屏的留白问题，需要提前告知。")]),s._v(" "),n("p",[n("strong",[s._v("进一步优化思路")]),s._v("：要真正实现多屏适配，避免出现多倍屏空白问题，就需要设个多个设计稿，代码层面根据不同的设计尺寸，在满足等比例情况下，再进行对应元素的布局加减处理。")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("defineComponent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Default"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自然资源")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("pagesize")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" settings "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        designW"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1920")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设计稿尺寸，也就是输入的屏幕尺寸")]),s._v("\n        designH"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 虽然可以这样输入，适应的屏幕尽量比例一致")]),s._v("\n        zoomMode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"contain"')]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" pageH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("innerHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" pageW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("innerWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" isWider "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pageW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" pageH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("scaleW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" scaleH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        pageW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        pageH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" $container "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("querySelector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#container"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" $html "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("querySelector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"html"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" $body "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("querySelector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"body"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("switch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("zoomMode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"contain"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n          console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hhh"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("isWider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$container "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("width "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pageH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$container "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("height "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"100%"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$container "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("height "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pageW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$container "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("width "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"100%"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" isWider "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" scaleH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" scaleW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cover"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("isWider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$container "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("height "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pageW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$container "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("width "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"100%"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$container "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("width "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pageH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("designH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$container "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("height "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"100%"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" isWider "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" scaleW "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" scaleH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 支持滚动查看")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$html "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("overflow "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"initial"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$body "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("overflow "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"initial"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stretch"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n          scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" isWider "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" scaleH "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" scaleW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$container "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("width "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"100%"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$container "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("height "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"100%"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$html "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fontSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"px"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$html "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("opacity "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("onMounted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("pagesize")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"resize"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pagesize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\n\n    \n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("default"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"container"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("row"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle4"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("row"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle4"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("row"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle4"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("row"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("triangle4"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br")])]),n("p",[s._v("最后，需要安装插件自动把系统中的 px 转为 rem 值。（这个后面完善）")]),s._v(" "),n("ul",[n("li",[s._v("针对系统开发编写的")]),s._v(" "),n("li",[s._v("针对第三方组件库编写的，比如 antd-design-vue")])]),s._v(" "),n("h5",{attrs:{id:"方案二：grid-媒体查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方案二：grid-媒体查询"}},[s._v("#")]),s._v(" 方案二：Grid + 媒体查询")]),s._v(" "),n("p",[s._v("复杂繁琐，不一定效果，需要和 UI 考虑屏幕区间，元素的摆放和大小。别的公司有用到这套。翰阳。")]),s._v(" "),n("h5",{attrs:{id:"其他待考虑到的方案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#其他待考虑到的方案"}},[s._v("#")]),s._v(" 其他待考虑到的方案")]),s._v(" "),n("h3",{attrs:{id:"_2-4-皮肤主题支持"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-皮肤主题支持"}},[s._v("#")]),s._v(" 2.4 皮肤主题支持")]),s._v(" "),n("h4",{attrs:{id:"常规没支持主题切换的项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常规没支持主题切换的项目"}},[s._v("#")]),s._v(" 常规没支持主题切换的项目")]),s._v(" "),n("p",[s._v("在 styles 文件声明一些变量、全局样式、mixins，在 vue 组件的 style 标签中注入一些变量就基本搞定样式的处理了，接下来按照规范实现即可。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('    // *给 sass-loader 传递选项*\n\n​          sass: {\n\n​            data: `@import "@/styles/index.scss";`\n\n        },\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("其实传统的项目也会支持主题切换的，只不过是离线层面的主题切换，在确保好开发者都使用定义的变量。然后在需要时，把对应的主题变量进行更改即可。")]),s._v(" "),n("p",[s._v("如果用户在线的支持比较的难，可以先支持离线的处理。")]),s._v(" "),n("h4",{attrs:{id:"整体样式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#整体样式"}},[s._v("#")]),s._v(" 整体样式")]),s._v(" "),n("p",[s._v("字体")]),s._v(" "),n("p",[s._v("icon")]),s._v(" "),n("p",[s._v("颜色")]),s._v(" "),n("p",[s._v("图片")]),s._v(" "),n("ul",[n("li",[s._v("品牌色")]),s._v(" "),n("li",[s._v("功能色")]),s._v(" "),n("li",[s._v("中性色")])]),s._v(" "),n("h5",{attrs:{id:"sass-样式组织和使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sass-样式组织和使用"}},[s._v("#")]),s._v(" Sass 样式组织和使用")]),s._v(" "),n("p",[s._v("主要考虑以下两点内容：")]),s._v(" "),n("ol",[n("li",[s._v("公共样式的声明与使用、覆盖")])]),s._v(" "),n("p",[s._v("单独在 styles 文件夹下进行维护，然后注入到全局内，在 "),n("code",[s._v("main.ts")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@/styles/index.scss"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 引入全局样式")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// @import "../styles/cores/option.scss";  使用 @ 时，vscode 无法识别跳转到那个文件，相对路径则可以，但是如果移动文件夹，这个位置也要改变。')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("使用方式：")]),s._v(" "),n("p",[s._v("1）组件自定义样式，如果要用到  style 定义的变量，mixins，则可以 import 方式导入进来：")]),s._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token atrule"}},[n("span",{pre:!0,attrs:{class:"token rule"}},[s._v("@import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@/styles/cores/option.scss"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".layout")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $primary-color"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("2）另外一种方式就是在 vue.config.js 全局注入到组件的 scss 样式中（待验证），这种方式的好处开发者不用依次每个组件导入。坏处是，其他 review 时定位到对应的文件，有点难，只能全局搜索寻找。")]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("组件自定义样式")])]),s._v(" "),n("p",[s._v("开发流程：全局样式都写在 "),n("code",[s._v("src/styles")]),s._v(" 目录下，每个页面自己对应的样式都写在自己组件文件夹的 "),n("code",[s._v(".vue")]),s._v(" 文件之中，或者写在 index.module.scss 中。")]),s._v(" "),n("h5",{attrs:{id:"图片使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#图片使用"}},[s._v("#")]),s._v(" 图片使用")]),s._v(" "),n("p",[s._v("图片存放的地方")]),s._v(" "),n("p",[s._v("src/assets/")]),s._v(" "),n("p",[s._v("图片使用的地方")]),s._v(" "),n("ul",[n("li",[s._v("Template/TSX")]),s._v(" "),n("li",[s._v("样式文件中")])]),s._v(" "),n("div",{staticClass:"language-scss line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-scss"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".layout ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v("background")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token url"}},[s._v("url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"../assets/background.png"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 编译为 background: url(/img/background.2dad2100.png); 实际打包输出的路径")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("如果使用 @ 会导致路径找不到，需要额外处理。打包时，没有对样式文件中的 @ 做处理，必须通过相对路径引入。详情见 vuecli 文档  参考文档：https://cli.vuejs.org/zh/guide/html-and-static-assets.html#%E5%A4%84%E7%90%86%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90")]),s._v(" "),n("h5",{attrs:{id:"layout-层的适配"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#layout-层的适配"}},[s._v("#")]),s._v(" Layout 层的适配")]),s._v(" "),n("p",[s._v("背景")]),s._v(" "),n("ol",[n("li",[s._v("通过 rem 设置好 padding，#app 容器居中处理")]),s._v(" "),n("li",[s._v("body 设置为蓝底色，后续可以研究绘制出对应的表格。")]),s._v(" "),n("li",[s._v("设置 #app 的背景图为以下，后续根据第 2 点的处理后，进行拆解为更灵活的处理。")])]),s._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(1221)}}),s._v(" "),n("h5",{attrs:{id:"主体布局"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#主体布局"}},[s._v("#")]),s._v(" 主体布局")]),s._v(" "),n("h6",{attrs:{id:"切割布局"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#切割布局"}},[s._v("#")]),s._v(" 切割布局")]),s._v(" "),n("ul",[n("li",[s._v("header")]),s._v(" "),n("li",[s._v("sidebar")]),s._v(" "),n("li",[s._v("main")])]),s._v(" "),n("h6",{attrs:{id:"层叠布局"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#层叠布局"}},[s._v("#")]),s._v(" 层叠布局")]),s._v(" "),n("p",[s._v("main 主体下")]),s._v(" "),n("h4",{attrs:{id:"主题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#主题"}},[s._v("#")]),s._v(" 主题")]),s._v(" "),n("p",[s._v("理想的效果，一般主题皮肤包括以下方面：")]),s._v(" "),n("ul",[n("li",[s._v("字体")]),s._v(" "),n("li",[s._v("icon")]),s._v(" "),n("li",[s._v("颜色")]),s._v(" "),n("li",[s._v("图片")]),s._v(" "),n("li",[s._v("更复杂的，布局方式")]),s._v(" "),n("li",[s._v("更复杂的，则是交互的体验（比如王者，买了皮肤的英雄，出的招式都会变化。）")])]),s._v(" "),n("p",[s._v("最优先需要支持的便是「颜色层面」。而换个颜色，区别是看颗粒度的大小。指标系统的颗粒度比较大，一些许的大颜色。我们的颗粒度比较小，是整体风格的，比如暗黑风格，一些按钮，地图工具，地图图表整体上的考虑。「"),n("strong",[s._v("而颜色下，还有考虑到主色、圆角、边框和部分组件的视觉定制")]),s._v("。」")]),s._v(" "),n("p",[s._v("可能会遇到的问题：")]),s._v(" "),n("ol",[n("li",[s._v("系统主题色改变，依赖的 UI 组件库、Echarth 表、地图库渲染等这些主题能否一同改变，如何做到呢？")])]),s._v(" "),n("p",[s._v("先实现系统的风格，再实现第三方 UI 库同步风格处理。")]),s._v(" "),n("h4",{attrs:{id:"解决方案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[s._v("#")]),s._v(" 解决方案")]),s._v(" "),n("p",[s._v("检视阅读。")]),s._v(" "),n("p",[s._v("考核指标：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("主题的实现，我们往往需要了解业务特性，去寻找最合适的解决方案。不同项目，有不同的实现方式，但目标都是为了提高项目的可维护性、可扩展性，以及降低接入复杂度。")])]),s._v(" "),n("li",[n("p",[s._v("不仅仅考虑到实现效果，目标客户。还要考虑到内层的用户，也就是开发者用户（也就是团队维度）。后期如何快速新增主题，减少代码量。")])])]),s._v(" "),n("h5",{attrs:{id:"方案一-prop-下发-theme"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方案一-prop-下发-theme"}},[s._v("#")]),s._v(" 方案一 prop 下发 theme")]),s._v(" "),n("p",[s._v("原理：定义"),n("code",[s._v("theme")]),s._v("参数，通过"),n("code",[s._v("prop")]),s._v("下发，子组件根据"),n("code",[s._v("theme")]),s._v("来动态绑定"),n("code",[s._v("style")]),s._v("的方式实现")]),s._v(" "),n("h5",{attrs:{id:"方案二-ajax-注入-dom"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方案二-ajax-注入-dom"}},[s._v("#")]),s._v(" 方案二 ajax 注入 DOM")]),s._v(" "),n("p",[s._v("原理：通过"),n("code",[s._v("Ajax")]),s._v("获取"),n("code",[s._v("css，")]),s._v("，然后其中的颜色变了，再通过 "),n("code",[s._v("style")]),s._v(" 标签将演示插入 DOM")]),s._v(" "),n("h5",{attrs:{id:"方案三-变量动态编译"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方案三-变量动态编译"}},[s._v("#")]),s._v(" 方案三 变量动态编译")]),s._v(" "),n("p",[s._v("原理：使用可以在浏览器上直接运行的"),n("code",[s._v("less")]),s._v("，通过传入变量动态编译。")]),s._v(" "),n("h5",{attrs:{id:"方案四-控制-body"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方案四-控制-body"}},[s._v("#")]),s._v(" 方案四 控制 body")]),s._v(" "),n("p",[s._v("原理：给所有"),n("code",[s._v("css")]),s._v("选择器加一个样式名的类选择器，并把这个类名绑定到"),n("code",[s._v("body")]),s._v("元素上，然后通过"),n("code",[s._v("DOM API")]),s._v("来动态切换主题。")]),s._v(" "),n("p",[s._v("大概了解下几种方案，再来实现。")]),s._v(" "),n("h5",{attrs:{id:"方案五-webpack-插件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方案五-webpack-插件"}},[s._v("#")]),s._v(" 方案五 webpack 插件")]),s._v(" "),n("h5",{attrs:{id:"参考资料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://juejin.cn/post/6844904016892133383#heading-0",target:"_blank",rel:"noopener noreferrer"}},[s._v("实现Vue项目主题切换"),n("OutboundLink")],1)])]),s._v(" "),n("h4",{attrs:{id:"图表引入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#图表引入"}},[s._v("#")]),s._v(" 图表引入")]),s._v(" "),n("div",{staticClass:"language-tsx line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-tsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// *引入 echarts*")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" ECharts "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue-echarts"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" use "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echarts/core"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// *// 手动引入 ECharts 各模块来减小打包体积*")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" CanvasRenderer "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echarts/renderers"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" BarChart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" PieChart "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echarts/charts"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" GridComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" TooltipComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echarts/components"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CanvasRenderer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" BarChart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" PieChart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" GridComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" TooltipComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("可以定制主题，让 UI 去定制，这样开发更便捷。也满足要求。")]),s._v(" "),n("h3",{attrs:{id:"_2-5-引入地图，二三维一体化，考虑三维地图框架的支持"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-引入地图，二三维一体化，考虑三维地图框架的支持"}},[s._v("#")]),s._v(" 2.5 引入地图，二三维一体化，考虑三维地图框架的支持")]),s._v(" "),n("h4",{attrs:{id:"主体处理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#主体处理"}},[s._v("#")]),s._v(" 主体处理")]),s._v(" "),n("p",[s._v("达到的效果：")]),s._v(" "),n("ul",[n("li",[s._v("能够随时切换三维，能够同步三维数据。")])]),s._v(" "),n("p",[s._v("在南宁弄的二三维不是很像适配器模式，因为没有调用二维地图时，直接使用的二维地图的组件。")]),s._v(" "),n("p",[s._v("点击三维视图时，直接使用的三维地图组件。")]),s._v(" "),n("ul",[n("li",[s._v("D3-map")]),s._v(" "),n("li",[s._v("D2-map")]),s._v(" "),n("li",[s._v("Map 作为统一入口")])]),s._v(" "),n("p",[s._v("消费者组件使用 Map 组件，Map 组件根据消费者的需求，返回 D2-Map 或 D3-Map 组件。")]),s._v(" "),n("h4",{attrs:{id:"适配器设计模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#适配器设计模式"}},[s._v("#")]),s._v(" 适配器设计模式")]),s._v(" "),n("ul",[n("li",[s._v("源角色")]),s._v(" "),n("li",[s._v("适配器角色")]),s._v(" "),n("li",[s._v("目标角色")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(1222),alt:""}})]),s._v(" "),n("p",[s._v("源角色可以是调用 Map 组件的外部组件，比如它调用二维目标角色，就可以通过适配器角色返回二维目标角色。假如要调用三维目标角色，就可以通过适配器返回三维目标角色。这样的解释不够合理。（适配器角色没有继承源角色，也没有实现目标角色的接口。）")]),s._v(" "),n("p",[s._v("前面的大场景不符合适配器设计模式。前端的树结构渲染等，很多时候都处理后台的数据以符合树组件的数据结构，便使用了适配器。")]),s._v(" "),n("p",[s._v("Map 作为适配器基础了源角色，这块可以看下 axios 是如何应用适配器模式的。")]),s._v(" "),n("p",[s._v("什么时候应用到适配器模式呢，"),n("strong",[s._v("那就是「同步数据和视图」这块就用到了适配器设计模式，二维的坐标系转三维，三维转二维。图层的处理，通过多个数据格式化工具进行处理")]),s._v("。")]),s._v(" "),n("p",[s._v("或者说，baidumap.show() 和 googleMap.display()，使用适配器基础百度地图，重新实现 googleMap 。")]),s._v(" "),n("p",[s._v("那么，主体的架构用到了什么设计模式呢，那就是简单的工厂模式。")]),s._v(" "),n("p",[s._v("。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(1223),alt:""}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(1224),alt:""}})]),s._v(" "),n("p",[s._v("需求：二维")]),s._v(" "),n("p",[s._v("变换装置：")]),s._v(" "),n("p",[s._v("实际：三维")]),s._v(" "),n("p",[s._v("适配器模式主要用在二三维数据的转换和同步。更深层的适配，不仅仅是代理一个接口命名。")]),s._v(" "),n("p",[s._v("对前端来说，而是数据层面的适配，比如 Vue 的计算属性、常见的树结构平铺、axios 的适配。https://www.yuque.com/wubinhp/uxiv5i/bnnkns#033e3a46")]),s._v(" "),n("p",[s._v("外部 Map 调用适配器 adapter 提供的 getD2Layer 和 getD3Layer ，而 adaptee 只有当前的混合图层，也就是只有 getLayers。")]),s._v(" "),n("p",[s._v("特殊情况：这里的 adaptee 的状态是动态变化的，图层数据的增删改。")]),s._v(" "),n("h4",{attrs:{id:"中介者设计模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#中介者设计模式"}},[s._v("#")]),s._v(" 中介者设计模式")]),s._v(" "),n("p",[s._v("主要体现在切换二维与三维视图时，都通过 Map 组件进行数据的处理。")]),s._v(" "),n("p",[s._v("还有就是把当前地图的 map、mapView 放到 Vuex 里，这里的 vuex 就是中介者。")]),s._v(" "),n("h4",{attrs:{id:"代理设计模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代理设计模式"}},[s._v("#")]),s._v(" 代理设计模式")]),s._v(" "),n("p",[n("strong",[s._v("注意事项：")]),s._v(" 1、和适配器模式的区别：适配器模式主要改变所考虑对象的接口，而代理模式不能改变所代理类的接口。 2、和装饰器模式的区别：装饰器模式为了增强功能，而代理模式是为了加以控制。")]),s._v(" "),n("p",[s._v("应用： 1、远程代理。 2、虚拟代理。 3、Copy-on-Write 代理。 4、保护（Protect or Access）代理。 5、Cache代理。 6、防火墙（Firewall）代理。 7、同步化（Synchronization）代理。 8、智能引用（Smart Reference）代理。")]),s._v(" "),n("p",[s._v("访问 Map，Map 负责实例化生成 d2-map 或 d3-map。")]),s._v(" "),n("p",[s._v("只"),n("strong",[s._v("能说类似代理设计模式，但没有严格上的。因为 Map 组件和 d2-map 并没有定义相同的接口（这个没必要，要不然所有的都要这样处理）")]),s._v("。况且 map 是视图组件类型，共同的接口就是 display ，也就是视图这块显示出来。也算是代理设计模式了。")]),s._v(" "),n("ul",[n("li",[s._v("Proxy（Map）")]),s._v(" "),n("li",[s._v("Subject")]),s._v(" "),n("li",[s._v("RealSubject（d2-map、d3-map）")])]),s._v(" "),n("p",[s._v("而 Map 根据情况渲染 d2-map，或则 d3-map，动态组件。")]),s._v(" "),n("p",[s._v("其他的应用：")]),s._v(" "),n("p",[s._v("这里可以考虑代理访问，直接使用 $refs 访问。")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * @description: 获得当前渲染的视图组件\n     * @param {*}\n     * @return {*}\n     */")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getViewComponent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$refs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("renderDynamicComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h4",{attrs:{id:"简单工厂模式（比较符合）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#简单工厂模式（比较符合）"}},[s._v("#")]),s._v(" 简单工厂模式（比较符合）")]),s._v(" "),n("p",[s._v("传递不同的参数，比如 d2 或 d3，实例化生成不同的组件。至于切换时，就通过 props 传递函数参数，让 map 获得数据，进行处理后，再传递给 d3。")]),s._v(" "),n("blockquote",[n("p",[s._v("参考资料：https://www.codenong.com/j5ddfbedd6fb9a071975/，这种是 react 的传递函数做法，vue 的确可以直接采用 emit 的，只不过传递函数的话，对于参数有比较好的提醒作用。")])]),s._v(" "),n("p",[s._v("所以，对于数据的同步处理，通过函数传递比较灵活。至于其他事件，则可以通过 emit /on 处理。")]),s._v(" "),n("p",[s._v('至于外部的事件，是否需要给 map 设置  v-on="$listeners" v-bind="$attrs" 这两个东西来把 map 的 props 传递给 d2map/d3map，或者把 d2map/d3map 传递给外部呢。')]),s._v(" "),n("p",[s._v("有没有必要这样处理呢？比如地图加载完成这个事件，是否需要直接传递到外部去呢？还是说中间中转一层比较好一点。既然做了 Map 中间处理层， 就不应该再过多传递到外部？")]),s._v(" "),n("p",[s._v("this.$listener 读取该组件上获取的监听器，然后再监听到 "),n("code",[s._v("<component></component>")]),s._v(" 组件上来，同理 this.$attrs 获取该组件上外部赋予的属性，再传递到 "),n("code",[s._v("<component>")]),s._v(" 子组件上来。（通过 react 的写法，这两个东西就一目了然。）")]),s._v(" "),n("p",[s._v("外部使用 Map.vue")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("Map")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("@on-xxxx")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("xxxx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":xxxx")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("xxxx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("Map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("Map.vue")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("component")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("ref")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("renderDynamicComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":is")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("activeComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("@on-switch-view")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("onSwitchView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("v-on")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("$listeners"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("v-bind")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("$attrs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("  "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":layers")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("viewLayers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":viewpoint")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("activeViewPoint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("它的缺点是会让组件的状态来源变得不可控，从哪里获取的 props，以及从哪里处理的，开发者难以寻找来源。但它还是能解决一定的问题，比如 d2map 有多个 emit 事件时，这个时候就可以用。（后面再看怎么优化）")]),s._v(" "),n("ul",[n("li",[s._v("map\n"),n("ul",[n("li",[s._v("d2map")]),s._v(" "),n("li",[s._v("d3map")])])])]),s._v(" "),n("p",[s._v("至于统一的 map ，外部传递到 vuex 即可。")]),s._v(" "),n("h4",{attrs:{id:"其他设计模式（需要考虑）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#其他设计模式（需要考虑）"}},[s._v("#")]),s._v(" 其他设计模式（需要考虑）")]),s._v(" "),n("p",[s._v("如果外部要获取 d2-map 的实例，直接通过 vuex 来获取这样更好，地图工具栏会使用到。每个系统加载时，都会初始化 vuex 上保存的唯一值。图表工具需要使用 Map 对象的话，直接可以从 vuex 中获取 state 状态。")]),s._v(" "),n("h5",{attrs:{id:"问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[s._v("#")]),s._v(" 问题")]),s._v(" "),n("p",[s._v("特殊的情况：既然作为 Map 组件，那就可以同时渲染实例化多个地图。这个时候 vuex 的值以哪个为准呢，特别是说两个地图都有工具栏的，这块就得")]),s._v(" "),n("p",[s._v("如果同时存在多个地图组件的话，这个工具栏对地图组件的依赖，其实可以通过外部 prop 传递进来。这样就不会跟 vuex 绑死了。后续再思考。")]),s._v(" "),n("p",[s._v("如何同时保持外部能够使用，又能保持独立性进行覆盖呢？")]),s._v(" "),n("p",[s._v("三维到二维，这里存储的 map 也要改变的。不能给地图组件一直引用着。")]),s._v(" "),n("h4",{attrs:{id:"实现步骤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实现步骤"}},[s._v("#")]),s._v(" 实现步骤")]),s._v(" "),n("h5",{attrs:{id:"地图-api-引入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#地图-api-引入"}},[s._v("#")]),s._v(" 地图 api 引入")]),s._v(" "),n("h6",{attrs:{id:"传统的处理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#传统的处理"}},[s._v("#")]),s._v(" 传统的处理")]),s._v(" "),n("p",[s._v("直接把 css 和 js 添加到 html 里面")]),s._v(" "),n("h6",{attrs:{id:"通过-esri-loader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#通过-esri-loader"}},[s._v("#")]),s._v(" 通过 esri-loader")]),s._v(" "),n("ol",[n("li",[s._v("读取配置文件 的 arcgisUrl，传入 Vue.use 里面")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 初始化地图")]),s._v("\nVue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Map"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  load"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    arcgisUrl"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ARCGISURL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 传入地址")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("Map 插件：")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" loadCss"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" loadScript "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"esri-loader"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 动态构建 style 和 script 标签进行加载")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" lazyValue "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@/utils/lazyValue"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DEFAULTURL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://52.82.69.134:18080/dgp_js_api412"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Map "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./map.vue"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("loadEyeMapApi")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("url"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// await loadEchartsArcGISApi();")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" jsUrl "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" url "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/init.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" cssUrl "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" url "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/esri/css/main.css"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Promise")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("resolve"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" reject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadCss")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cssUrl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadScript")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        url"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" jsUrl\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("resolve"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 异步加载 arcgis api")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("makeEyeMapApiPromiseLazy")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("options"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" load"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" arcgisUrl"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" load "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("onApiLoaded")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"api has loaded"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("load"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" arcgisUrl "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DEFAULTURL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" load"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("lazyValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Promise")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("resolve"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" reject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadEyeMapApi")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("arcgisUrl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("resolve"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("onApiLoaded"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" install"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("any")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("Vue"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  options"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" load"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" arcgisUrl"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("installed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("installed "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" eyeMapApiPromiseLazy "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("makeEyeMapApiPromiseLazy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$eyeMapApiPromiseLazy "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" eyeMapApiPromiseLazy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eye-map"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Map"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" plugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" install "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" plugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("然后在客户使用处，初始化调用 this.$eyeMapApiPromiseLazy 进行加载即可。")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("D2Map")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mounted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$eyeMapApiPromiseLazy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$eyeMapApiPromiseLazy ->"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// this.init();")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("如果在这里没有加载依赖的 arcgis 的 css 和 js api，那么在加载模块时 esri-loader 内部会进行判断，如果没有加载就会默认加载 4.18 的 api。")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      Map"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      MapView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      Basemap"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// TileLayer,")]),s._v("\n      MapImageLayer\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadModules")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"esri/Map"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"esri/views/MapView"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"esri/Basemap"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// "esri/layers/TileLayer",')]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"esri/layers/MapImageLayer"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// esri 内部")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h5",{attrs:{id:"map-组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#map-组件"}},[s._v("#")]),s._v(" Map 组件")]),s._v(" "),n("ul",[n("li",[s._v("prop\n"),n("ul",[n("li",[s._v("layerOptions")])])])]),s._v(" "),n("h6",{attrs:{id:"layeroption"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#layeroption"}},[s._v("#")]),s._v(" layerOption")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("不需要 viewType，在三维或二维的加载，只需要判断图层的类型和叠加类型，图层的坐标系，即可判断当前图层在三维或二维能否加载了。")]),s._v(" "),n("ul",[n("li",[s._v("普通的 loadType + 坐标系\n"),n("ul",[n("li",[s._v("如果图层具有缓存（切片），比如 4524 具 可以在二维中以切片方式加载，在三维中以动态方式加载。")]),s._v(" "),n("li",[s._v("如果图层没有缓存（切片），则在二维与三维中都可以直接动态形式加载")])])]),s._v(" "),n("li",[s._v("Scene、Elevation 的 loadType 只能添加到三维，并且坐标系相同。如果不提供坐标系，就从图层 url 中获取。（通过适配器剔除）")])])]),s._v(" "),n("li",[n("p",[s._v("LayerOption 新建实体 id，所有图层的配置都要经过 LayerOption 实例化。")]),s._v(" "),n("ul",[n("li",[s._v("需要保证不重复加载同一个图层 URL 加载到地图中，因此要保证 id 唯一性。")]),s._v(" "),n("li",[s._v("如何保证添加到地图中的图层 id 唯一性，又能实现开发者可以根据一定的规则通过 id 把图层取出来。因为 guid 是无法是实现后者的。")]),s._v(" "),n("li",[s._v("Id = url，直接用 url 作为唯一 id，处理 graphicLayer 外，其他的图层实例化都需要 url 的。就是有多个子图层。")])]),s._v(" "),n("p",[s._v("可以给地图图层 id ，使用 url 作为前缀，后面再添加 guid 即可。这样就保证唯一性，如果开发者想要获取相同的图层的话，只需要批评前缀即可。")]),s._v(" "),n("p",[s._v("这个规则需要特别说明的。如果没有 url，比如 graphicLayer 的，它的 id 组成也是用户输入的 id 标准。url + guid() + 用户自定义的三部分组成。约定大于配置。")]),s._v(" "),n("p",[n("code",[s._v("https://xxxx_guid_mylayerId")]),s._v("，如果 url 为空，则为 guid_customLayer 。")]),s._v(" "),n("p",[s._v("这样匹配可能会有点问题，比如 "),n("code",[s._v('"http://52.82.69.134:16080/arcgis/rest/services/XZQH/BJDT/MapServer_22cd8bf9-a1e7-45d6-b45a-640198778cab_layer_guid_1"')]),s._v(" 跟 "),n("code",[s._v('https:"http://52.82.69.134:16080/arcgis/rest/services/XZQH/BJDT/MapServer/0_22cd8bf9-a1e7-45d6-b45a-640198778cab_layer_guid_1"')])]),s._v(" "),n("p",[s._v("如果通过包含来判断 url，那么这两个图层都属于同一个地图服务下的。真要匹配也行，就是通过分隔符 "),n("code",[s._v("_")]),s._v(" 来正则获取 url。")]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[s._v(" serverList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("option"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" LayerOption")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" findItem "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mapObj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("allLayers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("items"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("layer"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v("\n        layer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("option"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("findItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果存在则不用添加，直接开启 visible")]),s._v("\n        findItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("visible "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" layerClass "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("option"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loadType "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" ELayerLoadType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mapImage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          layerClass "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MapImageLayer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("option"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loadType "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" ELayerLoadType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tield"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          layerClass "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" TileLayer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"图层类型不存在"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" layer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("layerClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" option"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          loadType"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" option"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loadType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          opacity"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" option"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("opacity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          visible"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" option"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("visible"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          stackType"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" option"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stackType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          url"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" option"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("url\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mapObj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("layer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])])])]),s._v(" "),n("h6",{attrs:{id:"图层-loading"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#图层-loading"}},[s._v("#")]),s._v(" 图层 loading")]),s._v(" "),n("ul",[n("li",[s._v("封装为 Promise，如何管理好 loading 状态")])]),s._v(" "),n("p",[s._v("多个")]),s._v(" "),n("h5",{attrs:{id:"d2map"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#d2map"}},[s._v("#")]),s._v(" D2Map")]),s._v(" "),n("ul",[n("li",[s._v("工具类\n"),n("ul",[n("li",[s._v("图层增删改查")]),s._v(" "),n("li",[s._v("要素增删改查")]),s._v(" "),n("li",[s._v("要素绘制")])])])]),s._v(" "),n("h3",{attrs:{id:"_2-6-获取指标系统数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-获取指标系统数据"}},[s._v("#")]),s._v(" 2.6 获取指标系统数据")]),s._v(" "),n("ul",[n("li",[s._v("需要用户的信息")]),s._v(" "),n("li",[s._v("同源，能够获取 cookie 登录信息")])]),s._v(" "),n("p",[s._v("参考指标系统，调用 http://52.82.69.134:18080/dgp-ims-web/ims/rest/v1/login/sso 调用这个接口进行单点登录判断，即可获得用户的信息。也就可以获取到指标系统数据的接口，")]),s._v(" "),n("p",[s._v("看数据的复杂度如何，当前是否需要后端帮忙处理。")]),s._v(" "),n("p",[s._v("临时方案：先使用写死的指标数据。")]),s._v(" "),n("h4",{attrs:{id:"数据与图表自适应读取渲染"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据与图表自适应读取渲染"}},[s._v("#")]),s._v(" 数据与图表自适应读取渲染")]),s._v(" "),n("p",[s._v("没考虑下钻的情况下：")]),s._v(" "),n("p",[s._v("饼图，一维")]),s._v(" "),n("ul",[n("li",[s._v("Key：名称（挑选一列的值作为每份显示的名称）")]),s._v(" "),n("li",[s._v("value：数值/百分比（挑选一列的值作为每份大小的计算依赖）")])]),s._v(" "),n("p",[s._v("柱状图")]),s._v(" "),n("ul",[n("li",[s._v("key：名称（通常位于水平轴，挑选一列作为 x 轴名称显示）")]),s._v(" "),n("li",[s._v("value：数值/百分比（挑选一列作为y 轴显示）")])]),s._v(" "),n("p",[s._v("表格")]),s._v(" "),n("ul",[n("li",[s._v("多个列（维度）")])]),s._v(" "),n("p",[s._v("根据数据的特征，来表明当前可以适配的图表。")]),s._v(" "),n("p",[s._v("先通过：通过JSON数据，快速配置图形报表。")]),s._v(" "),n("p",[s._v("获得的原始数据通常都是二维列表。")]),s._v(" "),n("p",[s._v("后续 Review 学习数据可视化 BI 平台：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("数据与图表的映射")])]),s._v(" "),n("li",[n("p",[s._v("如何拖拽生成")]),s._v(" "),n("p",[s._v("01 通过JSON数据，快速配置图形报表")]),s._v(" "),n("p",[s._v("02 通过SQL数据，快速配置图形报表")]),s._v(" "),n("p",[s._v("03 图表模板配置，实现不同数据源图表合并展示")]),s._v(" "),n("p",[s._v("04 图表布局，支持单排、双排、组合、TAB")])])]),s._v(" "),n("p",[s._v("由于 UI 没确定，暂时难以考虑复用的问题。先直接写到图表数据里去。")]),s._v(" "),n("h3",{attrs:{id:"_2-7-获取主系统地图服务信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-获取主系统地图服务信息"}},[s._v("#")]),s._v(" 2.7 获取主系统地图服务信息")]),s._v(" "),n("ul",[n("li",[s._v("能否直接获取用户的登录信息，如果是在从主系统页面打开的话，这样就可以利用到主系统配置的地图服务。")]),s._v(" "),n("li",[s._v("或者写死使用管理员登录，可以先提供一个登录认证，用于获取地图服务信息。")])]),s._v(" "),n("p",[s._v("参考指标系统，调用 http://52.82.69.134:18080/dgp-ims-web/ims/rest/v1/login/sso 调用这个接口进行单点登录判断，即可获得用户的信息。也就可以获取到地图服务。")]),s._v(" "),n("p",[s._v("地图服务不要挂在某个系统下，而是挂在通用服务的获取下。")]),s._v(" "),n("h3",{attrs:{id:"_2-8-地图与图表联动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-地图与图表联动"}},[s._v("#")]),s._v(" 2.8 地图与图表联动")]),s._v(" "),n("p",[s._v("目标：渲染其他指标数据，跑通一个图表的地图联动与指标数据联动。先打通一个图表联动。")]),s._v(" "),n("p",[s._v("A：地图服务和数据可以先通过 json 进行配置，可以快速把效果弄起来。")]),s._v(" "),n("p",[s._v("B：调用指标系统也可以的，通过后端处理指标数据，并且让这些指标数据能够与地图服务关联起来，考虑名称、id 等。这样开发周期需要多两天。可以先用 A 计划，让领导看下先。")]),s._v(" "),n("p",[s._v("实体之间的关联关系是怎么的，架构交互状态图，领域驱动")]),s._v(" "),n("p",[s._v("指标")]),s._v(" "),n("ul",[n("li",[s._v("年份")])]),s._v(" "),n("p",[s._v("地图服务")]),s._v(" "),n("ul",[n("li")]),s._v(" "),n("p",[s._v("指标与地图服务是一对一的关系，关联键是什么？")]),s._v(" "),n("p",[s._v("流程图")]),s._v(" "),n("div",{staticClass:"language-fl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("初始化加载所有指标数据和地图数据\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("UML 图")]),s._v(" "),n("p",[s._v("echart5 的 dataset 比 echart4 更灵活了。")]),s._v(" "),n("h4",{attrs:{id:"地图组件存放问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#地图组件存放问题"}},[s._v("#")]),s._v(" 地图组件存放问题")]),s._v(" "),n("ul",[n("li",[s._v("是否每个子页面都需要维护不同的地图信息")]),s._v(" "),n("li",[s._v("是否需要保留上一个页面的地图信息，比如自然资源和实施评估的。目")]),s._v(" "),n("li",[s._v("居于目前考虑，整个系统应用只需要保留一个 map 组件。")])]),s._v(" "),n("p",[s._v("什么时候存储到 vuex 上，什么时候进行读取。")]),s._v(" "),n("p",[s._v("地图组件尽量不依赖 vuex，vuex 的交接由 smart 组件去处理。")]),s._v(" "),n("p",[s._v("在地图组件可以通过 $emit 出去，外部组件使用时，获得 @ 监听后，再传递到 vuex 上来。目前 vuex 只需存一个，这个共享模式也涉及到设计模式。")]),s._v(" "),n("p",[s._v("在 map.view(xxx) 回调时进行存储，并发布")]),s._v(" "),n("h2",{attrs:{id:"_3-问题杂锦"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-问题杂锦"}},[s._v("#")]),s._v(" 3. 问题杂锦")]),s._v(" "),n("h3",{attrs:{id:"css-module"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css-module"}},[s._v("#")]),s._v(" CSS Module")]),s._v(" "),n("p",[s._v("无法在 scss 中组合样式类，compose 没识别。")]),s._v(" "),n("h3",{attrs:{id:"typescript"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#typescript"}},[s._v("#")]),s._v(" TypeScript")]),s._v(" "),n("p",[s._v("依照 Echart 等经验，这块需要在大屏严格执行起来。总结相关的检查点，复合标准的 TypeScript 项目。避免优点没用上，反而降低开发效率。")]),s._v(" "),n("p",[s._v("需要好好总结下。")]),s._v(" "),n("p",[s._v("这块声明主要在基础组件，以及业务组件的后端接口数据声明上来。")]),s._v(" "),n("h3",{attrs:{id:"请求封装类-react-query-的-vue-解决方案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#请求封装类-react-query-的-vue-解决方案"}},[s._v("#")]),s._v(" 请求封装类 React-Query 的 vue 解决方案")]),s._v(" "),n("p",[s._v("详细见：用 React Query 来管理数据请求https://zhuanlan.zhihu.com/p/261146977")]),s._v(" "),n("h2",{attrs:{id:"vue-3-降级-vue2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-3-降级-vue2"}},[s._v("#")]),s._v(" Vue 3 降级 Vue2")]),s._v(" "),n("ol",[n("li",[s._v("vue2 全家桶")]),s._v(" "),n("li",[s._v("UI 组件库也用回 2，考虑用 quark")]),s._v(" "),n("li",[s._v("TS 不改变，这样修改的成本小一点。使用 class 风格，跟 react 更加的类似，后续跟 vue3 的 defineProperty 函数也更符合。修改的成本更低一点。")])]),s._v(" "),n("p",[s._v("维护性能，以及 Template 模版。")]),s._v(" "),n("p",[s._v("使用")]),s._v(" "),n("ul",[n("li",[s._v("vue-property-decorator")]),s._v(" "),n("li",[s._v("vuex-module-decorators")]),s._v(" "),n("li",[s._v("vue-class-component")])]),s._v(" "),n("p",[s._v("而 "),n("code",[s._v("vue-property-decorator")]),s._v(" 正是基于此而来，它在此基础上增加了装饰器相关的功能，因此它也同时拥有 "),n("code",[s._v("vue-class-component")]),s._v(" 的功能。")]),s._v(" "),n("ul",[n("li",[s._v("@vue/composition-api 针对插件 vue-echart")]),s._v(" "),n("li",[s._v("需要安装 vue-template-compiler 针对单文件组件编译")])]),s._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[s._v("vue2 挂载后，是直接把 #app 替换为挂载的组件。而 vue3 会把挂载的组件 append 进 app 中。")])]),s._v(" "),n("h3",{attrs:{id:"使用-vue2-ts-类风格，不需要响应式的数据如何处理？"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用-vue2-ts-类风格，不需要响应式的数据如何处理？"}},[s._v("#")]),s._v(" 使用 vue2 + TS 类风格，不需要响应式的数据如何处理？")]),s._v(" "),n("h3",{attrs:{id:"是否继续使用-css-module-还是回到-vue-scoped-上来？能否找到最佳实践？"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#是否继续使用-css-module-还是回到-vue-scoped-上来？能否找到最佳实践？"}},[s._v("#")]),s._v(" 是否继续使用 CSS module 还是回到 vue scoped 上来？能否找到最佳实践？")]),s._v(" "),n("ol",[n("li",[s._v("已经用了 CSS module 的，就先保留，后续新的还是用 vue scoped 来处理。OK。")]),s._v(" "),n("li",[s._v("CSS Module 更加适合于后端模版使用，一些比较简单的设计稿，比如博客平台。")])]),s._v(" "),n("p",[s._v("或者两者结合，原子类可以放到 CSS Module 上来，至于其他的，则可以放到 scoped 上。")]),s._v(" "),n("h2",{attrs:{id:"render-vs-template"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#render-vs-template"}},[s._v("#")]),s._v(" Render vs Template")]),s._v(" "),n("h3",{attrs:{id:"性能上的对比"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#性能上的对比"}},[s._v("#")]),s._v(" 性能上的对比")]),s._v(" "),n("p",[s._v("vue 框架特别针对 Template 做了优化，比如哪些是动态节点，哪些是静态节点等。")]),s._v(" "),n("p",[s._v("而 render 是运行时，缺失相应的优化。")]),s._v(" "),n("h3",{attrs:{id:"内置组件的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内置组件的使用"}},[s._v("#")]),s._v(" 内置组件的使用")]),s._v(" "),n("h4",{attrs:{id:"使用-render-无法使用动态组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用-render-无法使用动态组件"}},[s._v("#")]),s._v(" 使用 Render 无法使用动态组件")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("renderRealMap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("viewType "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"d2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("d2"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("map\n          onMapReady"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("handleMapReady")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          onMapViewChange"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("handleMapViewChange")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("d2"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("map"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("d3"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("map\n          onMapReady"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("handleMapReady")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          onMapViewChange"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("handleMapViewChange")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("d3"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("map"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"map"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("renderRealMap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("p",[s._v("Template.vue")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" \n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("component")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("ref")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("renderDynamicComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":is")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("activeComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("@on-switch-view")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("onSwitchView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("v-on")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("$listeners"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("v-bind")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("$attrs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("  "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":layers")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("viewLayers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":viewpoint")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("activeViewPoint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("显然当动态组件很多时，使用 template 写法更清晰。")]),s._v(" "),n("h4",{attrs:{id:"过渡组件是否可以使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#过渡组件是否可以使用"}},[s._v("#")]),s._v(" 过渡组件是否可以使用")]),s._v(" "),n("h2",{attrs:{id:""}},[n("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])]),s._v(" "),n("h3",{attrs:{id:"内置指令的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内置指令的使用"}},[s._v("#")]),s._v(" 内置指令的使用")]),s._v(" "),n("h2",{attrs:{id:"_4-总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-总结"}},[s._v("#")]),s._v(" 4. 总结")]),s._v(" "),n("h2",{attrs:{id:"参考资料-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考资料-2"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"https://juejin.cn/post/6844903518180999176#heading-2",target:"_blank",rel:"noopener noreferrer"}},[s._v("一个炫酷大屏展示页的打造过程"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://juejin.cn/post/6844903958415327246#comment",target:"_blank",rel:"noopener noreferrer"}},[s._v("React数据大屏的应用实践"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://github.com/yyhsong/iDataV",target:"_blank",rel:"noopener noreferrer"}},[s._v("iDataV"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"http://www.woshipm.com/pd/1782868.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("超全面设计指南：如何做大屏数据可视化设计？"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.phodal.com/blog/how-to-build-a-opensource-project/",target:"_blank",rel:"noopener noreferrer"}},[s._v("开源之美：开源软件开发流程"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://mp.weixin.qq.com/s/8GvZetosiFJmZ1n3ZLfxNA",target:"_blank",rel:"noopener noreferrer"}},[s._v("自适应布局最佳实践"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://juejin.cn/post/6858545114130841607#heading-12",target:"_blank",rel:"noopener noreferrer"}},[s._v("Antd Vue + Highcharts 实现数据大屏"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://panjiachen.github.io/vue-element-admin-site/zh/",target:"_blank",rel:"noopener noreferrer"}},[s._v("vue-element-admin"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/41423006",target:"_blank",rel:"noopener noreferrer"}},[s._v("常用设计模式在前端开发中的应用"),n("OutboundLink")],1)])])])])}),[],!1,null,null,null);t.default=e.exports},349:function(s,t,a){s.exports=a.p+"assets/img/2021-03-15-16-32-33.9fd5f4cd.png"}}]);