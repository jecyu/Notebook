(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1554:function(t,s,a){"use strict";a.r(s);var n=a(44),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"web-元素位置尺寸与应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web-元素位置尺寸与应用"}},[t._v("#")]),t._v(" web 元素位置尺寸与应用")]),t._v(" "),n("h2",{attrs:{id:"头脑风暴"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#头脑风暴"}},[t._v("#")]),t._v(" 头脑风暴")]),t._v(" "),n("h2",{attrs:{id:"前言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),n("p",[t._v("最近在写页面、写组件中遇到不少有关于动态获取元素的大小、位置、滚动等问题，像是 offset、clientWidth 等名词，第一次遇到时快速 google 一下，原来如此！复制，粘贴，了事！第二次，第三次，遇到相同的 scrollWidth，又懵了，挠晒头。这都什么玩意，一团乱。你是否会遇到过这种情况呢？下面让我帮你整理整理吧。")]),t._v(" "),n("p",[t._v("本文主要讲述以下几点内容：")]),t._v(" "),n("p",[t._v("面向读者：")]),t._v(" "),n("h2",{attrs:{id:"坐标系"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#坐标系"}},[t._v("#")]),t._v(" 坐标系")]),t._v(" "),n("p",[t._v("在 3D 的世界中，要指定一个物体的位置，得有一个固定的参照物。\n一个物体的位置是相对的，它随着参照物的不同而改变。通常，日常生活中，通常会有这样的场景，嘿，你的三点钟方向，正有一位美女向你招手。还有基友的日常骚操作，每个人自己都可以是一个参照物。")]),t._v(" "),n("p",[t._v("上面都是以时钟为标准的。除了时钟之外，对于描述位置的，我们最熟悉莫过于数学上的坐标系了，想起以前做过的数学题目：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(845),alt:""}})]),t._v(" "),n("p",[t._v("但是在 web 中或者说在浏览器的坐标系是怎样的呢？")]),t._v(" "),n("p",[n("img",{attrs:{src:a(846),alt:""}})]),t._v(" "),n("p",[n("img",{attrs:{src:a(847),alt:""}})]),t._v(" "),n("h3",{attrs:{id:"二维坐标系分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二维坐标系分类"}},[t._v("#")]),t._v(" 二维坐标系分类")]),t._v(" "),n("p",[n("img",{attrs:{src:a(848),alt:""}})]),t._v(" "),n("p",[t._v("在进行页面滚动的时候：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(849),alt:""}})]),t._v(" "),n("p",[t._v("通过获取鼠标的对象，MouseEvent")]),t._v(" "),n("ul",[n("li",[t._v("offsetX/offsetY")]),t._v(" "),n("li",[t._v("clientX/clientY")]),t._v(" "),n("li",[t._v("pageX/pageY")]),t._v(" "),n("li",[t._v("screenX/screenY")])]),t._v(" "),n("p",[t._v("可以把下面的代码粘贴到控制台，调试查看。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"offset"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetX "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"page: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageX "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientX "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"screen: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screenX "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screenY\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 坐标原点位于屏幕左下角，而在扩展屏幕时则会根据方向而决定（扩展左边，则原点位于左下角，扩展右边，则右下角）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("h4",{attrs:{id:"screen"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#screen"}},[t._v("#")]),t._v(" Screen")]),t._v(" "),n("p",[t._v("屏幕坐标系，坐标原点位于屏幕的左下角。")]),t._v(" "),n("h4",{attrs:{id:"page"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#page"}},[t._v("#")]),t._v(" Page")]),t._v(" "),n("p",[t._v("网页文档坐标系，坐标原点位于根节点左上角。")]),t._v(" "),n("h4",{attrs:{id:"client"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#client"}},[t._v("#")]),t._v(" Client")]),t._v(" "),n("p",[t._v("客户端坐标系，浏览器窗口可见区域的左上角。")]),t._v(" "),n("h4",{attrs:{id:"offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#offset"}},[t._v("#")]),t._v(" Offset")]),t._v(" "),n("p",[t._v("局部坐标系，以目标元素自身的左上角为原点。")]),t._v(" "),n("h3",{attrs:{id:"三维坐标系"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三维坐标系"}},[t._v("#")]),t._v(" 三维坐标系")]),t._v(" "),n("p",[t._v("除了二维中坐标系外，web 中还有三维坐标系。")]),t._v(" "),n("h2",{attrs:{id:"大小尺寸"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#大小尺寸"}},[t._v("#")]),t._v(" 大小尺寸")]),t._v(" "),n("p",[t._v("浏览器")]),t._v(" "),n("p",[t._v("说到大小尺寸，先会说到有关浏览器的大小，有点小累，放松下，撸撸某破站。")]),t._v(" "),n("p",[t._v("下面这些属性都代表了哪些呢？")]),t._v(" "),n("h2",{attrs:{id:"操作-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#操作-api"}},[t._v("#")]),t._v(" 操作 API")]),t._v(" "),n("h3",{attrs:{id:"js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#js"}},[t._v("#")]),t._v(" JS")]),t._v(" "),n("h4",{attrs:{id:"element-对象（元素大小）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#element-对象（元素大小）"}},[t._v("#")]),t._v(" Element 对象（元素大小）")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("offset（偏移量）\n"),n("img",{attrs:{src:a(850),alt:""}})]),t._v(" "),n("ul",[n("li",[t._v("offsetHeight\n"),n("ul",[n("li",[t._v("元素在垂直方向占用的空间大小，以"),n("code",[t._v("像素")]),t._v("计，包括元素的高度、（可见的）水平滚动条的高度、上边框高度和下边框高度")])])]),t._v(" "),n("li",[t._v("offsetWidth\n"),n("ul",[n("li",[t._v("元素在水平方向上占用的空间大小，以"),n("code",[t._v("像素")]),t._v("计。包括元素的宽度、（可见的）垂直滚动条的宽度、左边框宽度和右边框宽度。")])])]),t._v(" "),n("li",[t._v("offsetTop\n"),n("ul",[n("li",[t._v("元素偏移父元素的上边边距离")])])]),t._v(" "),n("li",[t._v("offsetLeft\n"),n("ul",[n("li",[t._v("元素偏移父元素的左边距离")])])])])]),t._v(" "),n("li",[n("p",[t._v("client（客户区大小）\n"),n("img",{attrs:{src:a(851),alt:""}})]),t._v(" "),n("ul",[n("li",[t._v("clientHeight\n"),n("ul",[n("li",[t._v("元素可视区部分，padding 和 width 属性之和，元素边框和滚动条不包括在内。")])])]),t._v(" "),n("li",[t._v("clientWidth\n"),n("ul",[n("li",[t._v("元素可视区部分，padding 和 width 属性之和，元素边框和滚动条不包括在内。")])])]),t._v(" "),n("li",[t._v("clientLeft")]),t._v(" "),n("li",[t._v("clientTop")])])]),t._v(" "),n("li",[n("p",[t._v("scroll （滚动大小）\n"),n("img",{attrs:{src:a(852),alt:""}})]),t._v(" "),n("ul",[n("li",[t._v("scrollHeight\n"),n("ul",[n("li",[t._v("在没有滚动条的情况下，表示元素总高度，包括由于溢出而无法展示在网页的不可见部分。")])])]),t._v(" "),n("li",[t._v("scrollWidth\n"),n("ul",[n("li",[t._v("在没有滚动条的情况下，表示元素总宽度，包括由于溢出而无法展示在网页的不可见部分。")])])]),t._v(" "),n("li",[t._v("scrollLeft\n"),n("ul",[n("li",[t._v("元素水平滚动距离")])])]),t._v(" "),n("li",[t._v("scrollTop\n"),n("ul",[n("li",[t._v("元素竖直滚动距离")])])])])])]),t._v(" "),n("p",[n("img",{attrs:{src:a(853),alt:""}})]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isOnBottom")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @description: 解决底部一定距离，如提前加载数据\n * @param {type}\n * @return:\n */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isCloseToBottom")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" distance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" distance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br")])]),n("p",[t._v("可以写为更语义化的写法。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isOnBottom")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" maxScrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" currentScrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("maxScrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v("currentScrollTop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isCloseToBottom")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" distance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" maxScrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" currentScrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" distance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("maxScrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" currentScrollTop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br")])]),n("p",[t._v("如果是位于 window 上的可滚动区域，要区分 body（标准模式） 和 documentElement（混杂模式）。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" maxScrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" currentScrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n​\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("maxScrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" currentScrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("p",[t._v("使用")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("updated")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" target "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("srcElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isCloseToBottom")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"isCloseToBottom 400px=>"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isOnBottom")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// console.log("isOnBottom =>", target);')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// console.log("isNotOnBottom =>", target);')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" outerDom "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('".outer"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注意这里要给 outerDOM 设置 overflow: scroll-y; 否则则是 window 的滚动条件触发了")]),t._v("\nouterDom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scroll"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" updated"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br")])]),n("h4",{attrs:{id:"inifite-scroll-的实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#inifite-scroll-的实现"}},[t._v("#")]),t._v(" inifite-scroll 的实现")]),t._v(" "),n("h4",{attrs:{id:"screen-对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#screen-对象"}},[t._v("#")]),t._v(" screen 对象")]),t._v(" "),n("p",[t._v("screen 对象基本上只用来表明客户端的能力，其中包括浏览器窗口外部的显示器的信息，如像素宽度和高度等。")]),t._v(" "),n("ul",[n("li",[t._v("height")]),t._v(" "),n("li",[t._v("width")]),t._v(" "),n("li",[t._v("availHeight")])]),t._v(" "),n("h4",{attrs:{id:"window-对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#window-对象"}},[t._v("#")]),t._v(" window 对象")]),t._v(" "),n("p",[n("u",[t._v("ECMAScript 是 JavaScript 的核心，但如果要在 Web 中使用 JavaScript，那么 BOM（浏览器对象模型）则无疑才是真正的核心。")]),t._v("多年来，缺少事实上的规范导致 BOM 既有意思又有问题，因为浏览器提供商会按照各自的想法随意去扩展它。于是，浏览器之间共有的对象就称为了事实上的标准。这些对象在浏览器中得以存在，很大程度上是由于它们提供了与浏览器的互操作性。W3C 为了把浏览器中 JavaScript 最基本的部分标准化，已经将 BOM 的主要方面纳入了 HTML5 的规范中。")]),t._v(" "),n("p",[t._v("BOM 的核心对象是 window，它表示浏览器的一个实例。在浏览器中，window 对象有双重角色，它既是通过 JavaScript 访问浏览器窗口的一个接口，又是 ECMAScript 规定的 Global 对象。这意味着在网页中定义的任何一个对象、变量和函数，都以 window 作为其 Global 对象，因此有权访问 parseInt() 等方法。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(854),alt:""}})]),t._v(" "),n("p",[n("img",{attrs:{src:a(855),alt:""}})]),t._v(" "),n("ul",[n("li",[t._v("innerWidth\n"),n("ul",[n("li",[t._v("以 CSS pixels 单位表示的浏览器框 viewport 宽度，包括垂直滚动条（如果渲染了的话）")])])]),t._v(" "),n("li",[t._v("innerHeight\n"),n("ul",[n("li",[t._v("以 CSS pixels 单位表示的浏览器框 viewport 高度，包括水平滚动条（如果渲染了的话）")])])]),t._v(" "),n("li",[t._v("outerWidth：包括了浏览器外边框的窗口宽度")]),t._v(" "),n("li",[t._v("outerHeight：viewport 高度 + 浏览器的标签栏、搜索栏等")]),t._v(" "),n("li",[t._v("pageYOffset")]),t._v(" "),n("li",[t._v("pageXOffset")]),t._v(" "),n("li",[t._v("scrollX")]),t._v(" "),n("li",[t._v("scrollY")])]),t._v(" "),n("p",[t._v("取得页面视口的大小，可以把代码在控制台执行，并打开设备模式，不断搜索窗口进行检查。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resize"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pageWidth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pageHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" pageWidth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compatMode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CSS1Compat"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        pageWidth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        pageHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        pageWidth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        pageHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pageWidth"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" pageWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pageHeight"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" pageHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br")])]),n("p",[n("img",{attrs:{src:a(856),alt:""}})]),t._v(" "),n("p",[t._v("应用场景：在 window 对象下滚动。")]),t._v(" "),n("ul",[n("li",[t._v("方法\n"),n("ul",[n("li",[t._v("确定元素大小：getBoundingClientRect()")]),t._v(" "),n("li",[t._v("getClientRects()")]),t._v(" "),n("li",[t._v("scrollTo()")]),t._v(" "),n("li",[t._v("scroll()")]),t._v(" "),n("li",[t._v("scrollBy()")]),t._v(" "),n("li",[t._v("scrollIntoView()")])])])]),t._v(" "),n("h3",{attrs:{id:"css"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css"}},[t._v("#")]),t._v(" CSS")]),t._v(" "),n("h4",{attrs:{id:"大小"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#大小"}},[t._v("#")]),t._v(" 大小")]),t._v(" "),n("h4",{attrs:{id:"定位"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定位"}},[t._v("#")]),t._v(" 定位")]),t._v(" "),n("ul",[n("li",[t._v("left/top/bottom/right")]),t._v(" "),n("li",[t._v("position")])]),t._v(" "),n("p",[t._v("absolute：相对于（position为 relative/absolute 的父元素的左上角）\nrelative：相对自身的中心")]),t._v(" "),n("p",[t._v("为了使用 position 定位一个元素，要知道两点：")]),t._v(" "),n("ul",[n("li",[t._v("left、top、bottom、right 等的坐标原点是哪里。")]),t._v(" "),n("li",[t._v("参照物是哪个，也就是说相对于哪个父元素定位。")])]),t._v(" "),n("p",[t._v("成为参照物的条件：")]),t._v(" "),n("p",[t._v("默认不设置 positon: unset，仅仅设置 position: absolute; 的话，目标元素只是停留到 parent 元素的左上角。")]),t._v(" "),n("p",[t._v("设置了 position: absoulte 后，只要父元素数字额了 relative ，只要父元素设置了 overflow: auto。这个子元素的的高度超出父元素，是会产生滚动的。")]),t._v(" "),n("h4",{attrs:{id:"transform"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#transform"}},[t._v("#")]),t._v(" transform")]),t._v(" "),n("p",[t._v("transform 与 position 的区别。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(857),alt:""}})]),t._v(" "),n("p",[t._v("空间转换。")]),t._v(" "),n("h3",{attrs:{id:"元素的实际大小"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#元素的实际大小"}},[t._v("#")]),t._v(" 元素的实际大小")]),t._v(" "),n("p",[t._v("getBoundingClientRect()")]),t._v(" "),n("h2",{attrs:{id:"绘图坐标：canvas、svg-和-webgl"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#绘图坐标：canvas、svg-和-webgl"}},[t._v("#")]),t._v(" 绘图坐标：Canvas、SVG 和 Webgl")]),t._v(" "),n("h2",{attrs:{id:"应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#应用场景"}},[t._v("#")]),t._v(" 应用场景")]),t._v(" "),n("p",[t._v("懒渲染、可视区渲染、虚拟化列表都需要尺寸")]),t._v(" "),n("p",[t._v("点击导航滚动到固定位置")]),t._v(" "),n("h3",{attrs:{id:"rem-响应式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#rem-响应式"}},[t._v("#")]),t._v(" rem 响应式")]),t._v(" "),n("h3",{attrs:{id:"滚动进度条"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#滚动进度条"}},[t._v("#")]),t._v(" 滚动进度条")]),t._v(" "),n("h3",{attrs:{id:"滚动图片到底部懒加载-视频自动播放"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#滚动图片到底部懒加载-视频自动播放"}},[t._v("#")]),t._v(" 滚动图片到底部懒加载/视频自动播放")]),t._v(" "),n("h3",{attrs:{id:"导航栏贴顶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#导航栏贴顶"}},[t._v("#")]),t._v(" 导航栏贴顶")]),t._v(" "),n("h3",{attrs:{id:"获取滚动条的宽度"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取滚动条的宽度"}},[t._v("#")]),t._v(" 获取滚动条的宽度")]),t._v(" "),n("h3",{attrs:{id:"创建自定义滚动指令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建自定义滚动指令"}},[t._v("#")]),t._v(" 创建自定义滚动指令")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("\t(1) 原生JS控制多个滚动条同步跟随滚动\n\thttps://juejin.im/post/5a3bb40e5188252b145b38e3\n\t(2) 用Javascript获取页面元素的位置\n\thttp://www.ruanyifeng.com/blog/2009/09/find_element_s_position_using_javascript.html\n\t(3) 原生JS控制多个滚动条同步跟随滚动\n\thttps://juejin.im/post/5a3bb40e5188252b145b38e3\n\t(4) 打造自己的JavaScript武器库\n\thttps://juejin.im/post/5a091afe6fb9a044ff30f402#heading-18\n\t(5) 拖动内容实现滚动条的拖动\n\thttps://blog.csdn.net/qq_36371276/article/details/80227762\n\t(6) JQuery获取浏览器窗口的可视区域高度和宽度,滚动条高度  \n\thttps://www.cnblogs.com/wennice/p/6840804.html\n\t(7) js中的各种宽高以及位置总结\n\t(8) js获取鼠标位置和滚动条位置\n\thttps://blog.csdn.net/lnn2007/article/details/7890188\n\t(9) 用Javascript获取页面元素的位置\n\thttp://www.ruanyifeng.com/blog/2009/09/find_element_s_position_using_javascript.html\n\t(10) 7分钟理解JS的节流、防抖及使用场景\n\thttps://juejin.im/post/5b8de829f265da43623c4261#heading-5\n\t(11) Vue开发——实现吸顶效果\n\thttps://juejin.im/post/5b7a9deff265da43635d8067#comment\n")])])]),n("h2",{attrs:{id:"参考资料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),n("ul",[n("li",[t._v("位置大小\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://dzone.com/articles/css-position-relative-vs-position-absolute",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS Position: Relative vs Position Absolute"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function",target:"_blank",rel:"noopener noreferrer"}},[n("transform-function",[n("OutboundLink")],1)],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Transforms/Using_CSS_transforms",target:"_blank",rel:"noopener noreferrer"}},[t._v("Using CSS transforms"),n("OutboundLink")],1),t._v(": how to alter a coordinate system")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://tympanus.net/codrops/css_reference/transform/#:~:text=The%20Coordinate%20System,the%20center%20of%20the%20element.",target:"_blank",rel:"noopener noreferrer"}},[t._v("The transform property allows you to visually transform an element in two-dimensional or three-dimensional space."),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.sarasoueidan.com/blog/svg-transformations/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Understanding SVG Coordinate Systems and Transformations (Part 2) — The transform Attribute"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://maqentaer.com/devopera-static-backup/http/dev.opera.com/articles/view/understanding-the-css-transforms-matrix/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Understanding the CSS Transforms Matrix"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.freecodecamp.org/news/how-to-understand-css-position-absolute-once-and-for-all-b71ca10cd3fd/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to understand CSS Position Absolute once and for all"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://stackoverflow.com/questions/20246443/how-to-get-the-real-scroll-height-of-div-say-inner-text-size",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to get the real scroll height of div (say, inner text size)"),n("OutboundLink")],1)])])]),t._v(" "),n("li",[t._v("坐标系\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSSOM_View/Coordinate_systems",target:"_blank",rel:"noopener noreferrer"}},[t._v("Coordinate systems"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("[w3c 规范]")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://javascript.info/coordinates",target:"_blank",rel:"noopener noreferrer"}},[t._v("Coordinates"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://stackoverflow.com/questions/6073505/what-is-the-difference-between-screenx-y-clientx-y-and-pagex-y",target:"_blank",rel:"noopener noreferrer"}},[t._v("What is the difference between screenX/Y, clientX/Y and pageX/Y?"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/zshsats/article/details/79942126",target:"_blank",rel:"noopener noreferrer"}},[t._v("JS 视口坐标，屏幕坐标，页面坐标分析"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.im/post/5a5093bd6fb9a01c9b65c3c2#heading-28",target:"_blank",rel:"noopener noreferrer"}},[t._v("浅谈响应式 Web 设计与实现思路"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("《JavaScript3 高级程序设计 3》")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/swallowliyan/article/details/44598115",target:"_blank",rel:"noopener noreferrer"}},[t._v("JS 获取各种高度宽度、浏览器窗口滚动条的位置、元素的几何尺寸"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("第三方库\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://www.npmjs.com/package/infinite-scroll",target:"_blank",rel:"noopener noreferrer"}},[t._v("infinite-scroll"),n("OutboundLink")],1)])])])])])])])}),[],!1,null,null,null);s.default=e.exports},845:function(t,s,a){t.exports=a.p+"assets/img/2020-05-31-18-58-27-web-coordinate-03.14079932.png"},846:function(t,s,a){t.exports=a.p+"assets/img/2020-05-31-18-55-45-web-coordinate-01.7c91c6fe.png"},847:function(t,s,a){t.exports=a.p+"assets/img/2020-05-31-18-56-39-web-coordinate-02.ac1fff43.png"},848:function(t,s,a){t.exports=a.p+"assets/img/2020-06-01-16-59-37-web-coordinate-04.f789e253.png"},849:function(t,s,a){t.exports=a.p+"assets/img/2020-06-01-17-00-05-web-coordinate-05.c110265c.png"},850:function(t,s,a){t.exports=a.p+"assets/img/2020-06-01-17-19-18-web-coodinate-06.f09d9cb1.png"},851:function(t,s,a){t.exports=a.p+"assets/img/2020-06-01-17-20-07-web-coodinate-06.cf83710a.png"},852:function(t,s,a){t.exports=a.p+"assets/img/2020-06-01-17-24-41-web-coordinate-07.592cbc8d.png"},853:function(t,s,a){t.exports=a.p+"assets/img/2020-06-02-10-28-18-web-coordinate-size-02.3f3ee93f.png"},854:function(t,s,a){t.exports=a.p+"assets/img/2020-06-02-09-22-12-web-coordinate-08.f78eb497.png"},855:function(t,s,a){t.exports=a.p+"assets/img/2020-06-02-09-27-58-web-coordinate-09.bbfc4302.png"},856:function(t,s,a){t.exports=a.p+"assets/img/2020-06-02-09-57-21-web-coordinate-size-01.a79a4886.png"},857:function(t,s,a){t.exports=a.p+"assets/img/2020-06-15-16-52-40-css-transform.fe67b740.png"}}]);