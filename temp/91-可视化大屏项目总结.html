<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>可视化大屏项目总结（实战篇） | Naluduo&#39;s Notebook</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/Notebook/images/logo.jpeg">
    <meta name="description" content="📝每天记录一点点">
    <link rel="preload" href="/Notebook/assets/css/0.styles.b1f38863.css" as="style"><link rel="preload" href="/Notebook/assets/js/app.accc6ad4.js" as="script"><link rel="preload" href="/Notebook/assets/js/4.2708dfb6.js" as="script"><link rel="preload" href="/Notebook/assets/js/17.b7ca32be.js" as="script"><link rel="prefetch" href="/Notebook/assets/js/10.868273fb.js"><link rel="prefetch" href="/Notebook/assets/js/100.1b860150.js"><link rel="prefetch" href="/Notebook/assets/js/101.93399fce.js"><link rel="prefetch" href="/Notebook/assets/js/102.6cbb290c.js"><link rel="prefetch" href="/Notebook/assets/js/103.8ff3d751.js"><link rel="prefetch" href="/Notebook/assets/js/104.0a2f7daa.js"><link rel="prefetch" href="/Notebook/assets/js/105.155f54c6.js"><link rel="prefetch" href="/Notebook/assets/js/106.4d7d0c3a.js"><link rel="prefetch" href="/Notebook/assets/js/107.8373d2e5.js"><link rel="prefetch" href="/Notebook/assets/js/108.8c95a110.js"><link rel="prefetch" href="/Notebook/assets/js/109.85bb673d.js"><link rel="prefetch" href="/Notebook/assets/js/11.fb903a5e.js"><link rel="prefetch" href="/Notebook/assets/js/110.52ad03a9.js"><link rel="prefetch" href="/Notebook/assets/js/111.956208cd.js"><link rel="prefetch" href="/Notebook/assets/js/112.2009b21f.js"><link rel="prefetch" href="/Notebook/assets/js/113.82a49283.js"><link rel="prefetch" href="/Notebook/assets/js/114.3b3a5472.js"><link rel="prefetch" href="/Notebook/assets/js/115.7ee78dd6.js"><link rel="prefetch" href="/Notebook/assets/js/116.7c8bbb6c.js"><link rel="prefetch" href="/Notebook/assets/js/117.d0907fb0.js"><link rel="prefetch" href="/Notebook/assets/js/118.3fb43a39.js"><link rel="prefetch" href="/Notebook/assets/js/119.ec92ea48.js"><link rel="prefetch" href="/Notebook/assets/js/12.29652b2c.js"><link rel="prefetch" href="/Notebook/assets/js/120.35ff1e70.js"><link rel="prefetch" href="/Notebook/assets/js/121.d8b18139.js"><link rel="prefetch" href="/Notebook/assets/js/122.648ffe96.js"><link rel="prefetch" href="/Notebook/assets/js/123.ed3b8b2f.js"><link rel="prefetch" href="/Notebook/assets/js/124.142abf67.js"><link rel="prefetch" href="/Notebook/assets/js/125.329314b8.js"><link rel="prefetch" href="/Notebook/assets/js/126.3a121da0.js"><link rel="prefetch" href="/Notebook/assets/js/127.022c6641.js"><link rel="prefetch" href="/Notebook/assets/js/128.547c2d5c.js"><link rel="prefetch" href="/Notebook/assets/js/129.ecb5273b.js"><link rel="prefetch" href="/Notebook/assets/js/13.fa32345e.js"><link rel="prefetch" href="/Notebook/assets/js/130.2a0d3a19.js"><link rel="prefetch" href="/Notebook/assets/js/131.c7a84d57.js"><link rel="prefetch" href="/Notebook/assets/js/132.07da823d.js"><link rel="prefetch" href="/Notebook/assets/js/133.f851d5af.js"><link rel="prefetch" href="/Notebook/assets/js/134.de309ceb.js"><link rel="prefetch" href="/Notebook/assets/js/135.0b83f289.js"><link rel="prefetch" href="/Notebook/assets/js/136.99ddbb8e.js"><link rel="prefetch" href="/Notebook/assets/js/137.9ce91c54.js"><link rel="prefetch" href="/Notebook/assets/js/138.d1e6c7df.js"><link rel="prefetch" href="/Notebook/assets/js/139.9e57818f.js"><link rel="prefetch" href="/Notebook/assets/js/14.e6b1fa67.js"><link rel="prefetch" href="/Notebook/assets/js/140.b97a7c8d.js"><link rel="prefetch" href="/Notebook/assets/js/141.db0d7e4b.js"><link rel="prefetch" href="/Notebook/assets/js/142.c9528ba0.js"><link rel="prefetch" href="/Notebook/assets/js/143.5cd17cfd.js"><link rel="prefetch" href="/Notebook/assets/js/144.c8a3236c.js"><link rel="prefetch" href="/Notebook/assets/js/145.ce3e815f.js"><link rel="prefetch" href="/Notebook/assets/js/146.5d5fdead.js"><link rel="prefetch" href="/Notebook/assets/js/147.7ca58039.js"><link rel="prefetch" href="/Notebook/assets/js/148.0528dfc6.js"><link rel="prefetch" href="/Notebook/assets/js/149.e219ef4f.js"><link rel="prefetch" href="/Notebook/assets/js/15.ede5e660.js"><link rel="prefetch" href="/Notebook/assets/js/150.367684ad.js"><link rel="prefetch" href="/Notebook/assets/js/151.bb7cc840.js"><link rel="prefetch" href="/Notebook/assets/js/152.50e2b443.js"><link rel="prefetch" href="/Notebook/assets/js/153.5143d68e.js"><link rel="prefetch" href="/Notebook/assets/js/154.5f75c4d5.js"><link rel="prefetch" href="/Notebook/assets/js/155.2c97d8c7.js"><link rel="prefetch" href="/Notebook/assets/js/156.04597855.js"><link rel="prefetch" href="/Notebook/assets/js/157.27a46ea1.js"><link rel="prefetch" href="/Notebook/assets/js/158.b0e54b34.js"><link rel="prefetch" href="/Notebook/assets/js/159.980a2077.js"><link rel="prefetch" href="/Notebook/assets/js/16.7cea63af.js"><link rel="prefetch" href="/Notebook/assets/js/160.dd7c4dd5.js"><link rel="prefetch" href="/Notebook/assets/js/161.076ac5ad.js"><link rel="prefetch" href="/Notebook/assets/js/162.49697d65.js"><link rel="prefetch" href="/Notebook/assets/js/163.022e5acc.js"><link rel="prefetch" href="/Notebook/assets/js/164.8ceaf7a5.js"><link rel="prefetch" href="/Notebook/assets/js/165.d613540e.js"><link rel="prefetch" href="/Notebook/assets/js/166.c0af31ff.js"><link rel="prefetch" href="/Notebook/assets/js/167.e42b9f57.js"><link rel="prefetch" href="/Notebook/assets/js/168.fa026739.js"><link rel="prefetch" href="/Notebook/assets/js/169.1f7e3137.js"><link rel="prefetch" href="/Notebook/assets/js/170.c4c1402a.js"><link rel="prefetch" href="/Notebook/assets/js/171.d1075313.js"><link rel="prefetch" href="/Notebook/assets/js/172.31ae23b8.js"><link rel="prefetch" href="/Notebook/assets/js/173.283df959.js"><link rel="prefetch" href="/Notebook/assets/js/174.8a34b9ed.js"><link rel="prefetch" href="/Notebook/assets/js/175.3678f179.js"><link rel="prefetch" href="/Notebook/assets/js/176.c26a8292.js"><link rel="prefetch" href="/Notebook/assets/js/177.783e1466.js"><link rel="prefetch" href="/Notebook/assets/js/178.9fa7eae4.js"><link rel="prefetch" href="/Notebook/assets/js/179.44544c8c.js"><link rel="prefetch" href="/Notebook/assets/js/18.dbdceb5d.js"><link rel="prefetch" href="/Notebook/assets/js/180.15b47c99.js"><link rel="prefetch" href="/Notebook/assets/js/181.73b4c3aa.js"><link rel="prefetch" href="/Notebook/assets/js/182.6a5b17a2.js"><link rel="prefetch" href="/Notebook/assets/js/183.28ec67b1.js"><link rel="prefetch" href="/Notebook/assets/js/184.2cccbd70.js"><link rel="prefetch" href="/Notebook/assets/js/185.de7fec26.js"><link rel="prefetch" href="/Notebook/assets/js/186.0932e1a1.js"><link rel="prefetch" href="/Notebook/assets/js/187.8c1730fc.js"><link rel="prefetch" href="/Notebook/assets/js/188.300dd277.js"><link rel="prefetch" href="/Notebook/assets/js/189.a1bee58b.js"><link rel="prefetch" href="/Notebook/assets/js/19.3d59d024.js"><link rel="prefetch" href="/Notebook/assets/js/190.7663ddc6.js"><link rel="prefetch" href="/Notebook/assets/js/191.7c824181.js"><link rel="prefetch" href="/Notebook/assets/js/192.e85118bd.js"><link rel="prefetch" href="/Notebook/assets/js/193.e954b79c.js"><link rel="prefetch" href="/Notebook/assets/js/194.f4adcdbc.js"><link rel="prefetch" href="/Notebook/assets/js/195.62735b27.js"><link rel="prefetch" href="/Notebook/assets/js/196.e0fafeec.js"><link rel="prefetch" href="/Notebook/assets/js/197.07c5e539.js"><link rel="prefetch" href="/Notebook/assets/js/198.cd686b20.js"><link rel="prefetch" href="/Notebook/assets/js/199.d51b40b4.js"><link rel="prefetch" href="/Notebook/assets/js/2.fa311fa4.js"><link rel="prefetch" href="/Notebook/assets/js/20.b4b2d322.js"><link rel="prefetch" href="/Notebook/assets/js/200.e245b2cd.js"><link rel="prefetch" href="/Notebook/assets/js/201.bd88542b.js"><link rel="prefetch" href="/Notebook/assets/js/202.6eefc25c.js"><link rel="prefetch" href="/Notebook/assets/js/203.98180f0d.js"><link rel="prefetch" href="/Notebook/assets/js/204.cb560045.js"><link rel="prefetch" href="/Notebook/assets/js/205.db965c26.js"><link rel="prefetch" href="/Notebook/assets/js/206.f692627d.js"><link rel="prefetch" href="/Notebook/assets/js/207.885fb929.js"><link rel="prefetch" href="/Notebook/assets/js/208.cb1bebca.js"><link rel="prefetch" href="/Notebook/assets/js/209.7dac81a0.js"><link rel="prefetch" href="/Notebook/assets/js/21.4c9bb6e4.js"><link rel="prefetch" href="/Notebook/assets/js/210.21121b1f.js"><link rel="prefetch" href="/Notebook/assets/js/211.cfd188b5.js"><link rel="prefetch" href="/Notebook/assets/js/212.c691e30a.js"><link rel="prefetch" href="/Notebook/assets/js/213.1a9a1f8d.js"><link rel="prefetch" href="/Notebook/assets/js/214.8c871f29.js"><link rel="prefetch" href="/Notebook/assets/js/215.7dd76ed3.js"><link rel="prefetch" href="/Notebook/assets/js/216.b9c6e46d.js"><link rel="prefetch" href="/Notebook/assets/js/217.bbb09b50.js"><link rel="prefetch" href="/Notebook/assets/js/218.3c93e6af.js"><link rel="prefetch" href="/Notebook/assets/js/219.735de793.js"><link rel="prefetch" href="/Notebook/assets/js/22.6908c05f.js"><link rel="prefetch" href="/Notebook/assets/js/220.3531b68a.js"><link rel="prefetch" href="/Notebook/assets/js/221.220d5f13.js"><link rel="prefetch" href="/Notebook/assets/js/222.9d0535e5.js"><link rel="prefetch" href="/Notebook/assets/js/223.f870f2a0.js"><link rel="prefetch" href="/Notebook/assets/js/224.0b56afa6.js"><link rel="prefetch" href="/Notebook/assets/js/225.cc5b31fd.js"><link rel="prefetch" href="/Notebook/assets/js/226.f4ee0adc.js"><link rel="prefetch" href="/Notebook/assets/js/227.eb919eea.js"><link rel="prefetch" href="/Notebook/assets/js/228.6a28f264.js"><link rel="prefetch" href="/Notebook/assets/js/229.2a8bf537.js"><link rel="prefetch" href="/Notebook/assets/js/23.afd0f5c6.js"><link rel="prefetch" href="/Notebook/assets/js/230.a2f5121e.js"><link rel="prefetch" href="/Notebook/assets/js/231.b10cb770.js"><link rel="prefetch" href="/Notebook/assets/js/232.ae7ad32a.js"><link rel="prefetch" href="/Notebook/assets/js/233.cca18966.js"><link rel="prefetch" href="/Notebook/assets/js/234.f9dd9c73.js"><link rel="prefetch" href="/Notebook/assets/js/235.c9a4bfbe.js"><link rel="prefetch" href="/Notebook/assets/js/236.61c4fb4d.js"><link rel="prefetch" href="/Notebook/assets/js/237.fed9e8fe.js"><link rel="prefetch" href="/Notebook/assets/js/238.86670bd9.js"><link rel="prefetch" href="/Notebook/assets/js/239.9ec3d9e2.js"><link rel="prefetch" href="/Notebook/assets/js/24.c1da07f8.js"><link rel="prefetch" href="/Notebook/assets/js/240.355da7ac.js"><link rel="prefetch" href="/Notebook/assets/js/241.f3420570.js"><link rel="prefetch" href="/Notebook/assets/js/242.ba7e4bd1.js"><link rel="prefetch" href="/Notebook/assets/js/243.2a52effa.js"><link rel="prefetch" href="/Notebook/assets/js/244.7f4499d8.js"><link rel="prefetch" href="/Notebook/assets/js/245.8574f4ac.js"><link rel="prefetch" href="/Notebook/assets/js/246.9b36bc23.js"><link rel="prefetch" href="/Notebook/assets/js/247.107c7608.js"><link rel="prefetch" href="/Notebook/assets/js/248.d8d1aa96.js"><link rel="prefetch" href="/Notebook/assets/js/249.00f19ac8.js"><link rel="prefetch" href="/Notebook/assets/js/25.d24012cb.js"><link rel="prefetch" href="/Notebook/assets/js/250.9b97127c.js"><link rel="prefetch" href="/Notebook/assets/js/251.7c05b25d.js"><link rel="prefetch" href="/Notebook/assets/js/252.b3ee0f29.js"><link rel="prefetch" href="/Notebook/assets/js/253.aac3e92c.js"><link rel="prefetch" href="/Notebook/assets/js/254.694f77fc.js"><link rel="prefetch" href="/Notebook/assets/js/255.7fc65b86.js"><link rel="prefetch" href="/Notebook/assets/js/256.f559aa7a.js"><link rel="prefetch" href="/Notebook/assets/js/257.3855a8f5.js"><link rel="prefetch" href="/Notebook/assets/js/258.0236288d.js"><link rel="prefetch" href="/Notebook/assets/js/259.4a65ba3f.js"><link rel="prefetch" href="/Notebook/assets/js/26.7a74bf43.js"><link rel="prefetch" href="/Notebook/assets/js/260.e110d77b.js"><link rel="prefetch" href="/Notebook/assets/js/261.6ca5e50b.js"><link rel="prefetch" href="/Notebook/assets/js/262.974a7503.js"><link rel="prefetch" href="/Notebook/assets/js/263.b93c02d1.js"><link rel="prefetch" href="/Notebook/assets/js/264.7e9188c1.js"><link rel="prefetch" href="/Notebook/assets/js/265.f68b4748.js"><link rel="prefetch" href="/Notebook/assets/js/266.04a71924.js"><link rel="prefetch" href="/Notebook/assets/js/267.256e6833.js"><link rel="prefetch" href="/Notebook/assets/js/268.18b52093.js"><link rel="prefetch" href="/Notebook/assets/js/269.ddca242f.js"><link rel="prefetch" href="/Notebook/assets/js/27.4af13b47.js"><link rel="prefetch" href="/Notebook/assets/js/270.c63a6e91.js"><link rel="prefetch" href="/Notebook/assets/js/271.9d5de52b.js"><link rel="prefetch" href="/Notebook/assets/js/272.b3d8fe27.js"><link rel="prefetch" href="/Notebook/assets/js/273.aac68402.js"><link rel="prefetch" href="/Notebook/assets/js/274.8b89191a.js"><link rel="prefetch" href="/Notebook/assets/js/275.c748ef07.js"><link rel="prefetch" href="/Notebook/assets/js/276.477c27a9.js"><link rel="prefetch" href="/Notebook/assets/js/277.1084dbc6.js"><link rel="prefetch" href="/Notebook/assets/js/278.98e8be2a.js"><link rel="prefetch" href="/Notebook/assets/js/279.61378737.js"><link rel="prefetch" href="/Notebook/assets/js/28.1f5903ad.js"><link rel="prefetch" href="/Notebook/assets/js/280.c2fda5bf.js"><link rel="prefetch" href="/Notebook/assets/js/281.4497cf31.js"><link rel="prefetch" href="/Notebook/assets/js/282.6b02e04d.js"><link rel="prefetch" href="/Notebook/assets/js/283.c579b5f7.js"><link rel="prefetch" href="/Notebook/assets/js/284.25f19977.js"><link rel="prefetch" href="/Notebook/assets/js/285.1567c42d.js"><link rel="prefetch" href="/Notebook/assets/js/286.8729eefe.js"><link rel="prefetch" href="/Notebook/assets/js/287.5109124c.js"><link rel="prefetch" href="/Notebook/assets/js/288.aff2f2a1.js"><link rel="prefetch" href="/Notebook/assets/js/289.11ee7f93.js"><link rel="prefetch" href="/Notebook/assets/js/29.9750e313.js"><link rel="prefetch" href="/Notebook/assets/js/290.a080d505.js"><link rel="prefetch" href="/Notebook/assets/js/291.8a62b81f.js"><link rel="prefetch" href="/Notebook/assets/js/292.8f2b2816.js"><link rel="prefetch" href="/Notebook/assets/js/293.a6073f5d.js"><link rel="prefetch" href="/Notebook/assets/js/294.8036aeb4.js"><link rel="prefetch" href="/Notebook/assets/js/295.4aaf6175.js"><link rel="prefetch" href="/Notebook/assets/js/296.22622ba4.js"><link rel="prefetch" href="/Notebook/assets/js/297.598bfede.js"><link rel="prefetch" href="/Notebook/assets/js/298.68edb938.js"><link rel="prefetch" href="/Notebook/assets/js/299.1f0f84fe.js"><link rel="prefetch" href="/Notebook/assets/js/3.0cb2ce57.js"><link rel="prefetch" href="/Notebook/assets/js/30.5fc87000.js"><link rel="prefetch" href="/Notebook/assets/js/300.9c7600af.js"><link rel="prefetch" href="/Notebook/assets/js/301.0d95fc30.js"><link rel="prefetch" href="/Notebook/assets/js/302.b923baab.js"><link rel="prefetch" href="/Notebook/assets/js/303.d20079b9.js"><link rel="prefetch" href="/Notebook/assets/js/304.12a70192.js"><link rel="prefetch" href="/Notebook/assets/js/305.4ea4d8da.js"><link rel="prefetch" href="/Notebook/assets/js/306.282edebe.js"><link rel="prefetch" href="/Notebook/assets/js/307.3a37e321.js"><link rel="prefetch" href="/Notebook/assets/js/308.9221f97f.js"><link rel="prefetch" href="/Notebook/assets/js/309.c7c3ca1a.js"><link rel="prefetch" href="/Notebook/assets/js/31.18d6f54f.js"><link rel="prefetch" href="/Notebook/assets/js/310.5dde0eb7.js"><link rel="prefetch" href="/Notebook/assets/js/311.819aad83.js"><link rel="prefetch" href="/Notebook/assets/js/312.c2037cae.js"><link rel="prefetch" href="/Notebook/assets/js/313.52ee9f6c.js"><link rel="prefetch" href="/Notebook/assets/js/314.d0105766.js"><link rel="prefetch" href="/Notebook/assets/js/315.02d1beff.js"><link rel="prefetch" href="/Notebook/assets/js/316.69816787.js"><link rel="prefetch" href="/Notebook/assets/js/317.22d3b673.js"><link rel="prefetch" href="/Notebook/assets/js/318.483e3b5e.js"><link rel="prefetch" href="/Notebook/assets/js/319.bc984d80.js"><link rel="prefetch" href="/Notebook/assets/js/32.4ebe70c0.js"><link rel="prefetch" href="/Notebook/assets/js/320.d023db3c.js"><link rel="prefetch" href="/Notebook/assets/js/321.909f7332.js"><link rel="prefetch" href="/Notebook/assets/js/322.3b32a676.js"><link rel="prefetch" href="/Notebook/assets/js/323.9eb049fd.js"><link rel="prefetch" href="/Notebook/assets/js/324.5eae3717.js"><link rel="prefetch" href="/Notebook/assets/js/325.c9aa7e97.js"><link rel="prefetch" href="/Notebook/assets/js/326.2ec27286.js"><link rel="prefetch" href="/Notebook/assets/js/327.1096ac53.js"><link rel="prefetch" href="/Notebook/assets/js/328.17578c44.js"><link rel="prefetch" href="/Notebook/assets/js/329.f6f1b4fc.js"><link rel="prefetch" href="/Notebook/assets/js/33.4c170b35.js"><link rel="prefetch" href="/Notebook/assets/js/330.b84e8b18.js"><link rel="prefetch" href="/Notebook/assets/js/331.2ce71bd6.js"><link rel="prefetch" href="/Notebook/assets/js/332.d49f1076.js"><link rel="prefetch" href="/Notebook/assets/js/333.18846963.js"><link rel="prefetch" href="/Notebook/assets/js/334.07d784aa.js"><link rel="prefetch" href="/Notebook/assets/js/335.b2d18495.js"><link rel="prefetch" href="/Notebook/assets/js/336.27d6fdac.js"><link rel="prefetch" href="/Notebook/assets/js/337.e3b8a4d6.js"><link rel="prefetch" href="/Notebook/assets/js/338.4e17425d.js"><link rel="prefetch" href="/Notebook/assets/js/339.ca72b051.js"><link rel="prefetch" href="/Notebook/assets/js/34.4137a6d9.js"><link rel="prefetch" href="/Notebook/assets/js/340.a9c58e42.js"><link rel="prefetch" href="/Notebook/assets/js/341.015e17e5.js"><link rel="prefetch" href="/Notebook/assets/js/342.883cb2ad.js"><link rel="prefetch" href="/Notebook/assets/js/343.26e0511c.js"><link rel="prefetch" href="/Notebook/assets/js/344.5437611f.js"><link rel="prefetch" href="/Notebook/assets/js/345.26f6e7c4.js"><link rel="prefetch" href="/Notebook/assets/js/346.f7a3f23f.js"><link rel="prefetch" href="/Notebook/assets/js/347.27ccd6a8.js"><link rel="prefetch" href="/Notebook/assets/js/348.eff0a33d.js"><link rel="prefetch" href="/Notebook/assets/js/349.dd942ff5.js"><link rel="prefetch" href="/Notebook/assets/js/35.36b834f7.js"><link rel="prefetch" href="/Notebook/assets/js/350.9128eb0c.js"><link rel="prefetch" href="/Notebook/assets/js/351.e26fffba.js"><link rel="prefetch" href="/Notebook/assets/js/352.59cc3f38.js"><link rel="prefetch" href="/Notebook/assets/js/353.3ad59a15.js"><link rel="prefetch" href="/Notebook/assets/js/354.544a13c0.js"><link rel="prefetch" href="/Notebook/assets/js/355.d5f7255f.js"><link rel="prefetch" href="/Notebook/assets/js/356.7efdf2cd.js"><link rel="prefetch" href="/Notebook/assets/js/357.0b296e32.js"><link rel="prefetch" href="/Notebook/assets/js/358.a532d695.js"><link rel="prefetch" href="/Notebook/assets/js/359.01fd142f.js"><link rel="prefetch" href="/Notebook/assets/js/36.4ef6c0d1.js"><link rel="prefetch" href="/Notebook/assets/js/360.c71cb25e.js"><link rel="prefetch" href="/Notebook/assets/js/361.db70e72e.js"><link rel="prefetch" href="/Notebook/assets/js/362.670b7527.js"><link rel="prefetch" href="/Notebook/assets/js/363.ef0b3005.js"><link rel="prefetch" href="/Notebook/assets/js/364.63c1df56.js"><link rel="prefetch" href="/Notebook/assets/js/37.b0f3cb5d.js"><link rel="prefetch" href="/Notebook/assets/js/38.2ca6e078.js"><link rel="prefetch" href="/Notebook/assets/js/39.77206fea.js"><link rel="prefetch" href="/Notebook/assets/js/40.18d76f1c.js"><link rel="prefetch" href="/Notebook/assets/js/41.ed792d7a.js"><link rel="prefetch" href="/Notebook/assets/js/42.b983e72e.js"><link rel="prefetch" href="/Notebook/assets/js/43.3cdbe61c.js"><link rel="prefetch" href="/Notebook/assets/js/44.a4c1a462.js"><link rel="prefetch" href="/Notebook/assets/js/45.727fa84a.js"><link rel="prefetch" href="/Notebook/assets/js/46.a5665d33.js"><link rel="prefetch" href="/Notebook/assets/js/47.45efede1.js"><link rel="prefetch" href="/Notebook/assets/js/48.24e8e78b.js"><link rel="prefetch" href="/Notebook/assets/js/49.c426b444.js"><link rel="prefetch" href="/Notebook/assets/js/5.89a78b31.js"><link rel="prefetch" href="/Notebook/assets/js/50.41038e45.js"><link rel="prefetch" href="/Notebook/assets/js/51.3c34459c.js"><link rel="prefetch" href="/Notebook/assets/js/52.6df1c335.js"><link rel="prefetch" href="/Notebook/assets/js/53.69e41130.js"><link rel="prefetch" href="/Notebook/assets/js/54.591891ed.js"><link rel="prefetch" href="/Notebook/assets/js/55.d8d5bf6e.js"><link rel="prefetch" href="/Notebook/assets/js/56.c43a3733.js"><link rel="prefetch" href="/Notebook/assets/js/57.2c24f33c.js"><link rel="prefetch" href="/Notebook/assets/js/58.15a5e91b.js"><link rel="prefetch" href="/Notebook/assets/js/59.20cda08a.js"><link rel="prefetch" href="/Notebook/assets/js/6.f66bffc9.js"><link rel="prefetch" href="/Notebook/assets/js/60.beb8a99d.js"><link rel="prefetch" href="/Notebook/assets/js/61.2313bfd8.js"><link rel="prefetch" href="/Notebook/assets/js/62.ae93bded.js"><link rel="prefetch" href="/Notebook/assets/js/63.c0de4f2c.js"><link rel="prefetch" href="/Notebook/assets/js/64.b42cacb6.js"><link rel="prefetch" href="/Notebook/assets/js/65.719a31bb.js"><link rel="prefetch" href="/Notebook/assets/js/66.5c0128e7.js"><link rel="prefetch" href="/Notebook/assets/js/67.6107a140.js"><link rel="prefetch" href="/Notebook/assets/js/68.ac7fc4fa.js"><link rel="prefetch" href="/Notebook/assets/js/69.122426ed.js"><link rel="prefetch" href="/Notebook/assets/js/7.fbf1f9ec.js"><link rel="prefetch" href="/Notebook/assets/js/70.66e6b252.js"><link rel="prefetch" href="/Notebook/assets/js/71.28956fa1.js"><link rel="prefetch" href="/Notebook/assets/js/72.fcf3fb10.js"><link rel="prefetch" href="/Notebook/assets/js/73.947d80fa.js"><link rel="prefetch" href="/Notebook/assets/js/74.1d9d59de.js"><link rel="prefetch" href="/Notebook/assets/js/75.bbe5b314.js"><link rel="prefetch" href="/Notebook/assets/js/76.d018671b.js"><link rel="prefetch" href="/Notebook/assets/js/77.fca59f83.js"><link rel="prefetch" href="/Notebook/assets/js/78.4a545e59.js"><link rel="prefetch" href="/Notebook/assets/js/79.a039fbdf.js"><link rel="prefetch" href="/Notebook/assets/js/8.c69b9065.js"><link rel="prefetch" href="/Notebook/assets/js/80.d203faaa.js"><link rel="prefetch" href="/Notebook/assets/js/81.d193c9f3.js"><link rel="prefetch" href="/Notebook/assets/js/82.4675ade1.js"><link rel="prefetch" href="/Notebook/assets/js/83.ee538b4f.js"><link rel="prefetch" href="/Notebook/assets/js/84.8962589d.js"><link rel="prefetch" href="/Notebook/assets/js/85.76922906.js"><link rel="prefetch" href="/Notebook/assets/js/86.ec43215f.js"><link rel="prefetch" href="/Notebook/assets/js/87.46322abb.js"><link rel="prefetch" href="/Notebook/assets/js/88.5594f40a.js"><link rel="prefetch" href="/Notebook/assets/js/89.7f421583.js"><link rel="prefetch" href="/Notebook/assets/js/9.e0bdbf17.js"><link rel="prefetch" href="/Notebook/assets/js/90.853bb5b2.js"><link rel="prefetch" href="/Notebook/assets/js/91.fa605797.js"><link rel="prefetch" href="/Notebook/assets/js/92.f770f194.js"><link rel="prefetch" href="/Notebook/assets/js/93.1f9e6fb6.js"><link rel="prefetch" href="/Notebook/assets/js/94.2260cf7f.js"><link rel="prefetch" href="/Notebook/assets/js/95.6b1244de.js"><link rel="prefetch" href="/Notebook/assets/js/96.39617d63.js"><link rel="prefetch" href="/Notebook/assets/js/97.e4b8e984.js"><link rel="prefetch" href="/Notebook/assets/js/98.85e69ce3.js"><link rel="prefetch" href="/Notebook/assets/js/99.e2930b98.js">
    <link rel="stylesheet" href="/Notebook/assets/css/0.styles.b1f38863.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Notebook/" class="home-link router-link-active"><!----> <span class="site-name">Naluduo's Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link">
  📝日常记录
</a></div><div class="nav-item"><a href="/Notebook/blogs/" class="nav-link">
  📖文章合集
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端知识体系" class="dropdown-title"><span class="title">前端知识体系</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/frontend-web/" class="nav-link">
  基础知识
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/web-framework/" class="nav-link">
  🐂web 框架
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/rethink/" class="nav-link">
  🤔复盘
</a></li><li class="dropdown-item"><h4>
          ️️🧘算法修炼
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Notebook/understand-the-computer/" class="nav-link">
  理解计算机
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/dataStructure.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/algorithm.html" class="nav-link">
  算法分类
</a></li><li class="dropdown-subitem"><a href="/Notebook/dataBase/index.html" class="nav-link">
  数据库
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Notebook/devops/" class="nav-link">
  ☁️运维
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/test/" class="nav-link">
  🚬测试
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/gis/" class="nav-link">
  🌍GIS
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/tools/" class="nav-link">
  ️️🖱️工具
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/network/" class="nav-link">
  ️️🐛网络工程
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/game-development/" class="nav-link">
  ️️🎮游戏开发
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-language/" class="nav-link">
  🚶编程语言
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-paradigm/" class="nav-link">
  编程范式
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  ✔️编码规范&amp;协同开发
</a></div><div class="nav-item"><a href="/Notebook/math/" class="nav-link">
  𝜋数学
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计" class="dropdown-title"><span class="title">设计</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/design/" class="nav-link">
  🖌️UI
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  🏷书签整理
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📖知识脑图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://naluduo.vip/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔧个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔗Github" class="dropdown-title"><span class="title">🔗Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/naluduo233" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Jecyu github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/language-learning/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英语学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Fe-Auto-Testing/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端自动化测试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/JS-Event-Loop/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JS 事件循环机制
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Web-Performance-Optimization/reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微谈 Web 前端性能优化
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link">
  📝日常记录
</a></div><div class="nav-item"><a href="/Notebook/blogs/" class="nav-link">
  📖文章合集
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端知识体系" class="dropdown-title"><span class="title">前端知识体系</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/frontend-web/" class="nav-link">
  基础知识
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/web-framework/" class="nav-link">
  🐂web 框架
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/rethink/" class="nav-link">
  🤔复盘
</a></li><li class="dropdown-item"><h4>
          ️️🧘算法修炼
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Notebook/understand-the-computer/" class="nav-link">
  理解计算机
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/dataStructure.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/algorithm.html" class="nav-link">
  算法分类
</a></li><li class="dropdown-subitem"><a href="/Notebook/dataBase/index.html" class="nav-link">
  数据库
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Notebook/devops/" class="nav-link">
  ☁️运维
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/test/" class="nav-link">
  🚬测试
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/gis/" class="nav-link">
  🌍GIS
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/tools/" class="nav-link">
  ️️🖱️工具
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/network/" class="nav-link">
  ️️🐛网络工程
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/game-development/" class="nav-link">
  ️️🎮游戏开发
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-language/" class="nav-link">
  🚶编程语言
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-paradigm/" class="nav-link">
  编程范式
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  ✔️编码规范&amp;协同开发
</a></div><div class="nav-item"><a href="/Notebook/math/" class="nav-link">
  𝜋数学
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计" class="dropdown-title"><span class="title">设计</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/design/" class="nav-link">
  🖌️UI
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  🏷书签整理
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📖知识脑图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://naluduo.vip/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔧个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔗Github" class="dropdown-title"><span class="title">🔗Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/naluduo233" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Jecyu github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/language-learning/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英语学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Fe-Auto-Testing/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端自动化测试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/JS-Event-Loop/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JS 事件循环机制
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Web-Performance-Optimization/reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微谈 Web 前端性能优化
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="可视化大屏项目总结（实战篇）"><a href="#可视化大屏项目总结（实战篇）" class="header-anchor">#</a> 可视化大屏项目总结（实战篇）</h1> <img src="/Notebook/assets/img/2021-03-15-16-32-33.9fd5f4cd.png" style="zoom:40%;"> <h2 id="_0-前言"><a href="#_0-前言" class="header-anchor">#</a> 0. 前言</h2> <img src="/Notebook/assets/img/2021-03-16-13-54-21.bf4709b0.png" style="zoom:30%;"> <p>大屏数据可视化目前主要有信息展示、数据分析及监控预警三大类</p> <ul><li>信息展示</li> <li>数据分析</li> <li>监控预警</li></ul> <p>二三维图表 + 二三维地图的交互数据展示系统。</p> <h2 id="_1-需求分析"><a href="#_1-需求分析" class="header-anchor">#</a> 1. 需求分析</h2> <ul><li>1、要求我们的大屏需要适配不同规格的屏幕（一楼、六楼的宽屏、二楼的三倍屏、市政府电视）</li> <li>2、要结合体检评估指标考虑应用效果；如，结合具体的业务，提供项目落地的依据，是否符合控规的产业布局落地要求，是否符合指标；</li> <li>3、要求数据展示方面和数据应用方面有创新性，考虑总规成果和三调现状的衔接，打造南宁系统的亮点；</li> <li>4、对于以后扩展的分析展示，形成固定的<strong>展示主题</strong>，以下拉菜单方式进行切换；</li> <li>5、结合业务场景，提供体检评估的<strong>实时分析展示</strong>，如某小区十五分钟公共配套覆盖率（缓冲范围）；</li> <li>6、考虑结合三维数据的展示应用，比如，三维报建的高度、日照、采光的分析。</li> <li>7、需要有演练功能，演练未来的建设情况，也可以看到过去的情况。</li></ul> <p>核心需求：数据 + 地图的大屏适配展示，UI 风格上显示为暗黑风格。</p> <p>样式主题自动切换。</p> <h3 id="接到需求怎么做"><a href="#接到需求怎么做" class="header-anchor">#</a> 接到需求怎么做</h3> <p>确认核心需求（信息展示），划分版本，技术选型与重难点整理。</p> <h4 id="版本管理"><a href="#版本管理" class="header-anchor">#</a> 版本管理</h4> <ul><li>版本 0.00 是一个hello,world程序</li> <li>版本0.01包含了可以工作的代码</li> <li>版本0.11是基本可以正常的版本</li></ul> <p>项目初版本时，版本号可以为 0.1 或 0.1.0, 也可以为 1.0 或 1.0.0，如果你为人很低调，我想你会选择那个主版本号为 0 的方式；</p> <ul><li><p>当项目在进行了局部修改或 bug 修正时，<strong>主版本号和子版本号都不变，修正版本号加 1</strong>；</p></li> <li><p>当项目在原有的基础上增加了部分功能时，<strong>主版本号不变，子版本号加 1，修正版本号复位为 0</strong>，因而可以被忽略掉；</p></li> <li><p>当项目在进行了重大修改或局部修正累积较多，而导致项目整体发生全局变化时，主版本号加 1</p></li></ul> <p>另外，编译版本号一般是编译器在编译过程中自动生成的，我们只定义其格式，并不进行人为控制</p> <h3 id="分支"><a href="#分支" class="header-anchor">#</a> 分支</h3> <ul><li>master 主分支</li> <li>dev 开发分支</li> <li>其他为 功能分支</li></ul> <h3 id="✅0-0-0"><a href="#✅0-0-0" class="header-anchor">#</a> ✅0.0.0</h3> <ul><li><p>[x] 初始化模版</p></li> <li><p>[x] 名称</p></li> <li><p>[x] 协议</p></li></ul> <h3 id="_0-0-1"><a href="#_0-0-1" class="header-anchor">#</a> 0.0.1</h3> <ul><li><p>[x] 整体项目结构、路由页面考虑、基本的界面结构、layout 层</p></li> <li><p>[x] 响应式适配所需的大屏幕显示，大屏尺寸的适配，目前按照标准屏进行设计，但需要考虑2倍、3倍屏（存在标准屏、二倍屏、三倍屏；具体尺寸带客户测量后提供）</p> <p>在引入地图前发布一个版本。0.0.1</p></li> <li><p>[x] 先行构建系统框架，设计自然资源界面，引入图表</p></li></ul> <h3 id="_0-1-0"><a href="#_0-1-0" class="header-anchor">#</a> 0.1.0</h3> <p>要达到的效果，主要展示<strong>指标类信息点和地理类信息点</strong>两大可视化数据。</p> <ul><li>[ ] 引入地图，二三维一体化，考虑三维地图框架的支持；</li> <li>[ ] 图表与地图联动</li> <li>[ ] 各大主题模块下，需要切换小主题；（如，自然资源下可选择林地小主题，或固定的分析功能）</li> <li>[ ] 编写好 README 文档</li></ul> <p>需要处理的事情</p> <ul><li>[ ] 大屏尺寸的可选适配</li> <li>[ ] 暗黑皮肤主题自定义</li> <li>[ ] 二三维一体化地图框架</li> <li>[ ] 功能主题的处理（路由这些）</li> <li>[ ] 数据可视化的前后端基本流程处理</li></ul> <img src="/Notebook/assets/img/2021-03-16-14-15-11.bc6f5f7a.png" style="zoom:50%;"> <p>人员配置</p> <ul><li>[ ] 需要与 UI 配合，切图以及主题色之类的处理（寻找下 DataV 阿里的设计交接），主要是用代码写不出的样式或动效</li> <li>[ ] 先使用 mock 数据，暂不需要后端介入。</li></ul> <p>个人目标</p> <ul><li>[ ] 设计模式：使用适配器模式/代理模式二三维一体</li> <li>[ ] 数据处理：原始数据到图像数据的开发流（设计模式和数据结构封装）</li> <li>[ ] 样式切换与响应式布局</li> <li>[ ] 插件化架构，插入 Arcgis API 可以被其他地图组件，比如超图替换。如何可以达到可插拨呢？
<ul><li>[ ] 比如直接换一个组件，也就是超图组件，就可以实现插件化了。这里的需求，不太适合插件化。可以把各个地图、比如超图，比如 Arcgis，先通过组件方式引进来。后续再考虑如何支持。需要更好的抽象。</li></ul></li> <li>[x] Vue3 和 TypeScript、使用 TSX 开发 Vue3（才有更好的类型提醒，<strong>TypeScript 原生支持 JSX 语法，而基本无望 TS 官方能支持 SFC 的 template 语法</strong>。）</li> <li>[ ] canvas 是否可以绘制背景框/图？</li></ul> <p>技术选型</p> <ul><li>UI 层 Antd-degisn-vue</li> <li>Vue 3.x 全家桶（理由，Composition API，以及对 TS 有更好的支持）</li> <li>Echarts 图表组件，使用 Vue-ECharts（支持 5.0），旧的项目 vue-echarts-v3 只支持 3.x 的 echart。需要对比下。</li> <li>Arcgis 4.12 地图（Echart）</li> <li>Webpack5</li> <li>TypeScript</li> <li>Grid 网格布局（需要研究）</li> <li>Sass</li> <li><del>Socket.IO 即时通信（这块后续）</del></li> <li><del>Three.js （后续可能需要）</del></li></ul> <h4 id="确立开发计划"><a href="#确立开发计划" class="header-anchor">#</a> 确立开发计划</h4> <p>目标：渲染其他指标数据，跑通一个图表的地图联动与指标数据联动。先打通一个图表。再考虑其他的u吧。</p> <table><thead><tr><th>6</th> <th>7</th> <th>8</th> <th>9</th></tr></thead> <tbody><tr><td>开发</td> <td>开发</td> <td>自然资源整体界面完善，指标动态、指标轮播，路由完善等</td> <td>部署到测试环境，考虑 CI&amp; CD 的实践，逐步实现，先把 常事把 gitlab ci 利用起来，比如版本的发布。比如可以先用实现把制品传递到测试环境。再说。</td></tr></tbody></table> <h3 id="_1-0-0"><a href="#_1-0-0" class="header-anchor">#</a> 1.0.0</h3> <ul><li>[x] 响应式适配所需的大屏幕显示</li> <li>[ ] 图表与地图能够联动</li> <li>[ ] 地理飞线、三维光</li></ul> <h3 id="_1-0-1"><a href="#_1-0-1" class="header-anchor">#</a> 1.0.1</h3> <ul><li>[ ] 具有主题的概念</li></ul> <h2 id="_2-设计实现"><a href="#_2-设计实现" class="header-anchor">#</a> 2. 设计实现</h2> <p>参考二三维一体化思维导图</p> <p>轮询法，看看哪种适合。</p> <ul><li>各种数据结构和设计模式</li> <li>架构模式</li></ul> <p>实现方式：单独实现的系统 || 基于现在的系统底层支持（这个就考虑原有系统的支持和改造）。</p> <p>**先单独实现的系统，demo 展示，可以作为一个模版放到 xcli 去。**再提交到开源。先实现。</p> <p>Vue、Echart、Arcgis。</p> <p>需要固定屏幕比例。（这块是自己不熟悉的地方，所谓大屏的屏幕如何适配）。</p> <p>通过按钮切换，多种屏幕大小和比例，代码读取。</p> <p>是否要把系统作为单独的考虑，</p> <p>嵌入式：</p> <p>使用 iframe，前提下是考虑当前的系统的权限问题的等。其实是否嵌入式进去。等比缩放，会有点问题的。</p> <p>如果是直接在原系统使用，样式上可能会有影响。</p> <p>单独使用 iframe 就好。</p> <h3 id="_2-1-整体架构设计"><a href="#_2-1-整体架构设计" class="header-anchor">#</a> 2.1 整体架构设计</h3> <h3 id="_2-2-整体项目结构、路由页面考虑、基本的界面结构、layout-层，跑通主体"><a href="#_2-2-整体项目结构、路由页面考虑、基本的界面结构、layout-层，跑通主体" class="header-anchor">#</a> 2.2 整体项目结构、路由页面考虑、基本的界面结构、layout 层，跑通主体</h3> <p>先主体，后局部</p> <p>路由</p> <ul><li>首页</li> <li>自然资源</li> <li>空间规划</li> <li>监测预警</li> <li>实施评估</li></ul> <p>layout 层对应二级路由，在 layout 里面的 router-view 对应二级路由的三级路由。比如</p> <ul><li>首页 / - home 组件</li> <li>zrzy - layout 组件</li> <li>zrzy/default - layout 下的 default.component</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app-main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app-main-header<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value">headerStyle</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">@mouseenter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleMouseEnter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mainHeader<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Header</span>
        <span class="token attr-name">:system-list</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>systemList<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:sub-system-list</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>subSystemList<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@on-change-page</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>changePage<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app-main-con<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- 显示 default 路由页面 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="路由跳转-路由菜单高亮"><a href="#路由跳转-路由菜单高亮" class="header-anchor">#</a> 路由跳转&amp;路由菜单高亮</h4> <p>各个路由的 name 要唯一。</p> <h4 id="路由菜单获取"><a href="#路由菜单获取" class="header-anchor">#</a> 路由菜单获取</h4> <h6 id="非权限下考虑"><a href="#非权限下考虑" class="header-anchor">#</a> 非权限下考虑</h6> <h6 id="权限下考虑"><a href="#权限下考虑" class="header-anchor">#</a> 权限下考虑</h6> <h6 id="基线的处理"><a href="#基线的处理" class="header-anchor">#</a> 基线的处理</h6> <h3 id="_2-3-多屏幕分辨率适配"><a href="#_2-3-多屏幕分辨率适配" class="header-anchor">#</a> 2.3 多屏幕分辨率适配</h3> <h5 id="前置知识"><a href="#前置知识" class="header-anchor">#</a> 前置知识</h5> <p>显示器</p> <ul><li>屏幕像素</li> <li>CSS 像素</li> <li>物理像素</li> <li>分辨率</li></ul> <p>CSS 知识点</p> <ul><li>vw/vh</li> <li>rem</li></ul> <h5 id="实施监督系统标准屏的-rem-适配方案是怎么处理"><a href="#实施监督系统标准屏的-rem-适配方案是怎么处理" class="header-anchor">#</a> 实施监督系统标准屏的 rem 适配方案是怎么处理</h5> <ol><li>获得固定的设计稿尺寸比如 1920，设置 html 的 font-size 为 1vw（把屏幕分为 100 份），计算出 1 rem 为 19.2px，设置容器宽度为 19.2rem，高度为 10.8 rem。</li> <li>在放大窗口的过程，window 宽度为 3600，此时的 1 rem 为 36px，那么容器宽度为 3600rem。</li></ol> <p>具体处理：</p> <p>一般的 rem 方案，全局处理。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 1vw<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">html,
body</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>px2rem 进行设置。</p> <p>另一种是 smart-rem 加 postcss-auto-rem</p> <p>优势：smart-rem 自动完成rem值计算，posts-auto-rem自动将 px 编译成rem。两者的计算比例完美相合 劣势：两个包结合使用，而无需手工撸码，也无需多余配置。工程化最佳，大大提高了开发效率。</p> <p>上面两种设置中，这里的设计的确可以适应 1920 x 1080 下的屏幕体系，当换到别的屏幕比例下，比如 3600 ： 900，由于这个时候的比例是 36:9，跟原来的比例 192:108 是不一致的。因此按照原来固定 19.2 计算出来的值，在 36: 9 的屏幕比例下，整体上的元素布局是会变形的。</p> <p>如下图所示：</p> <img src="/Notebook/assets/img/2021-03-18-17-08-39.21c26383.png" style="zoom:25%;"> <p>缺点：不适应不同比例的浏览器屏幕。</p> <h5 id="方案一：采用等比例缩放（先采用这种方案）"><a href="#方案一：采用等比例缩放（先采用这种方案）" class="header-anchor">#</a> 方案一：采用等比例缩放（先采用这种方案）</h5> <img src="/Notebook/assets/img/2021-03-18-17-17-57.ec635404.png" style="zoom:35%;"> <p>在浏览器中显示页面，会涉及以下三种尺寸，为了避免后续搞混，这里提前声明下。</p> <p><strong>三种尺寸</strong>：原始设计稿尺寸、页面/文档尺寸（Web 页面尺寸）、屏幕物理显示尺寸（通常为浏览器 window 窗口的尺寸）。</p> <p><del><strong>在三种尺寸，在多种屏比例中，这里的原始设计稿尺寸也就是屏幕物理显示尺寸，两者为一物。因为跟原始的静态设计稿不一样，这里的动态设计稿尺寸也就是屏幕尺寸</strong>（后续说到的设计稿尺寸，也就是浏览器 window 窗口的尺寸。）</del></p> <p>3月 19 晚上 ，前面的一句话是自己误解了，补充：设计稿尺寸，跟屏幕的尺寸是不可一谈的，如果改变输入的设计尺寸为屏幕，是会导致初始的图形发生变形的。</p> <p><img src="/Notebook/assets/img/2021-03-19-23-04-43.0002ef13.png" alt=""></p> <p>比如 1920 x 1080 的设计稿下，这些图形是比例 4:3 的长方形，刻意把它改为 36:9的情况，这些长方形就会变为 4：1 的比例了。因此，要适应多种屏幕尺寸的话，</p> <p>一是不变形的，两边可能会有留白。（PS：考虑用点东西填补两边空白，或新增一些隐藏元素，只有留白时，才会出现，当然这个就需要考虑更多的情况处理了。）</p> <p><img src="/Notebook/assets/img/2021-03-19-23-03-13.a26bc23f.png" alt=""></p> <p>二是变形，通过输入设计稿的比例为屏幕尺寸，这样的变形有一定的处理。比如 1920 x 1080 的设计稿下，这些图形是比例 4:3 的长方形，刻意把它改为 36:9的情况，这些长方形就会变为 4：1 的比例，相当于在元素不变的情况下，把原稿拉长，并且压扁。（<strong>这就是所谓的多屏适配，带来的问题。比例不同。等比例方案难以适配</strong>）。这个输入屏幕尺寸的处理，其实就是 <strong>「scratch 模式」</strong>，宽度和高度都为屏幕的一半。因此，<strong>实际上只需要提供 contain 和 cover、scratch 三种方式给用户，看用户看哪种方式比较顺眼了</strong>。</p> <p><img src="/Notebook/assets/img/2021-03-19-23-02-35.97fdcbdb.png" alt=""></p> <p>因此，有以下公式。</p> <ol><li><strong>为了保证原始设计稿尺寸与页面文档尺寸保持等比例不变形</strong>。因此有以下公式：</li></ol> <p>**page H /pageW   = designH/desginW **。</p> <ol start="2"><li><p>文档尺寸与屏幕物理尺寸</p> <ul><li>拉伸模式（也就是不出现滚动条），让页面文档的尺寸的宽度、高度完全等于浏览器窗口的尺寸。</li> <li>cover 模式，文档内容宽高比不变、铺满整个容器的宽度，多出的部分则会被裁掉，可能会出现滚动条。考虑设计稿尺寸宽高一般不相等（屏幕也不像以前是正方形的），因此先保证文档尺寸的一边等于固定容器也就是浏览器窗口的一边，等比例求出另外一边。
<ul><li>页面文档宽度设置为与浏览器窗口宽度相等，高度设置为 pageW *designH   /desginW</li> <li>页面文档高度与浏览器窗口宽度相等，宽度设置为 pageH * designW / designH</li></ul></li> <li>contain 模式，文档内容宽高比不变，缩放至整个窗口，文档内容能完全显示出来，可能会有留白区域，不出现滚动条。
<ul><li>页面文档宽度与浏览器窗口宽度相等，高度设置为 pageW *designH   /desginW</li> <li>页面文档高度与浏览器窗口宽度相等，宽度设置为 pageH * designW / designH</li></ul></li></ul></li> <li><p>可以看到 cover 模式和 contain 模式的处理逻辑基本一致，后面再讨论他们之间的区别。现在都要面临一个问题，那就是文档尺寸可能为 LandScape，也可能为Potrait。</p></li></ol> <img src="/Notebook/assets/img/2021-03-19-11-12-00.bb47b592.png" style="zoom:35%;"> <p>按照前面所说，如果固定一边的话，会出现这种情况：在屏幕为 Portrait 的情况下，设置宽度为 100%，那么有可能会出现文档为 Portrati 显示不全。如果设置高度为 100%，有可能出现 LandScape 的文档宽度看不到。</p> <img src="/Notebook/assets/img/2021-03-19-11-18-07.9a4f51d4.png" style="zoom:50%;"> <p>因此，我们需要判断当前的文档尺寸是否为 Landscape，如果是 Landscape 的话，就设置文档内容宽度 100%，否则设置文档内容高度为 100%。这样我们只需要判断，设计稿尺寸的宽度与高度的对比即可。</p> <p>Q：为什么需要进行比例判断呢？这样更加精确？（后续再理解，遗留问题。）</p> <ul><li><p>浏览器窗口显示比例 pageRatio = pageW/pageH，设计稿尺寸显示比例 designRatio = Cfg.designW / Cfg.designH;</p></li> <li><p><strong>isLandScape = pageRatio &gt; designRation</strong>;</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code></code></pre> <div class="line-numbers-wrapper"></div></div></li></ul> <p>&amp;.contain {
&amp;.landscape {
width: 100%; /* 设置宽度为浏览器窗口的宽度，高度按比例计算*/
}
&amp;:not(.landscape) {  /* 设置高度为浏览器窗口的宽度，宽度按比例计算*/
height: 100%;
}
}
&amp;.cover {
&amp;.landscape {
height: 100%;
}
&amp;:not(.landscape) {
width: 100%;
}
}
```</p> <div class="language- extra-class"><pre><code> 在确定了按照宽度，还是按照高度来进行缩放好。

  contain 模式 和 cover 模式 的区别：
 
 从图上，得出区别。
</code></pre></div><img src="/Notebook/assets/img/2021-03-19-22-42-05.c3abd3a7.png" style="zoom:45%;"> <h6 id="计算比例"><a href="#计算比例" class="header-anchor">#</a> 计算比例</h6> <ul><li></li> <li></li> <li><ul><li></li> <li></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span>Cfg<span class="token punctuation">.</span>zoomMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&quot;contain&quot;</span><span class="token operator">:</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>isWider<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              $container<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>width<span class="token operator">:</span> pageH <span class="token operator">*</span> Cfg<span class="token punctuation">.</span>designW <span class="token operator">/</span> Cfg<span class="token punctuation">.</span>designH<span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              $container<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>height<span class="token operator">:</span> pageW <span class="token operator">*</span> Cfg<span class="token punctuation">.</span>designH <span class="token operator">/</span> Cfg<span class="token punctuation">.</span>designW<span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          scale <span class="token operator">=</span> isWider <span class="token operator">?</span> scaleH <span class="token operator">:</span> scaleW<span class="token punctuation">;</span> <span class="token comment">// 在 contain 模式下，如果是 Portrait 的话，则采用高度的比例。</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">'cover'</span><span class="token operator">:</span>
          <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;html,body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'overflow'</span><span class="token punctuation">,</span> <span class="token string">'initial'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>isWider<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              $container<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>height<span class="token operator">:</span> pageW <span class="token operator">*</span> Cfg<span class="token punctuation">.</span>designH <span class="token operator">/</span> Cfg<span class="token punctuation">.</span>designW<span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              $container<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>width<span class="token operator">:</span> pageH <span class="token operator">*</span> Cfg<span class="token punctuation">.</span>designW <span class="token operator">/</span> Cfg<span class="token punctuation">.</span>designH<span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          scale <span class="token operator">=</span> isWider <span class="token operator">?</span> scaleW <span class="token operator">:</span> scaleH<span class="token punctuation">;</span> <span class="token comment">// 在 cover 模式下，如果是 Portrait 的话，则采用宽度的比例。</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">'stretch'</span><span class="token operator">:</span>
          scale <span class="token operator">=</span> isWider <span class="token operator">?</span> scaleH <span class="token operator">:</span> scaleW<span class="token punctuation">;</span>
          $container<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>width<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>height<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;font-size&quot;</span><span class="token punctuation">,</span> scale <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;opacity&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></li></ul> <p>有两种情况：</p> <ol><li>设置页面<strong>容器高度</strong>为实际显示屏幕宽度的 100%，宽度则为屏幕实际高度 page高度 * 输入的设计稿尺寸宽度 / 输入设计稿尺寸高度。</li></ol> <p><strong>具体流程</strong>：</p> <p><strong>缩放原理</strong>：是通过计算页面和原始尺寸的比例，控制 html 的 fontSize 来进行所有元素的尺寸缩放，元素尺寸单位用 rem。</p> <p>核心代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span>pageH<span class="token punctuation">,</span> pageW<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> isWider <span class="token operator">=</span> pageW <span class="token operator">/</span> pageH <span class="token operator">&gt;</span> Cfg<span class="token punctuation">.</span>designW <span class="token operator">/</span> Cfg<span class="token punctuation">.</span>designH<span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>scaleW<span class="token punctuation">,</span> scaleH<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>pageW <span class="token operator">/</span> Cfg<span class="token punctuation">.</span>designW<span class="token punctuation">,</span> pageH <span class="token operator">/</span> Cfg<span class="token punctuation">.</span>designH<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> $container <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#container&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>isWider<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $container<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>width<span class="token operator">:</span> pageH <span class="token operator">*</span> Cfg<span class="token punctuation">.</span>designW <span class="token operator">/</span> Cfg<span class="token punctuation">.</span>designH<span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    $container<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>height<span class="token operator">:</span> pageW <span class="token operator">*</span> Cfg<span class="token punctuation">.</span>designH <span class="token operator">/</span> Cfg<span class="token punctuation">.</span>designW<span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
scale <span class="token operator">=</span> isWider <span class="token operator">?</span> scaleH <span class="token operator">:</span> scaleW<span class="token punctuation">;</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;font-size&quot;</span><span class="token punctuation">,</span> scale <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;opacity&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>对于不同比例的屏幕适应，页面上的元素排版是一致的。比如 1920：1080 和 36: 9 这两种比例下的屏幕显示的元素布局是一样的，只不过会根据高度和宽度来进行放大或缩小的。</p> <img src="/Notebook/assets/img/2021-03-15-16-32-33.9fd5f4cd.png" style="zoom:40%;"> <p><strong>优点</strong>：最简单的处理，不用考虑不同屏幕下的元素重新排。</p> <p><strong>缺点</strong>：可能出现两边空白的情况（使用 contain 方式）</p> <p>留白问题，先实现标准屏。其他比例，比如两倍屏和三倍屏的留白问题，需要提前告知。</p> <p><strong>进一步优化思路</strong>：要真正实现多屏适配，避免出现多倍屏空白问题，就需要设个多个设计稿，代码层面根据不同的设计尺寸，在满足等比例情况下，再进行对应元素的布局加减处理。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Default&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 自然资源</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">pagesize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> settings <span class="token operator">=</span> <span class="token punctuation">{</span>
        designW<span class="token operator">:</span> <span class="token number">1920</span><span class="token punctuation">,</span> <span class="token comment">// 设计稿尺寸，也就是输入的屏幕尺寸</span>
        designH<span class="token operator">:</span> <span class="token number">1080</span><span class="token punctuation">,</span> <span class="token comment">// 虽然可以这样输入，适应的屏幕尽量比例一致</span>
        zoomMode<span class="token operator">:</span> <span class="token string">&quot;contain&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> pageH <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>
      <span class="token keyword">const</span> pageW <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>
      <span class="token keyword">const</span> isWider <span class="token operator">=</span> pageW <span class="token operator">/</span> pageH <span class="token operator">&gt;</span> settings<span class="token punctuation">.</span>designW <span class="token operator">/</span> settings<span class="token punctuation">.</span>designH<span class="token punctuation">;</span>
      <span class="token keyword">const</span> <span class="token punctuation">[</span>scaleW<span class="token punctuation">,</span> scaleH<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        pageW <span class="token operator">/</span> settings<span class="token punctuation">.</span>designW<span class="token punctuation">,</span>
        pageH <span class="token operator">/</span> settings<span class="token punctuation">.</span>designH
      <span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> $container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#container&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> $html <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> $body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> scale <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>settings<span class="token punctuation">.</span>zoomMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&quot;contain&quot;</span><span class="token operator">:</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hhh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>isWider<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">(</span>$container <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span>
              <span class="token punctuation">(</span>pageH <span class="token operator">*</span> settings<span class="token punctuation">.</span>designW<span class="token punctuation">)</span> <span class="token operator">/</span> settings<span class="token punctuation">.</span>designH<span class="token punctuation">;</span>
            <span class="token punctuation">(</span>$container <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token punctuation">(</span>$container <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span>
              <span class="token punctuation">(</span>pageW <span class="token operator">*</span> settings<span class="token punctuation">.</span>designH<span class="token punctuation">)</span> <span class="token operator">/</span> settings<span class="token punctuation">.</span>designW<span class="token punctuation">;</span>
            <span class="token punctuation">(</span>$container <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          scale <span class="token operator">=</span> isWider <span class="token operator">?</span> scaleH <span class="token operator">:</span> scaleW<span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;cover&quot;</span><span class="token operator">:</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>isWider<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">(</span>$container <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span>
              <span class="token punctuation">(</span>pageW <span class="token operator">*</span> settings<span class="token punctuation">.</span>designH<span class="token punctuation">)</span> <span class="token operator">/</span> settings<span class="token punctuation">.</span>designW<span class="token punctuation">;</span>
            <span class="token punctuation">(</span>$container <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token punctuation">(</span>$container <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span>
              <span class="token punctuation">(</span>pageH <span class="token operator">*</span> settings<span class="token punctuation">.</span>designW<span class="token punctuation">)</span> <span class="token operator">/</span> settings<span class="token punctuation">.</span>designH<span class="token punctuation">;</span>
            <span class="token punctuation">(</span>$container <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          scale <span class="token operator">=</span> isWider <span class="token operator">?</span> scaleW <span class="token operator">:</span> scaleH<span class="token punctuation">;</span>
          <span class="token comment">// 支持滚动查看</span>
          <span class="token punctuation">(</span>$html <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">&quot;initial&quot;</span><span class="token punctuation">;</span>
          <span class="token punctuation">(</span>$body <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">&quot;initial&quot;</span><span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;stretch&quot;</span><span class="token operator">:</span>
          scale <span class="token operator">=</span> isWider <span class="token operator">?</span> scaleH <span class="token operator">:</span> scaleW<span class="token punctuation">;</span>
          <span class="token punctuation">(</span>$container <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">;</span>
          <span class="token punctuation">(</span>$container <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token punctuation">(</span>$html <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> scale <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">(</span>$html <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">pagesize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> pagesize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">render</span><span class="token punctuation">(</span>


    
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>default<span class="token punctuation">}</span> id<span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>row<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle1<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle2<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle3<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle4<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>row<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle1<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle2<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle3<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle4<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>row<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle1<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle2<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle3<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle4<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>row<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle1<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle2<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle3<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span>css<span class="token punctuation">.</span>triangle4<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br></div></div><p>最后，需要安装插件自动把系统中的 px 转为 rem 值。（这个后面完善）</p> <ul><li>针对系统开发编写的</li> <li>针对第三方组件库编写的，比如 antd-design-vue</li></ul> <h5 id="方案二：grid-媒体查询"><a href="#方案二：grid-媒体查询" class="header-anchor">#</a> 方案二：Grid + 媒体查询</h5> <p>复杂繁琐，不一定效果，需要和 UI 考虑屏幕区间，元素的摆放和大小。别的公司有用到这套。翰阳。</p> <h5 id="其他待考虑到的方案"><a href="#其他待考虑到的方案" class="header-anchor">#</a> 其他待考虑到的方案</h5> <h3 id="_2-4-皮肤主题支持"><a href="#_2-4-皮肤主题支持" class="header-anchor">#</a> 2.4 皮肤主题支持</h3> <h4 id="常规没支持主题切换的项目"><a href="#常规没支持主题切换的项目" class="header-anchor">#</a> 常规没支持主题切换的项目</h4> <p>在 styles 文件声明一些变量、全局样式、mixins，在 vue 组件的 style 标签中注入一些变量就基本搞定样式的处理了，接下来按照规范实现即可。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    // *给 sass-loader 传递选项*

​          sass: {

​            data: `@import &quot;@/styles/index.scss&quot;;`

        },
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>其实传统的项目也会支持主题切换的，只不过是离线层面的主题切换，在确保好开发者都使用定义的变量。然后在需要时，把对应的主题变量进行更改即可。</p> <p>如果用户在线的支持比较的难，可以先支持离线的处理。</p> <h4 id="整体样式"><a href="#整体样式" class="header-anchor">#</a> 整体样式</h4> <p>字体</p> <p>icon</p> <p>颜色</p> <p>图片</p> <ul><li>品牌色</li> <li>功能色</li> <li>中性色</li></ul> <h5 id="sass-样式组织和使用"><a href="#sass-样式组织和使用" class="header-anchor">#</a> Sass 样式组织和使用</h5> <p>主要考虑以下两点内容：</p> <ol><li>公共样式的声明与使用、覆盖</li></ol> <p>单独在 styles 文件夹下进行维护，然后注入到全局内，在 <code>main.ts</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token string">&quot;@/styles/index.scss&quot;</span> <span class="token comment">// 引入全局样式</span>
<span class="token comment">// @import &quot;../styles/cores/option.scss&quot;;  使用 @ 时，vscode 无法识别跳转到那个文件，相对路径则可以，但是如果移动文件夹，这个位置也要改变。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用方式：</p> <p>1）组件自定义样式，如果要用到  style 定义的变量，mixins，则可以 import 方式导入进来：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@import</span> <span class="token string">&quot;@/styles/cores/option.scss&quot;</span><span class="token punctuation">;</span></span>
<span class="token selector">.layout</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> $primary-color<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>2）另外一种方式就是在 vue.config.js 全局注入到组件的 scss 样式中（待验证），这种方式的好处开发者不用依次每个组件导入。坏处是，其他 review 时定位到对应的文件，有点难，只能全局搜索寻找。</p> <ol start="2"><li>组件自定义样式</li></ol> <p>开发流程：全局样式都写在 <code>src/styles</code> 目录下，每个页面自己对应的样式都写在自己组件文件夹的 <code>.vue</code> 文件之中，或者写在 index.module.scss 中。</p> <h5 id="图片使用"><a href="#图片使用" class="header-anchor">#</a> 图片使用</h5> <p>图片存放的地方</p> <p>src/assets/</p> <p>图片使用的地方</p> <ul><li>Template/TSX</li> <li>样式文件中</li></ul> <div class="language-scss line-numbers-mode"><pre class="language-scss"><code><span class="token selector">.layout </span><span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url">url</span><span class="token punctuation">(</span><span class="token string">&quot;../assets/background.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 编译为 background: url(/img/background.2dad2100.png); 实际打包输出的路径</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>如果使用 @ 会导致路径找不到，需要额外处理。打包时，没有对样式文件中的 @ 做处理，必须通过相对路径引入。详情见 vuecli 文档  参考文档：https://cli.vuejs.org/zh/guide/html-and-static-assets.html#%E5%A4%84%E7%90%86%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90</p> <h5 id="layout-层的适配"><a href="#layout-层的适配" class="header-anchor">#</a> Layout 层的适配</h5> <p>背景</p> <ol><li>通过 rem 设置好 padding，#app 容器居中处理</li> <li>body 设置为蓝底色，后续可以研究绘制出对应的表格。</li> <li>设置 #app 的背景图为以下，后续根据第 2 点的处理后，进行拆解为更灵活的处理。</li></ol> <img src="/Notebook/assets/img/2021-03-23-15-30-09.921b7d6a.png" style="zoom:80%;"> <h5 id="主体布局"><a href="#主体布局" class="header-anchor">#</a> 主体布局</h5> <h6 id="切割布局"><a href="#切割布局" class="header-anchor">#</a> 切割布局</h6> <ul><li>header</li> <li>sidebar</li> <li>main</li></ul> <h6 id="层叠布局"><a href="#层叠布局" class="header-anchor">#</a> 层叠布局</h6> <p>main 主体下</p> <h4 id="主题"><a href="#主题" class="header-anchor">#</a> 主题</h4> <p>理想的效果，一般主题皮肤包括以下方面：</p> <ul><li>字体</li> <li>icon</li> <li>颜色</li> <li>图片</li> <li>更复杂的，布局方式</li> <li>更复杂的，则是交互的体验（比如王者，买了皮肤的英雄，出的招式都会变化。）</li></ul> <p>最优先需要支持的便是「颜色层面」。而换个颜色，区别是看颗粒度的大小。指标系统的颗粒度比较大，一些许的大颜色。我们的颗粒度比较小，是整体风格的，比如暗黑风格，一些按钮，地图工具，地图图表整体上的考虑。「<strong>而颜色下，还有考虑到主色、圆角、边框和部分组件的视觉定制</strong>。」</p> <p>可能会遇到的问题：</p> <ol><li>系统主题色改变，依赖的 UI 组件库、Echarth 表、地图库渲染等这些主题能否一同改变，如何做到呢？</li></ol> <p>先实现系统的风格，再实现第三方 UI 库同步风格处理。</p> <h4 id="解决方案"><a href="#解决方案" class="header-anchor">#</a> 解决方案</h4> <p>检视阅读。</p> <p>考核指标：</p> <ul><li><p>主题的实现，我们往往需要了解业务特性，去寻找最合适的解决方案。不同项目，有不同的实现方式，但目标都是为了提高项目的可维护性、可扩展性，以及降低接入复杂度。</p></li> <li><p>不仅仅考虑到实现效果，目标客户。还要考虑到内层的用户，也就是开发者用户（也就是团队维度）。后期如何快速新增主题，减少代码量。</p></li></ul> <h5 id="方案一-prop-下发-theme"><a href="#方案一-prop-下发-theme" class="header-anchor">#</a> 方案一 prop 下发 theme</h5> <p>原理：定义<code>theme</code>参数，通过<code>prop</code>下发，子组件根据<code>theme</code>来动态绑定<code>style</code>的方式实现</p> <h5 id="方案二-ajax-注入-dom"><a href="#方案二-ajax-注入-dom" class="header-anchor">#</a> 方案二 ajax 注入 DOM</h5> <p>原理：通过<code>Ajax</code>获取<code>css，</code>，然后其中的颜色变了，再通过 <code>style</code> 标签将演示插入 DOM</p> <h5 id="方案三-变量动态编译"><a href="#方案三-变量动态编译" class="header-anchor">#</a> 方案三 变量动态编译</h5> <p>原理：使用可以在浏览器上直接运行的<code>less</code>，通过传入变量动态编译。</p> <h5 id="方案四-控制-body"><a href="#方案四-控制-body" class="header-anchor">#</a> 方案四 控制 body</h5> <p>原理：给所有<code>css</code>选择器加一个样式名的类选择器，并把这个类名绑定到<code>body</code>元素上，然后通过<code>DOM API</code>来动态切换主题。</p> <p>大概了解下几种方案，再来实现。</p> <h5 id="方案五-webpack-插件"><a href="#方案五-webpack-插件" class="header-anchor">#</a> 方案五 webpack 插件</h5> <h5 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h5> <ul><li><a href="https://juejin.cn/post/6844904016892133383#heading-0" target="_blank" rel="noopener noreferrer">实现Vue项目主题切换<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h4 id="图表引入"><a href="#图表引入" class="header-anchor">#</a> 图表引入</h4> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// *引入 echarts*</span>

<span class="token keyword">import</span> ECharts <span class="token keyword">from</span> <span class="token string">&quot;vue-echarts&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> use <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;echarts/core&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// *// 手动引入 ECharts 各模块来减小打包体积*</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> CanvasRenderer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;echarts/renderers&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> BarChart<span class="token punctuation">,</span> PieChart <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;echarts/charts&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> GridComponent<span class="token punctuation">,</span> TooltipComponent<span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;echarts/components&quot;</span><span class="token punctuation">;</span>

<span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">[</span>CanvasRenderer<span class="token punctuation">,</span> BarChart<span class="token punctuation">,</span> PieChart<span class="token punctuation">,</span> GridComponent<span class="token punctuation">,</span> TooltipComponent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>可以定制主题，让 UI 去定制，这样开发更便捷。也满足要求。</p> <h3 id="_2-5-引入地图，二三维一体化，考虑三维地图框架的支持"><a href="#_2-5-引入地图，二三维一体化，考虑三维地图框架的支持" class="header-anchor">#</a> 2.5 引入地图，二三维一体化，考虑三维地图框架的支持</h3> <h4 id="主体处理"><a href="#主体处理" class="header-anchor">#</a> 主体处理</h4> <p>达到的效果：</p> <ul><li>能够随时切换三维，能够同步三维数据。</li></ul> <p>在南宁弄的二三维不是很像适配器模式，因为没有调用二维地图时，直接使用的二维地图的组件。</p> <p>点击三维视图时，直接使用的三维地图组件。</p> <ul><li>D3-map</li> <li>D2-map</li> <li>Map 作为统一入口</li></ul> <p>消费者组件使用 Map 组件，Map 组件根据消费者的需求，返回 D2-Map 或 D3-Map 组件。</p> <h4 id="适配器设计模式"><a href="#适配器设计模式" class="header-anchor">#</a> 适配器设计模式</h4> <ul><li>源角色</li> <li>适配器角色</li> <li>目标角色</li></ul> <p><img src="/Notebook/assets/img/2021-03-25-13-50-21.0882d2d8.png" alt=""></p> <p>源角色可以是调用 Map 组件的外部组件，比如它调用二维目标角色，就可以通过适配器角色返回二维目标角色。假如要调用三维目标角色，就可以通过适配器返回三维目标角色。这样的解释不够合理。（适配器角色没有继承源角色，也没有实现目标角色的接口。）</p> <p>前面的大场景不符合适配器设计模式。前端的树结构渲染等，很多时候都处理后台的数据以符合树组件的数据结构，便使用了适配器。</p> <p>Map 作为适配器基础了源角色，这块可以看下 axios 是如何应用适配器模式的。</p> <p>什么时候应用到适配器模式呢，<strong>那就是「同步数据和视图」这块就用到了适配器设计模式，二维的坐标系转三维，三维转二维。图层的处理，通过多个数据格式化工具进行处理</strong>。</p> <p>或者说，baidumap.show() 和 googleMap.display()，使用适配器基础百度地图，重新实现 googleMap 。</p> <p>那么，主体的架构用到了什么设计模式呢，那就是简单的工厂模式。</p> <p>。</p> <p><img src="/Notebook/assets/img/2021-04-09-11-15-37.25d350fe.png" alt=""></p> <p><img src="/Notebook/assets/img/2021-04-09-14-28-55.986ce97d.png" alt=""></p> <p>需求：二维</p> <p>变换装置：</p> <p>实际：三维</p> <p>适配器模式主要用在二三维数据的转换和同步。更深层的适配，不仅仅是代理一个接口命名。</p> <p>对前端来说，而是数据层面的适配，比如 Vue 的计算属性、常见的树结构平铺、axios 的适配。https://www.yuque.com/wubinhp/uxiv5i/bnnkns#033e3a46</p> <p>外部 Map 调用适配器 adapter 提供的 getD2Layer 和 getD3Layer ，而 adaptee 只有当前的混合图层，也就是只有 getLayers。</p> <p>特殊情况：这里的 adaptee 的状态是动态变化的，图层数据的增删改。</p> <h4 id="中介者设计模式"><a href="#中介者设计模式" class="header-anchor">#</a> 中介者设计模式</h4> <p>主要体现在切换二维与三维视图时，都通过 Map 组件进行数据的处理。</p> <p>还有就是把当前地图的 map、mapView 放到 Vuex 里，这里的 vuex 就是中介者。</p> <h4 id="代理设计模式"><a href="#代理设计模式" class="header-anchor">#</a> 代理设计模式</h4> <p><strong>注意事项：</strong> 1、和适配器模式的区别：适配器模式主要改变所考虑对象的接口，而代理模式不能改变所代理类的接口。 2、和装饰器模式的区别：装饰器模式为了增强功能，而代理模式是为了加以控制。</p> <p>应用： 1、远程代理。 2、虚拟代理。 3、Copy-on-Write 代理。 4、保护（Protect or Access）代理。 5、Cache代理。 6、防火墙（Firewall）代理。 7、同步化（Synchronization）代理。 8、智能引用（Smart Reference）代理。</p> <p>访问 Map，Map 负责实例化生成 d2-map 或 d3-map。</p> <p>只<strong>能说类似代理设计模式，但没有严格上的。因为 Map 组件和 d2-map 并没有定义相同的接口（这个没必要，要不然所有的都要这样处理）</strong>。况且 map 是视图组件类型，共同的接口就是 display ，也就是视图这块显示出来。也算是代理设计模式了。</p> <ul><li>Proxy（Map）</li> <li>Subject</li> <li>RealSubject（d2-map、d3-map）</li></ul> <p>而 Map 根据情况渲染 d2-map，或则 d3-map，动态组件。</p> <p>其他的应用：</p> <p>这里可以考虑代理访问，直接使用 $refs 访问。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">/**
     * @description: 获得当前渲染的视图组件
     * @param {*}
     * @return {*}
     */</span>
    <span class="token function">getViewComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>renderDynamicComponent<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="简单工厂模式（比较符合）"><a href="#简单工厂模式（比较符合）" class="header-anchor">#</a> 简单工厂模式（比较符合）</h4> <p>传递不同的参数，比如 d2 或 d3，实例化生成不同的组件。至于切换时，就通过 props 传递函数参数，让 map 获得数据，进行处理后，再传递给 d3。</p> <blockquote><p>参考资料：https://www.codenong.com/j5ddfbedd6fb9a071975/，这种是 react 的传递函数做法，vue 的确可以直接采用 emit 的，只不过传递函数的话，对于参数有比较好的提醒作用。</p></blockquote> <p>所以，对于数据的同步处理，通过函数传递比较灵活。至于其他事件，则可以通过 emit /on 处理。</p> <p>至于外部的事件，是否需要给 map 设置  v-on=&quot;$listeners&quot; v-bind=&quot;$attrs&quot; 这两个东西来把 map 的 props 传递给 d2map/d3map，或者把 d2map/d3map 传递给外部呢。</p> <p>有没有必要这样处理呢？比如地图加载完成这个事件，是否需要直接传递到外部去呢？还是说中间中转一层比较好一点。既然做了 Map 中间处理层， 就不应该再过多传递到外部？</p> <p>this.$listener 读取该组件上获取的监听器，然后再监听到 <code>&lt;component&gt;&lt;/component&gt;</code> 组件上来，同理 this.$attrs 获取该组件上外部赋予的属性，再传递到 <code>&lt;component&gt;</code> 子组件上来。（通过 react 的写法，这两个东西就一目了然。）</p> <p>外部使用 Map.vue</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Map</span> <span class="token attr-name">@on-xxxx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>xxxx<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:xxxx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>xxxx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Map</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Map.vue</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>renderDynamicComponent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>activeComponent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@on-switch-view</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onSwitchView<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$listeners<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">:layers</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewLayers<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:viewpoint</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>activeViewPoint<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>它的缺点是会让组件的状态来源变得不可控，从哪里获取的 props，以及从哪里处理的，开发者难以寻找来源。但它还是能解决一定的问题，比如 d2map 有多个 emit 事件时，这个时候就可以用。（后面再看怎么优化）</p> <ul><li>map
<ul><li>d2map</li> <li>d3map</li></ul></li></ul> <p>至于统一的 map ，外部传递到 vuex 即可。</p> <h4 id="其他设计模式（需要考虑）"><a href="#其他设计模式（需要考虑）" class="header-anchor">#</a> 其他设计模式（需要考虑）</h4> <p>如果外部要获取 d2-map 的实例，直接通过 vuex 来获取这样更好，地图工具栏会使用到。每个系统加载时，都会初始化 vuex 上保存的唯一值。图表工具需要使用 Map 对象的话，直接可以从 vuex 中获取 state 状态。</p> <h5 id="问题"><a href="#问题" class="header-anchor">#</a> 问题</h5> <p>特殊的情况：既然作为 Map 组件，那就可以同时渲染实例化多个地图。这个时候 vuex 的值以哪个为准呢，特别是说两个地图都有工具栏的，这块就得</p> <p>如果同时存在多个地图组件的话，这个工具栏对地图组件的依赖，其实可以通过外部 prop 传递进来。这样就不会跟 vuex 绑死了。后续再思考。</p> <p>如何同时保持外部能够使用，又能保持独立性进行覆盖呢？</p> <p>三维到二维，这里存储的 map 也要改变的。不能给地图组件一直引用着。</p> <h4 id="实现步骤"><a href="#实现步骤" class="header-anchor">#</a> 实现步骤</h4> <h5 id="地图-api-引入"><a href="#地图-api-引入" class="header-anchor">#</a> 地图 api 引入</h5> <h6 id="传统的处理"><a href="#传统的处理" class="header-anchor">#</a> 传统的处理</h6> <p>直接把 css 和 js 添加到 html 里面</p> <h6 id="通过-esri-loader"><a href="#通过-esri-loader" class="header-anchor">#</a> 通过 esri-loader</h6> <ol><li>读取配置文件 的 arcgisUrl，传入 Vue.use 里面</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 初始化地图</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Map<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  load<span class="token operator">:</span> <span class="token punctuation">{</span>
    arcgisUrl<span class="token operator">:</span> <span class="token constant">ARCGISURL</span> <span class="token comment">// 传入地址</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="2"><li>Map 插件：</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> loadCss<span class="token punctuation">,</span> loadScript <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;esri-loader&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 动态构建 style 和 script 标签进行加载</span>
<span class="token keyword">import</span> lazyValue <span class="token keyword">from</span> <span class="token string">&quot;@/utils/lazyValue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">DEFAULTURL</span> <span class="token operator">=</span> <span class="token string">&quot;http://52.82.69.134:18080/dgp_js_api412&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Map <span class="token keyword">from</span> <span class="token string">&quot;./map.vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">loadEyeMapApi</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// await loadEchartsArcGISApi();</span>
  <span class="token keyword">const</span> jsUrl <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">&quot;/init.js&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> cssUrl <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">&quot;/esri/css/main.css&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token function">loadCss</span><span class="token punctuation">(</span>cssUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> jsUrl
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 异步加载 arcgis api</span>
<span class="token keyword">const</span> <span class="token function-variable function">makeEyeMapApiPromiseLazy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">options<span class="token operator">:</span> <span class="token punctuation">{</span> load<span class="token operator">:</span> <span class="token punctuation">{</span> arcgisUrl<span class="token operator">:</span> string <span class="token punctuation">}</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> load <span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onApiLoaded</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;api has loaded&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>load<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> arcgisUrl <span class="token operator">=</span> <span class="token constant">DEFAULTURL</span> <span class="token punctuation">}</span> <span class="token operator">=</span> load<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">lazyValue</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
          <span class="token function">loadEyeMapApi</span><span class="token punctuation">(</span>arcgisUrl<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>onApiLoaded<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> install<span class="token operator">:</span> <span class="token function-variable function">any</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token parameter">Vue<span class="token operator">:</span> any<span class="token punctuation">,</span>
  options<span class="token operator">:</span> <span class="token punctuation">{</span> load<span class="token operator">:</span> <span class="token punctuation">{</span> arcgisUrl<span class="token operator">:</span> string <span class="token punctuation">}</span> <span class="token punctuation">}</span></span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>install<span class="token punctuation">.</span>installed<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

  install<span class="token punctuation">.</span>installed <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> eyeMapApiPromiseLazy <span class="token operator">=</span> <span class="token function">makeEyeMapApiPromiseLazy</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$eyeMapApiPromiseLazy <span class="token operator">=</span> eyeMapApiPromiseLazy<span class="token punctuation">;</span>
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;eye-map&quot;</span><span class="token punctuation">,</span> Map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> plugin <span class="token operator">=</span> <span class="token punctuation">{</span> install <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> plugin<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><ol start="3"><li>然后在客户使用处，初始化调用 this.$eyeMapApiPromiseLazy 进行加载即可。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">D2Map</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$eyeMapApiPromiseLazy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;$eyeMapApiPromiseLazy -&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// this.init();</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>如果在这里没有加载依赖的 arcgis 的 css 和 js api，那么在加载模块时 esri-loader 内部会进行判断，如果没有加载就会默认加载 4.18 的 api。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>   <span class="token keyword">const</span> <span class="token punctuation">{</span>
      Map<span class="token punctuation">,</span>
      MapView<span class="token punctuation">,</span>
      Basemap<span class="token punctuation">,</span>
      <span class="token comment">// TileLayer,</span>
      MapImageLayer
    <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">loadModules</span><span class="token punctuation">(</span>
      <span class="token string">&quot;esri/Map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/views/MapView&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/Basemap&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// &quot;esri/layers/TileLayer&quot;,</span>
      <span class="token string">&quot;esri/layers/MapImageLayer&quot;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// esri 内部</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h5 id="map-组件"><a href="#map-组件" class="header-anchor">#</a> Map 组件</h5> <ul><li>prop
<ul><li>layerOptions</li></ul></li></ul> <h6 id="layeroption"><a href="#layeroption" class="header-anchor">#</a> layerOption</h6> <ul><li><p>不需要 viewType，在三维或二维的加载，只需要判断图层的类型和叠加类型，图层的坐标系，即可判断当前图层在三维或二维能否加载了。</p> <ul><li>普通的 loadType + 坐标系
<ul><li>如果图层具有缓存（切片），比如 4524 具 可以在二维中以切片方式加载，在三维中以动态方式加载。</li> <li>如果图层没有缓存（切片），则在二维与三维中都可以直接动态形式加载</li></ul></li> <li>Scene、Elevation 的 loadType 只能添加到三维，并且坐标系相同。如果不提供坐标系，就从图层 url 中获取。（通过适配器剔除）</li></ul></li> <li><p>LayerOption 新建实体 id，所有图层的配置都要经过 LayerOption 实例化。</p> <ul><li>需要保证不重复加载同一个图层 URL 加载到地图中，因此要保证 id 唯一性。</li> <li>如何保证添加到地图中的图层 id 唯一性，又能实现开发者可以根据一定的规则通过 id 把图层取出来。因为 guid 是无法是实现后者的。</li> <li>Id = url，直接用 url 作为唯一 id，处理 graphicLayer 外，其他的图层实例化都需要 url 的。就是有多个子图层。</li></ul> <p>可以给地图图层 id ，使用 url 作为前缀，后面再添加 guid 即可。这样就保证唯一性，如果开发者想要获取相同的图层的话，只需要批评前缀即可。</p> <p>这个规则需要特别说明的。如果没有 url，比如 graphicLayer 的，它的 id 组成也是用户输入的 id 标准。url + guid() + 用户自定义的三部分组成。约定大于配置。</p> <p><code>https://xxxx_guid_mylayerId</code>，如果 url 为空，则为 guid_customLayer 。</p> <p>这样匹配可能会有点问题，比如 <code>&quot;http://52.82.69.134:16080/arcgis/rest/services/XZQH/BJDT/MapServer_22cd8bf9-a1e7-45d6-b45a-640198778cab_layer_guid_1&quot;</code> 跟 <code>https:&quot;http://52.82.69.134:16080/arcgis/rest/services/XZQH/BJDT/MapServer/0_22cd8bf9-a1e7-45d6-b45a-640198778cab_layer_guid_1&quot;</code></p> <p>如果通过包含来判断 url，那么这两个图层都属于同一个地图服务下的。真要匹配也行，就是通过分隔符 <code>_</code> 来正则获取 url。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code> serverList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">option<span class="token operator">:</span> LayerOption</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> findItem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mapObj<span class="token punctuation">.</span>allLayers<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">layer<span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        layer<span class="token punctuation">.</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>option<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>findItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果存在则不用添加，直接开启 visible</span>
        findItem<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> layerClass <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token punctuation">.</span>loadType <span class="token operator">===</span> ELayerLoadType<span class="token punctuation">.</span>mapImage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          layerClass <span class="token operator">=</span> MapImageLayer<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token punctuation">.</span>loadType <span class="token operator">===</span> ELayerLoadType<span class="token punctuation">.</span>tield<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          layerClass <span class="token operator">=</span> TileLayer<span class="token punctuation">;</span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;图层类型不存在&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">const</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">layerClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          id<span class="token operator">:</span> option<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
          loadType<span class="token operator">:</span> option<span class="token punctuation">.</span>loadType<span class="token punctuation">,</span>
          opacity<span class="token operator">:</span> option<span class="token punctuation">.</span>opacity<span class="token punctuation">,</span>
          visible<span class="token operator">:</span> option<span class="token punctuation">.</span>visible<span class="token punctuation">,</span>
          stackType<span class="token operator">:</span> option<span class="token punctuation">.</span>stackType<span class="token punctuation">,</span>
          url<span class="token operator">:</span> option<span class="token punctuation">.</span>url
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mapObj<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></li></ul> <h6 id="图层-loading"><a href="#图层-loading" class="header-anchor">#</a> 图层 loading</h6> <ul><li>封装为 Promise，如何管理好 loading 状态</li></ul> <p>多个</p> <h5 id="d2map"><a href="#d2map" class="header-anchor">#</a> D2Map</h5> <ul><li>工具类
<ul><li>图层增删改查</li> <li>要素增删改查</li> <li>要素绘制</li></ul></li></ul> <h3 id="_2-6-获取指标系统数据"><a href="#_2-6-获取指标系统数据" class="header-anchor">#</a> 2.6 获取指标系统数据</h3> <ul><li>需要用户的信息</li> <li>同源，能够获取 cookie 登录信息</li></ul> <p>参考指标系统，调用 http://52.82.69.134:18080/dgp-ims-web/ims/rest/v1/login/sso 调用这个接口进行单点登录判断，即可获得用户的信息。也就可以获取到指标系统数据的接口，</p> <p>看数据的复杂度如何，当前是否需要后端帮忙处理。</p> <p>临时方案：先使用写死的指标数据。</p> <h4 id="数据与图表自适应读取渲染"><a href="#数据与图表自适应读取渲染" class="header-anchor">#</a> 数据与图表自适应读取渲染</h4> <p>没考虑下钻的情况下：</p> <p>饼图，一维</p> <ul><li>Key：名称（挑选一列的值作为每份显示的名称）</li> <li>value：数值/百分比（挑选一列的值作为每份大小的计算依赖）</li></ul> <p>柱状图</p> <ul><li>key：名称（通常位于水平轴，挑选一列作为 x 轴名称显示）</li> <li>value：数值/百分比（挑选一列作为y 轴显示）</li></ul> <p>表格</p> <ul><li>多个列（维度）</li></ul> <p>根据数据的特征，来表明当前可以适配的图表。</p> <p>先通过：通过JSON数据，快速配置图形报表。</p> <p>获得的原始数据通常都是二维列表。</p> <p>后续 Review 学习数据可视化 BI 平台：</p> <ul><li><p>数据与图表的映射</p></li> <li><p>如何拖拽生成</p> <p>01 通过JSON数据，快速配置图形报表</p> <p>02 通过SQL数据，快速配置图形报表</p> <p>03 图表模板配置，实现不同数据源图表合并展示</p> <p>04 图表布局，支持单排、双排、组合、TAB</p></li></ul> <p>由于 UI 没确定，暂时难以考虑复用的问题。先直接写到图表数据里去。</p> <h3 id="_2-7-获取主系统地图服务信息"><a href="#_2-7-获取主系统地图服务信息" class="header-anchor">#</a> 2.7 获取主系统地图服务信息</h3> <ul><li>能否直接获取用户的登录信息，如果是在从主系统页面打开的话，这样就可以利用到主系统配置的地图服务。</li> <li>或者写死使用管理员登录，可以先提供一个登录认证，用于获取地图服务信息。</li></ul> <p>参考指标系统，调用 http://52.82.69.134:18080/dgp-ims-web/ims/rest/v1/login/sso 调用这个接口进行单点登录判断，即可获得用户的信息。也就可以获取到地图服务。</p> <p>地图服务不要挂在某个系统下，而是挂在通用服务的获取下。</p> <h3 id="_2-8-地图与图表联动"><a href="#_2-8-地图与图表联动" class="header-anchor">#</a> 2.8 地图与图表联动</h3> <p>目标：渲染其他指标数据，跑通一个图表的地图联动与指标数据联动。先打通一个图表联动。</p> <p>A：地图服务和数据可以先通过 json 进行配置，可以快速把效果弄起来。</p> <p>B：调用指标系统也可以的，通过后端处理指标数据，并且让这些指标数据能够与地图服务关联起来，考虑名称、id 等。这样开发周期需要多两天。可以先用 A 计划，让领导看下先。</p> <p>实体之间的关联关系是怎么的，架构交互状态图，领域驱动</p> <p>指标</p> <ul><li>年份</li></ul> <p>地图服务</p> <ul><li></li></ul> <p>指标与地图服务是一对一的关系，关联键是什么？</p> <p>流程图</p> <div class="language-fl line-numbers-mode"><pre class="language-text"><code>初始化加载所有指标数据和地图数据
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>UML 图</p> <p>echart5 的 dataset 比 echart4 更灵活了。</p> <h4 id="地图组件存放问题"><a href="#地图组件存放问题" class="header-anchor">#</a> 地图组件存放问题</h4> <ul><li>是否每个子页面都需要维护不同的地图信息</li> <li>是否需要保留上一个页面的地图信息，比如自然资源和实施评估的。目</li> <li>居于目前考虑，整个系统应用只需要保留一个 map 组件。</li></ul> <p>什么时候存储到 vuex 上，什么时候进行读取。</p> <p>地图组件尽量不依赖 vuex，vuex 的交接由 smart 组件去处理。</p> <p>在地图组件可以通过 $emit 出去，外部组件使用时，获得 @ 监听后，再传递到 vuex 上来。目前 vuex 只需存一个，这个共享模式也涉及到设计模式。</p> <p>在 map.view(xxx) 回调时进行存储，并发布</p> <h2 id="_3-问题杂锦"><a href="#_3-问题杂锦" class="header-anchor">#</a> 3. 问题杂锦</h2> <h3 id="css-module"><a href="#css-module" class="header-anchor">#</a> CSS Module</h3> <p>无法在 scss 中组合样式类，compose 没识别。</p> <h3 id="typescript"><a href="#typescript" class="header-anchor">#</a> TypeScript</h3> <p>依照 Echart 等经验，这块需要在大屏严格执行起来。总结相关的检查点，复合标准的 TypeScript 项目。避免优点没用上，反而降低开发效率。</p> <p>需要好好总结下。</p> <p>这块声明主要在基础组件，以及业务组件的后端接口数据声明上来。</p> <h3 id="请求封装类-react-query-的-vue-解决方案"><a href="#请求封装类-react-query-的-vue-解决方案" class="header-anchor">#</a> 请求封装类 React-Query 的 vue 解决方案</h3> <p>详细见：用 React Query 来管理数据请求https://zhuanlan.zhihu.com/p/261146977</p> <h2 id="vue-3-降级-vue2"><a href="#vue-3-降级-vue2" class="header-anchor">#</a> Vue 3 降级 Vue2</h2> <ol><li>vue2 全家桶</li> <li>UI 组件库也用回 2，考虑用 quark</li> <li>TS 不改变，这样修改的成本小一点。使用 class 风格，跟 react 更加的类似，后续跟 vue3 的 defineProperty 函数也更符合。修改的成本更低一点。</li></ol> <p>维护性能，以及 Template 模版。</p> <p>使用</p> <ul><li>vue-property-decorator</li> <li>vuex-module-decorators</li> <li>vue-class-component</li></ul> <p>而 <code>vue-property-decorator</code> 正是基于此而来，它在此基础上增加了装饰器相关的功能，因此它也同时拥有 <code>vue-class-component</code> 的功能。</p> <ul><li>@vue/composition-api 针对插件 vue-echart</li> <li>需要安装 vue-template-compiler 针对单文件组件编译</li></ul> <ol start="4"><li>vue2 挂载后，是直接把 #app 替换为挂载的组件。而 vue3 会把挂载的组件 append 进 app 中。</li></ol> <h3 id="使用-vue2-ts-类风格，不需要响应式的数据如何处理？"><a href="#使用-vue2-ts-类风格，不需要响应式的数据如何处理？" class="header-anchor">#</a> 使用 vue2 + TS 类风格，不需要响应式的数据如何处理？</h3> <h3 id="是否继续使用-css-module-还是回到-vue-scoped-上来？能否找到最佳实践？"><a href="#是否继续使用-css-module-还是回到-vue-scoped-上来？能否找到最佳实践？" class="header-anchor">#</a> 是否继续使用 CSS module 还是回到 vue scoped 上来？能否找到最佳实践？</h3> <ol><li>已经用了 CSS module 的，就先保留，后续新的还是用 vue scoped 来处理。OK。</li> <li>CSS Module 更加适合于后端模版使用，一些比较简单的设计稿，比如博客平台。</li></ol> <p>或者两者结合，原子类可以放到 CSS Module 上来，至于其他的，则可以放到 scoped 上。</p> <h2 id="render-vs-template"><a href="#render-vs-template" class="header-anchor">#</a> Render vs Template</h2> <h3 id="性能上的对比"><a href="#性能上的对比" class="header-anchor">#</a> 性能上的对比</h3> <p>vue 框架特别针对 Template 做了优化，比如哪些是动态节点，哪些是静态节点等。</p> <p>而 render 是运行时，缺失相应的优化。</p> <h3 id="内置组件的使用"><a href="#内置组件的使用" class="header-anchor">#</a> 内置组件的使用</h3> <h4 id="使用-render-无法使用动态组件"><a href="#使用-render-无法使用动态组件" class="header-anchor">#</a> 使用 Render 无法使用动态组件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">renderRealMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>viewType <span class="token operator">===</span> <span class="token string">&quot;d2&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>d2<span class="token operator">-</span>map
          onMapReady<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleMapReady</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          onMapViewChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleMapViewChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>d2<span class="token operator">-</span>map<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>d3<span class="token operator">-</span>map
          onMapReady<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleMapReady</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          onMapViewChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleMapViewChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>d3<span class="token operator">-</span>map<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;map&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderRealMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>Template.vue</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>renderDynamicComponent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>activeComponent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@on-switch-view</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onSwitchView<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$listeners<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">:layers</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewLayers<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:viewpoint</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>activeViewPoint<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>显然当动态组件很多时，使用 template 写法更清晰。</p> <h4 id="过渡组件是否可以使用"><a href="#过渡组件是否可以使用" class="header-anchor">#</a> 过渡组件是否可以使用</h4> <h2 id=""><a href="#" class="header-anchor">#</a></h2> <h3 id="内置指令的使用"><a href="#内置指令的使用" class="header-anchor">#</a> 内置指令的使用</h3> <h2 id="_4-总结"><a href="#_4-总结" class="header-anchor">#</a> 4. 总结</h2> <h2 id="参考资料-2"><a href="#参考资料-2" class="header-anchor">#</a> 参考资料</h2> <ul><li><p><a href="https://juejin.cn/post/6844903518180999176#heading-2" target="_blank" rel="noopener noreferrer">一个炫酷大屏展示页的打造过程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://juejin.cn/post/6844903958415327246#comment" target="_blank" rel="noopener noreferrer">React数据大屏的应用实践<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://github.com/yyhsong/iDataV" target="_blank" rel="noopener noreferrer">iDataV<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="http://www.woshipm.com/pd/1782868.html" target="_blank" rel="noopener noreferrer">超全面设计指南：如何做大屏数据可视化设计？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.phodal.com/blog/how-to-build-a-opensource-project/" target="_blank" rel="noopener noreferrer">开源之美：开源软件开发流程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://mp.weixin.qq.com/s/8GvZetosiFJmZ1n3ZLfxNA" target="_blank" rel="noopener noreferrer">自适应布局最佳实践<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://juejin.cn/post/6858545114130841607#heading-12" target="_blank" rel="noopener noreferrer">Antd Vue + Highcharts 实现数据大屏<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://panjiachen.github.io/vue-element-admin-site/zh/" target="_blank" rel="noopener noreferrer">vue-element-admin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://zhuanlan.zhihu.com/p/41423006" target="_blank" rel="noopener noreferrer">常用设计模式在前端开发中的应用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/19/2021, 1:19:02 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/Notebook/assets/js/app.accc6ad4.js" defer></script><script src="/Notebook/assets/js/4.2708dfb6.js" defer></script><script src="/Notebook/assets/js/17.b7ca32be.js" defer></script>
  </body>
</html>
